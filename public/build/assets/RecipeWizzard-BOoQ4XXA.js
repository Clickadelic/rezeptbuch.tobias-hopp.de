import{r as C,j as m,a as Po,L as ko,b as To}from"./app-BcDQgk_z.js";import{c as Y,u as oe,a as Zt,b as at,B as Ee}from"./button-B8LqQxzN.js";import{I as Ne}from"./InputLabel-C1ITJrL6.js";import{T as nt}from"./InputError-_iSzmapb.js";import{r as jn}from"./index-Dg1tuIJn.js";import{c as yt,u as In,a as st,b as Pn,d as wt,e as be,f as kn,A as Yt,P as J,g as X,h as Te,i as Xt,V as Do,j as Mo,k as Jt,l as en,m as tn,n as nn,D as rn,o as Tn,p as Dn,q as Mn,r as Oo,s as it,t as Fo,T as Uo,v as Lo,w as Bo,x as Ho}from"./Footer-DLZ5ymeY.js";import{c as lt}from"./createLucideIcon-BZM5B7O4.js";import{a as Ot,b as xn,c as bn,G as zo}from"./index-1pX42M-P.js";import{b as $o}from"./index-C3Uo6_hA.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],On=lt("chevron-down",Vo);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wo=lt("chevron-up",Ko);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],qo=lt("chevrons-up-down",Go);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zo=lt("search",Qo);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xo=lt("x",Yo),Ft=C.forwardRef(({className:n,...d},c)=>m.jsx("textarea",{className:Y("flex min-h-[60px] w-full rounded bg-transparent px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:c,...d}));Ft.displayName="Textarea";function pt(n,[d,c]){return Math.min(c,Math.max(d,n))}function Fn(n){const d=C.useRef({value:n,previous:n});return C.useMemo(()=>(d.current.value!==n&&(d.current.previous=d.current.value,d.current.value=n),d.current.previous),[n])}var Jo=[" ","Enter","ArrowUp","ArrowDown"],ea=[" ","Enter"],$e="Select",[St,Ct,ta]=kn($e),[Xe,wi]=wt($e,[ta,yt]),At=yt(),[na,Me]=Xe($e),[ra,oa]=Xe($e),Un=n=>{const{__scopeSelect:d,children:c,open:r,defaultOpen:e,onOpenChange:t,value:l,defaultValue:s,onValueChange:p,dir:v,name:i,autoComplete:a,disabled:o,required:u,form:b}=n,y=At(d),[A,S]=C.useState(null),[F,D]=C.useState(null),[k,U]=C.useState(!1),w=In(v),[O,f]=st({prop:r,defaultProp:e??!1,onChange:t,caller:$e}),[g,_]=st({prop:l,defaultProp:s,onChange:p,caller:$e}),N=C.useRef(null),R=A?b||!!A.closest("form"):!0,[P,E]=C.useState(new Set),T=Array.from(P).map(x=>x.props.value).join(";");return m.jsx(Pn,{...y,children:m.jsxs(na,{required:u,scope:d,trigger:A,onTriggerChange:S,valueNode:F,onValueNodeChange:D,valueNodeHasChildren:k,onValueNodeHasChildrenChange:U,contentId:be(),value:g,onValueChange:_,open:O,onOpenChange:f,dir:w,triggerPointerDownPosRef:N,disabled:o,children:[m.jsx(St.Provider,{scope:d,children:m.jsx(ra,{scope:n.__scopeSelect,onNativeOptionAdd:C.useCallback(x=>{E(h=>new Set(h).add(x))},[]),onNativeOptionRemove:C.useCallback(x=>{E(h=>{const L=new Set(h);return L.delete(x),L})},[]),children:c})}),R?m.jsxs(sr,{"aria-hidden":!0,required:u,tabIndex:-1,name:i,autoComplete:a,value:g,onChange:x=>_(x.target.value),disabled:o,form:b,children:[g===void 0?m.jsx("option",{value:""}):null,Array.from(P)]},T):null]})})};Un.displayName=$e;var Ln="SelectTrigger",Bn=C.forwardRef((n,d)=>{const{__scopeSelect:c,disabled:r=!1,...e}=n,t=At(c),l=Me(Ln,c),s=l.disabled||r,p=oe(d,l.onTriggerChange),v=Ct(c),i=C.useRef("touch"),[a,o,u]=lr(y=>{const A=v().filter(D=>!D.disabled),S=A.find(D=>D.value===l.value),F=cr(A,y,S);F!==void 0&&l.onValueChange(F.value)}),b=y=>{s||(l.onOpenChange(!0),u()),y&&(l.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return m.jsx(Yt,{asChild:!0,...t,children:m.jsx(J.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":ir(l.value)?"":void 0,...e,ref:p,onClick:X(e.onClick,y=>{y.currentTarget.focus(),i.current!=="mouse"&&b(y)}),onPointerDown:X(e.onPointerDown,y=>{i.current=y.pointerType;const A=y.target;A.hasPointerCapture(y.pointerId)&&A.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:X(e.onKeyDown,y=>{const A=a.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&o(y.key),!(A&&y.key===" ")&&Jo.includes(y.key)&&(b(),y.preventDefault())})})})});Bn.displayName=Ln;var Hn="SelectValue",zn=C.forwardRef((n,d)=>{const{__scopeSelect:c,className:r,style:e,children:t,placeholder:l="",...s}=n,p=Me(Hn,c),{onValueNodeHasChildrenChange:v}=p,i=t!==void 0,a=oe(d,p.onValueNodeChange);return Te(()=>{v(i)},[v,i]),m.jsx(J.span,{...s,ref:a,style:{pointerEvents:"none"},children:ir(p.value)?m.jsx(m.Fragment,{children:l}):t})});zn.displayName=Hn;var aa="SelectIcon",$n=C.forwardRef((n,d)=>{const{__scopeSelect:c,children:r,...e}=n;return m.jsx(J.span,{"aria-hidden":!0,...e,ref:d,children:r||"â–¼"})});$n.displayName=aa;var sa="SelectPortal",Vn=n=>m.jsx(Xt,{asChild:!0,...n});Vn.displayName=sa;var Ve="SelectContent",Kn=C.forwardRef((n,d)=>{const c=Me(Ve,n.__scopeSelect),[r,e]=C.useState();if(Te(()=>{e(new DocumentFragment)},[]),!c.open){const t=r;return t?jn.createPortal(m.jsx(Wn,{scope:n.__scopeSelect,children:m.jsx(St.Slot,{scope:n.__scopeSelect,children:m.jsx("div",{children:n.children})})}),t):null}return m.jsx(Gn,{...n,ref:d})});Kn.displayName=Ve;var Ce=10,[Wn,Oe]=Xe(Ve),ia="SelectContentImpl",la=Zt("SelectContent.RemoveScroll"),Gn=C.forwardRef((n,d)=>{const{__scopeSelect:c,position:r="item-aligned",onCloseAutoFocus:e,onEscapeKeyDown:t,onPointerDownOutside:l,side:s,sideOffset:p,align:v,alignOffset:i,arrowPadding:a,collisionBoundary:o,collisionPadding:u,sticky:b,hideWhenDetached:y,avoidCollisions:A,...S}=n,F=Me(Ve,c),[D,k]=C.useState(null),[U,w]=C.useState(null),O=oe(d,$=>k($)),[f,g]=C.useState(null),[_,N]=C.useState(null),R=Ct(c),[P,E]=C.useState(!1),T=C.useRef(!1);C.useEffect(()=>{if(D)return Jt(D)},[D]),en();const x=C.useCallback($=>{const[W,...G]=R().map(Z=>Z.ref.current),[q]=G.slice(-1),Q=document.activeElement;for(const Z of $)if(Z===Q||(Z?.scrollIntoView({block:"nearest"}),Z===W&&U&&(U.scrollTop=0),Z===q&&U&&(U.scrollTop=U.scrollHeight),Z?.focus(),document.activeElement!==Q))return},[R,U]),h=C.useCallback(()=>x([f,D]),[x,f,D]);C.useEffect(()=>{P&&h()},[P,h]);const{onOpenChange:L,triggerPointerDownPosRef:M}=F;C.useEffect(()=>{if(D){let $={x:0,y:0};const W=q=>{$={x:Math.abs(Math.round(q.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(q.pageY)-(M.current?.y??0))}},G=q=>{$.x<=10&&$.y<=10?q.preventDefault():D.contains(q.target)||L(!1),document.removeEventListener("pointermove",W),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",G,{capture:!0})}}},[D,L,M]),C.useEffect(()=>{const $=()=>L(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[L]);const[H,K]=lr($=>{const W=R().filter(Q=>!Q.disabled),G=W.find(Q=>Q.ref.current===document.activeElement),q=cr(W,$,G);q&&setTimeout(()=>q.ref.current.focus())}),I=C.useCallback(($,W,G)=>{const q=!T.current&&!G;(F.value!==void 0&&F.value===W||q)&&(g($),q&&(T.current=!0))},[F.value]),z=C.useCallback(()=>D?.focus(),[D]),B=C.useCallback(($,W,G)=>{const q=!T.current&&!G;(F.value!==void 0&&F.value===W||q)&&N($)},[F.value]),j=r==="popper"?Ut:qn,V=j===Ut?{side:s,sideOffset:p,align:v,alignOffset:i,arrowPadding:a,collisionBoundary:o,collisionPadding:u,sticky:b,hideWhenDetached:y,avoidCollisions:A}:{};return m.jsx(Wn,{scope:c,content:D,viewport:U,onViewportChange:w,itemRefCallback:I,selectedItem:f,onItemLeave:z,itemTextRefCallback:B,focusSelectedItem:h,selectedItemText:_,position:r,isPositioned:P,searchRef:H,children:m.jsx(tn,{as:la,allowPinchZoom:!0,children:m.jsx(nn,{asChild:!0,trapped:F.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:X(e,$=>{F.trigger?.focus({preventScroll:!0}),$.preventDefault()}),children:m.jsx(rn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:t,onPointerDownOutside:l,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:m.jsx(j,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:$=>$.preventDefault(),...S,...V,onPlaced:()=>E(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:X(S.onKeyDown,$=>{const W=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!W&&$.key.length===1&&K($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let q=R().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes($.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const Q=$.target,Z=q.indexOf(Q);q=q.slice(Z+1)}setTimeout(()=>x(q)),$.preventDefault()}})})})})})})});Gn.displayName=ia;var ca="SelectItemAlignedPosition",qn=C.forwardRef((n,d)=>{const{__scopeSelect:c,onPlaced:r,...e}=n,t=Me(Ve,c),l=Oe(Ve,c),[s,p]=C.useState(null),[v,i]=C.useState(null),a=oe(d,O=>i(O)),o=Ct(c),u=C.useRef(!1),b=C.useRef(!0),{viewport:y,selectedItem:A,selectedItemText:S,focusSelectedItem:F}=l,D=C.useCallback(()=>{if(t.trigger&&t.valueNode&&s&&v&&y&&A&&S){const O=t.trigger.getBoundingClientRect(),f=v.getBoundingClientRect(),g=t.valueNode.getBoundingClientRect(),_=S.getBoundingClientRect();if(t.dir!=="rtl"){const Q=_.left-f.left,Z=g.left-Q,fe=O.left-Z,le=O.width+fe,te=Math.max(le,f.width),ae=window.innerWidth-Ce,ee=pt(Z,[Ce,Math.max(Ce,ae-te)]);s.style.minWidth=le+"px",s.style.left=ee+"px"}else{const Q=f.right-_.right,Z=window.innerWidth-g.right-Q,fe=window.innerWidth-O.right-Z,le=O.width+fe,te=Math.max(le,f.width),ae=window.innerWidth-Ce,ee=pt(Z,[Ce,Math.max(Ce,ae-te)]);s.style.minWidth=le+"px",s.style.right=ee+"px"}const N=o(),R=window.innerHeight-Ce*2,P=y.scrollHeight,E=window.getComputedStyle(v),T=parseInt(E.borderTopWidth,10),x=parseInt(E.paddingTop,10),h=parseInt(E.borderBottomWidth,10),L=parseInt(E.paddingBottom,10),M=T+x+P+L+h,H=Math.min(A.offsetHeight*5,M),K=window.getComputedStyle(y),I=parseInt(K.paddingTop,10),z=parseInt(K.paddingBottom,10),B=O.top+O.height/2-Ce,j=R-B,V=A.offsetHeight/2,$=A.offsetTop+V,W=T+x+$,G=M-W;if(W<=B){const Q=N.length>0&&A===N[N.length-1].ref.current;s.style.bottom="0px";const Z=v.clientHeight-y.offsetTop-y.offsetHeight,fe=Math.max(j,V+(Q?z:0)+Z+h),le=W+fe;s.style.height=le+"px"}else{const Q=N.length>0&&A===N[0].ref.current;s.style.top="0px";const fe=Math.max(B,T+y.offsetTop+(Q?I:0)+V)+G;s.style.height=fe+"px",y.scrollTop=W-B+y.offsetTop}s.style.margin=`${Ce}px 0`,s.style.minHeight=H+"px",s.style.maxHeight=R+"px",r?.(),requestAnimationFrame(()=>u.current=!0)}},[o,t.trigger,t.valueNode,s,v,y,A,S,t.dir,r]);Te(()=>D(),[D]);const[k,U]=C.useState();Te(()=>{v&&U(window.getComputedStyle(v).zIndex)},[v]);const w=C.useCallback(O=>{O&&b.current===!0&&(D(),F?.(),b.current=!1)},[D,F]);return m.jsx(ua,{scope:c,contentWrapper:s,shouldExpandOnScrollRef:u,onScrollButtonChange:w,children:m.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:m.jsx(J.div,{...e,ref:a,style:{boxSizing:"border-box",maxHeight:"100%",...e.style}})})})});qn.displayName=ca;var da="SelectPopperPosition",Ut=C.forwardRef((n,d)=>{const{__scopeSelect:c,align:r="start",collisionPadding:e=Ce,...t}=n,l=At(c);return m.jsx(Tn,{...l,...t,ref:d,align:r,collisionPadding:e,style:{boxSizing:"border-box",...t.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ut.displayName=da;var[ua,on]=Xe(Ve,{}),Lt="SelectViewport",Qn=C.forwardRef((n,d)=>{const{__scopeSelect:c,nonce:r,...e}=n,t=Oe(Lt,c),l=on(Lt,c),s=oe(d,t.onViewportChange),p=C.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(St.Slot,{scope:c,children:m.jsx(J.div,{"data-radix-select-viewport":"",role:"presentation",...e,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...e.style},onScroll:X(e.onScroll,v=>{const i=v.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:o}=l;if(o?.current&&a){const u=Math.abs(p.current-i.scrollTop);if(u>0){const b=window.innerHeight-Ce*2,y=parseFloat(a.style.minHeight),A=parseFloat(a.style.height),S=Math.max(y,A);if(S<b){const F=S+u,D=Math.min(b,F),k=F-D;a.style.height=D+"px",a.style.bottom==="0px"&&(i.scrollTop=k>0?k:0,a.style.justifyContent="flex-end")}}}p.current=i.scrollTop})})})]})});Qn.displayName=Lt;var Zn="SelectGroup",[fa,pa]=Xe(Zn),ha=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n,e=be();return m.jsx(fa,{scope:c,id:e,children:m.jsx(J.div,{role:"group","aria-labelledby":e,...r,ref:d})})});ha.displayName=Zn;var Yn="SelectLabel",ma=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n,e=pa(Yn,c);return m.jsx(J.div,{id:e.id,...r,ref:d})});ma.displayName=Yn;var ht="SelectItem",[ga,Xn]=Xe(ht),Jn=C.forwardRef((n,d)=>{const{__scopeSelect:c,value:r,disabled:e=!1,textValue:t,...l}=n,s=Me(ht,c),p=Oe(ht,c),v=s.value===r,[i,a]=C.useState(t??""),[o,u]=C.useState(!1),b=oe(d,F=>p.itemRefCallback?.(F,r,e)),y=be(),A=C.useRef("touch"),S=()=>{e||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(ga,{scope:c,value:r,disabled:e,textId:y,isSelected:v,onItemTextChange:C.useCallback(F=>{a(D=>D||(F?.textContent??"").trim())},[]),children:m.jsx(St.ItemSlot,{scope:c,value:r,disabled:e,textValue:i,children:m.jsx(J.div,{role:"option","aria-labelledby":y,"data-highlighted":o?"":void 0,"aria-selected":v&&o,"data-state":v?"checked":"unchecked","aria-disabled":e||void 0,"data-disabled":e?"":void 0,tabIndex:e?void 0:-1,...l,ref:b,onFocus:X(l.onFocus,()=>u(!0)),onBlur:X(l.onBlur,()=>u(!1)),onClick:X(l.onClick,()=>{A.current!=="mouse"&&S()}),onPointerUp:X(l.onPointerUp,()=>{A.current==="mouse"&&S()}),onPointerDown:X(l.onPointerDown,F=>{A.current=F.pointerType}),onPointerMove:X(l.onPointerMove,F=>{A.current=F.pointerType,e?p.onItemLeave?.():A.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(l.onPointerLeave,F=>{F.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:X(l.onKeyDown,F=>{p.searchRef?.current!==""&&F.key===" "||(ea.includes(F.key)&&S(),F.key===" "&&F.preventDefault())})})})})});Jn.displayName=ht;var ot="SelectItemText",er=C.forwardRef((n,d)=>{const{__scopeSelect:c,className:r,style:e,...t}=n,l=Me(ot,c),s=Oe(ot,c),p=Xn(ot,c),v=oa(ot,c),[i,a]=C.useState(null),o=oe(d,S=>a(S),p.onItemTextChange,S=>s.itemTextRefCallback?.(S,p.value,p.disabled)),u=i?.textContent,b=C.useMemo(()=>m.jsx("option",{value:p.value,disabled:p.disabled,children:u},p.value),[p.disabled,p.value,u]),{onNativeOptionAdd:y,onNativeOptionRemove:A}=v;return Te(()=>(y(b),()=>A(b)),[y,A,b]),m.jsxs(m.Fragment,{children:[m.jsx(J.span,{id:p.textId,...t,ref:o}),p.isSelected&&l.valueNode&&!l.valueNodeHasChildren?jn.createPortal(t.children,l.valueNode):null]})});er.displayName=ot;var tr="SelectItemIndicator",nr=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n;return Xn(tr,c).isSelected?m.jsx(J.span,{"aria-hidden":!0,...r,ref:d}):null});nr.displayName=tr;var Bt="SelectScrollUpButton",rr=C.forwardRef((n,d)=>{const c=Oe(Bt,n.__scopeSelect),r=on(Bt,n.__scopeSelect),[e,t]=C.useState(!1),l=oe(d,r.onScrollButtonChange);return Te(()=>{if(c.viewport&&c.isPositioned){let s=function(){const v=p.scrollTop>0;t(v)};const p=c.viewport;return s(),p.addEventListener("scroll",s),()=>p.removeEventListener("scroll",s)}},[c.viewport,c.isPositioned]),e?m.jsx(ar,{...n,ref:l,onAutoScroll:()=>{const{viewport:s,selectedItem:p}=c;s&&p&&(s.scrollTop=s.scrollTop-p.offsetHeight)}}):null});rr.displayName=Bt;var Ht="SelectScrollDownButton",or=C.forwardRef((n,d)=>{const c=Oe(Ht,n.__scopeSelect),r=on(Ht,n.__scopeSelect),[e,t]=C.useState(!1),l=oe(d,r.onScrollButtonChange);return Te(()=>{if(c.viewport&&c.isPositioned){let s=function(){const v=p.scrollHeight-p.clientHeight,i=Math.ceil(p.scrollTop)<v;t(i)};const p=c.viewport;return s(),p.addEventListener("scroll",s),()=>p.removeEventListener("scroll",s)}},[c.viewport,c.isPositioned]),e?m.jsx(ar,{...n,ref:l,onAutoScroll:()=>{const{viewport:s,selectedItem:p}=c;s&&p&&(s.scrollTop=s.scrollTop+p.offsetHeight)}}):null});or.displayName=Ht;var ar=C.forwardRef((n,d)=>{const{__scopeSelect:c,onAutoScroll:r,...e}=n,t=Oe("SelectScrollButton",c),l=C.useRef(null),s=Ct(c),p=C.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return C.useEffect(()=>()=>p(),[p]),Te(()=>{s().find(i=>i.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),m.jsx(J.div,{"aria-hidden":!0,...e,ref:d,style:{flexShrink:0,...e.style},onPointerDown:X(e.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:X(e.onPointerMove,()=>{t.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:X(e.onPointerLeave,()=>{p()})})}),va="SelectSeparator",xa=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n;return m.jsx(J.div,{"aria-hidden":!0,...r,ref:d})});xa.displayName=va;var zt="SelectArrow",ba=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n,e=At(c),t=Me(zt,c),l=Oe(zt,c);return t.open&&l.position==="popper"?m.jsx(Dn,{...e,...r,ref:d}):null});ba.displayName=zt;var ya="SelectBubbleInput",sr=C.forwardRef(({__scopeSelect:n,value:d,...c},r)=>{const e=C.useRef(null),t=oe(r,e),l=Fn(d);return C.useEffect(()=>{const s=e.current;if(!s)return;const p=window.HTMLSelectElement.prototype,i=Object.getOwnPropertyDescriptor(p,"value").set;if(l!==d&&i){const a=new Event("change",{bubbles:!0});i.call(s,d),s.dispatchEvent(a)}},[l,d]),m.jsx(J.select,{...c,style:{...Do,...c.style},ref:t,defaultValue:d})});sr.displayName=ya;function ir(n){return n===""||n===void 0}function lr(n){const d=Mo(n),c=C.useRef(""),r=C.useRef(0),e=C.useCallback(l=>{const s=c.current+l;d(s),function p(v){c.current=v,window.clearTimeout(r.current),v!==""&&(r.current=window.setTimeout(()=>p(""),1e3))}(s)},[d]),t=C.useCallback(()=>{c.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[c,e,t]}function cr(n,d,c){const e=d.length>1&&Array.from(d).every(v=>v===d[0])?d[0]:d,t=c?n.indexOf(c):-1;let l=wa(n,Math.max(t,0));e.length===1&&(l=l.filter(v=>v!==c));const p=l.find(v=>v.textValue.toLowerCase().startsWith(e.toLowerCase()));return p!==c?p:void 0}function wa(n,d){return n.map((c,r)=>n[(d+r)%n.length])}var Sa=Un,Ca=Bn,Aa=zn,_a=$n,Na=Vn,Ea=Kn,Ra=Qn,ja=Jn,Ia=er,Pa=nr,ka=rr,Ta=or;function yn({...n}){return m.jsx(Sa,{"data-slot":"select",...n})}function wn({...n}){return m.jsx(Aa,{"data-slot":"select-value",...n})}function Sn({className:n,size:d="default",children:c,...r}){return m.jsxs(Ca,{"data-slot":"select-trigger","data-size":d,className:Y("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-12 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[c,m.jsx(_a,{asChild:!0,children:m.jsx(On,{className:"size-4 opacity-50"})})]})}function Cn({className:n,children:d,position:c="popper",...r}){return m.jsx(Na,{children:m.jsxs(Ea,{"data-slot":"select-content",className:Y("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",c==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:c,...r,children:[m.jsx(Da,{}),m.jsx(Ra,{className:Y("p-1",c==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:d}),m.jsx(Ma,{})]})})}function An({className:n,children:d,...c}){return m.jsxs(ja,{"data-slot":"select-item",className:Y("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...c,children:[m.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:m.jsx(Pa,{children:m.jsx(Mn,{className:"size-4"})})}),m.jsx(Ia,{children:d})]})}function Da({className:n,...d}){return m.jsx(ka,{"data-slot":"select-scroll-up-button",className:Y("flex cursor-default items-center justify-center py-1",n),...d,children:m.jsx(Wo,{className:"size-4"})})}function Ma({className:n,...d}){return m.jsx(Ta,{"data-slot":"select-scroll-down-button",className:Y("flex cursor-default items-center justify-center py-1",n),...d,children:m.jsx(On,{className:"size-4"})})}var dr=["PageUp","PageDown"],ur=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fr={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Je="Slider",[$t,Oa,Fa]=kn(Je),[pr,Si]=wt(Je,[Fa]),[Ua,_t]=pr(Je),hr=C.forwardRef((n,d)=>{const{name:c,min:r=0,max:e=100,step:t=1,orientation:l="horizontal",disabled:s=!1,minStepsBetweenThumbs:p=0,defaultValue:v=[r],value:i,onValueChange:a=()=>{},onValueCommit:o=()=>{},inverted:u=!1,form:b,...y}=n,A=C.useRef(new Set),S=C.useRef(0),D=l==="horizontal"?La:Ba,[k=[],U]=st({prop:i,defaultProp:v,onChange:N=>{[...A.current][S.current]?.focus(),a(N)}}),w=C.useRef(k);function O(N){const R=Ka(k,N);_(N,R)}function f(N){_(N,S.current)}function g(){const N=w.current[S.current];k[S.current]!==N&&o(k)}function _(N,R,{commit:P}={commit:!1}){const E=Qa(t),T=Za(Math.round((N-r)/t)*t+r,E),x=pt(T,[r,e]);U((h=[])=>{const L=$a(h,x,R);if(qa(L,p*t)){S.current=L.indexOf(x);const M=String(L)!==String(h);return M&&P&&o(L),M?L:h}else return h})}return m.jsx(Ua,{scope:n.__scopeSlider,name:c,disabled:s,min:r,max:e,valueIndexToChangeRef:S,thumbs:A.current,values:k,orientation:l,form:b,children:m.jsx($t.Provider,{scope:n.__scopeSlider,children:m.jsx($t.Slot,{scope:n.__scopeSlider,children:m.jsx(D,{"aria-disabled":s,"data-disabled":s?"":void 0,...y,ref:d,onPointerDown:X(y.onPointerDown,()=>{s||(w.current=k)}),min:r,max:e,inverted:u,onSlideStart:s?void 0:O,onSlideMove:s?void 0:f,onSlideEnd:s?void 0:g,onHomeKeyDown:()=>!s&&_(r,0,{commit:!0}),onEndKeyDown:()=>!s&&_(e,k.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:R})=>{if(!s){const T=dr.includes(N.key)||N.shiftKey&&ur.includes(N.key)?10:1,x=S.current,h=k[x],L=t*T*R;_(h+L,x,{commit:!0})}}})})})})});hr.displayName=Je;var[mr,gr]=pr(Je,{startEdge:"left",endEdge:"right",size:"width",direction:1}),La=C.forwardRef((n,d)=>{const{min:c,max:r,dir:e,inverted:t,onSlideStart:l,onSlideMove:s,onSlideEnd:p,onStepKeyDown:v,...i}=n,[a,o]=C.useState(null),u=oe(d,D=>o(D)),b=C.useRef(void 0),y=In(e),A=y==="ltr",S=A&&!t||!A&&t;function F(D){const k=b.current||a.getBoundingClientRect(),U=[0,k.width],O=an(U,S?[c,r]:[r,c]);return b.current=k,O(D-k.left)}return m.jsx(mr,{scope:n.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:m.jsx(vr,{dir:y,"data-orientation":"horizontal",...i,ref:u,style:{...i.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:D=>{const k=F(D.clientX);l?.(k)},onSlideMove:D=>{const k=F(D.clientX);s?.(k)},onSlideEnd:()=>{b.current=void 0,p?.()},onStepKeyDown:D=>{const U=fr[S?"from-left":"from-right"].includes(D.key);v?.({event:D,direction:U?-1:1})}})})}),Ba=C.forwardRef((n,d)=>{const{min:c,max:r,inverted:e,onSlideStart:t,onSlideMove:l,onSlideEnd:s,onStepKeyDown:p,...v}=n,i=C.useRef(null),a=oe(d,i),o=C.useRef(void 0),u=!e;function b(y){const A=o.current||i.current.getBoundingClientRect(),S=[0,A.height],D=an(S,u?[r,c]:[c,r]);return o.current=A,D(y-A.top)}return m.jsx(mr,{scope:n.__scopeSlider,startEdge:u?"bottom":"top",endEdge:u?"top":"bottom",size:"height",direction:u?1:-1,children:m.jsx(vr,{"data-orientation":"vertical",...v,ref:a,style:{...v.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const A=b(y.clientY);t?.(A)},onSlideMove:y=>{const A=b(y.clientY);l?.(A)},onSlideEnd:()=>{o.current=void 0,s?.()},onStepKeyDown:y=>{const S=fr[u?"from-bottom":"from-top"].includes(y.key);p?.({event:y,direction:S?-1:1})}})})}),vr=C.forwardRef((n,d)=>{const{__scopeSlider:c,onSlideStart:r,onSlideMove:e,onSlideEnd:t,onHomeKeyDown:l,onEndKeyDown:s,onStepKeyDown:p,...v}=n,i=_t(Je,c);return m.jsx(J.span,{...v,ref:d,onKeyDown:X(n.onKeyDown,a=>{a.key==="Home"?(l(a),a.preventDefault()):a.key==="End"?(s(a),a.preventDefault()):dr.concat(ur).includes(a.key)&&(p(a),a.preventDefault())}),onPointerDown:X(n.onPointerDown,a=>{const o=a.target;o.setPointerCapture(a.pointerId),a.preventDefault(),i.thumbs.has(o)?o.focus():r(a)}),onPointerMove:X(n.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&e(a)}),onPointerUp:X(n.onPointerUp,a=>{const o=a.target;o.hasPointerCapture(a.pointerId)&&(o.releasePointerCapture(a.pointerId),t(a))})})}),xr="SliderTrack",br=C.forwardRef((n,d)=>{const{__scopeSlider:c,...r}=n,e=_t(xr,c);return m.jsx(J.span,{"data-disabled":e.disabled?"":void 0,"data-orientation":e.orientation,...r,ref:d})});br.displayName=xr;var Vt="SliderRange",yr=C.forwardRef((n,d)=>{const{__scopeSlider:c,...r}=n,e=_t(Vt,c),t=gr(Vt,c),l=C.useRef(null),s=oe(d,l),p=e.values.length,v=e.values.map(o=>Cr(o,e.min,e.max)),i=p>1?Math.min(...v):0,a=100-Math.max(...v);return m.jsx(J.span,{"data-orientation":e.orientation,"data-disabled":e.disabled?"":void 0,...r,ref:s,style:{...n.style,[t.startEdge]:i+"%",[t.endEdge]:a+"%"}})});yr.displayName=Vt;var Kt="SliderThumb",wr=C.forwardRef((n,d)=>{const c=Oa(n.__scopeSlider),[r,e]=C.useState(null),t=oe(d,s=>e(s)),l=C.useMemo(()=>r?c().findIndex(s=>s.ref.current===r):-1,[c,r]);return m.jsx(Ha,{...n,ref:t,index:l})}),Ha=C.forwardRef((n,d)=>{const{__scopeSlider:c,index:r,name:e,...t}=n,l=_t(Kt,c),s=gr(Kt,c),[p,v]=C.useState(null),i=oe(d,F=>v(F)),a=p?l.form||!!p.closest("form"):!0,o=Oo(p),u=l.values[r],b=u===void 0?0:Cr(u,l.min,l.max),y=Va(r,l.values.length),A=o?.[s.size],S=A?Wa(A,b,s.direction):0;return C.useEffect(()=>{if(p)return l.thumbs.add(p),()=>{l.thumbs.delete(p)}},[p,l.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${b}% + ${S}px)`},children:[m.jsx($t.ItemSlot,{scope:n.__scopeSlider,children:m.jsx(J.span,{role:"slider","aria-label":n["aria-label"]||y,"aria-valuemin":l.min,"aria-valuenow":u,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...t,ref:i,style:u===void 0?{display:"none"}:n.style,onFocus:X(n.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),a&&m.jsx(Sr,{name:e??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:u},r)]})});wr.displayName=Kt;var za="RadioBubbleInput",Sr=C.forwardRef(({__scopeSlider:n,value:d,...c},r)=>{const e=C.useRef(null),t=oe(e,r),l=Fn(d);return C.useEffect(()=>{const s=e.current;if(!s)return;const p=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(p,"value").set;if(l!==d&&i){const a=new Event("input",{bubbles:!0});i.call(s,d),s.dispatchEvent(a)}},[l,d]),m.jsx(J.input,{style:{display:"none"},...c,ref:t,defaultValue:d})});Sr.displayName=za;function $a(n=[],d,c){const r=[...n];return r[c]=d,r.sort((e,t)=>e-t)}function Cr(n,d,c){const t=100/(c-d)*(n-d);return pt(t,[0,100])}function Va(n,d){return d>2?`Value ${n+1} of ${d}`:d===2?["Minimum","Maximum"][n]:void 0}function Ka(n,d){if(n.length===1)return 0;const c=n.map(e=>Math.abs(e-d)),r=Math.min(...c);return c.indexOf(r)}function Wa(n,d,c){const r=n/2,t=an([0,50],[0,r]);return(r-t(d)*c)*c}function Ga(n){return n.slice(0,-1).map((d,c)=>n[c+1]-d)}function qa(n,d){if(d>0){const c=Ga(n);return Math.min(...c)>=d}return!0}function an(n,d){return c=>{if(n[0]===n[1]||d[0]===d[1])return d[0];const r=(d[1]-d[0])/(n[1]-n[0]);return d[0]+r*(c-n[0])}}function Qa(n){return(String(n).split(".")[1]||"").length}function Za(n,d){const c=Math.pow(10,d);return Math.round(n*c)/c}var Ar=hr,Ya=br,Xa=yr,Ja=wr;const _r=C.forwardRef(({className:n,...d},c)=>m.jsxs(Ar,{ref:c,className:Y("relative flex w-full touch-none select-none items-center",n),...d,children:[m.jsx(Ya,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:m.jsx(Xa,{className:"absolute h-full bg-primary"})}),m.jsx(Ja,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));_r.displayName=Ar.displayName;var _n=1,es=.9,ts=.8,ns=.17,kt=.1,Tt=.999,rs=.9999,os=.99,as=/[\\\/_+.#"@\[\(\{&]/,ss=/[\\\/_+.#"@\[\(\{&]/g,is=/[\s-]/,Nr=/[\s-]/g;function Wt(n,d,c,r,e,t,l){if(t===d.length)return e===n.length?_n:os;var s=`${e},${t}`;if(l[s]!==void 0)return l[s];for(var p=r.charAt(t),v=c.indexOf(p,e),i=0,a,o,u,b;v>=0;)a=Wt(n,d,c,r,v+1,t+1,l),a>i&&(v===e?a*=_n:as.test(n.charAt(v-1))?(a*=ts,u=n.slice(e,v-1).match(ss),u&&e>0&&(a*=Math.pow(Tt,u.length))):is.test(n.charAt(v-1))?(a*=es,b=n.slice(e,v-1).match(Nr),b&&e>0&&(a*=Math.pow(Tt,b.length))):(a*=ns,e>0&&(a*=Math.pow(Tt,v-e))),n.charAt(v)!==d.charAt(t)&&(a*=rs)),(a<kt&&c.charAt(v-1)===r.charAt(t+1)||r.charAt(t+1)===r.charAt(t)&&c.charAt(v-1)!==r.charAt(t))&&(o=Wt(n,d,c,r,v+1,t+2,l),o*kt>a&&(a=o*kt)),a>i&&(i=a),v=c.indexOf(p,v+1);return l[s]=i,i}function Nn(n){return n.toLowerCase().replace(Nr," ")}function ls(n,d,c){return n=c&&c.length>0?`${n+" "+c.join(" ")}`:n,Wt(n,d,Nn(n),Nn(d),0,0,{})}var Nt="Dialog",[Er,Ci]=wt(Nt),[cs,Ae]=Er(Nt),Rr=n=>{const{__scopeDialog:d,children:c,open:r,defaultOpen:e,onOpenChange:t,modal:l=!0}=n,s=C.useRef(null),p=C.useRef(null),[v,i]=st({prop:r,defaultProp:e??!1,onChange:t,caller:Nt});return m.jsx(cs,{scope:d,triggerRef:s,contentRef:p,contentId:be(),titleId:be(),descriptionId:be(),open:v,onOpenChange:i,onOpenToggle:C.useCallback(()=>i(a=>!a),[i]),modal:l,children:c})};Rr.displayName=Nt;var jr="DialogTrigger",ds=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(jr,c),t=oe(d,e.triggerRef);return m.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":cn(e.open),...r,ref:t,onClick:X(n.onClick,e.onOpenToggle)})});ds.displayName=jr;var sn="DialogPortal",[us,Ir]=Er(sn,{forceMount:void 0}),Pr=n=>{const{__scopeDialog:d,forceMount:c,children:r,container:e}=n,t=Ae(sn,d);return m.jsx(us,{scope:d,forceMount:c,children:C.Children.map(r,l=>m.jsx(it,{present:c||t.open,children:m.jsx(Xt,{asChild:!0,container:e,children:l})}))})};Pr.displayName=sn;var mt="DialogOverlay",kr=C.forwardRef((n,d)=>{const c=Ir(mt,n.__scopeDialog),{forceMount:r=c.forceMount,...e}=n,t=Ae(mt,n.__scopeDialog);return t.modal?m.jsx(it,{present:r||t.open,children:m.jsx(ps,{...e,ref:d})}):null});kr.displayName=mt;var fs=Zt("DialogOverlay.RemoveScroll"),ps=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(mt,c);return m.jsx(tn,{as:fs,allowPinchZoom:!0,shards:[e.contentRef],children:m.jsx(J.div,{"data-state":cn(e.open),...r,ref:d,style:{pointerEvents:"auto",...r.style}})})}),Ke="DialogContent",Tr=C.forwardRef((n,d)=>{const c=Ir(Ke,n.__scopeDialog),{forceMount:r=c.forceMount,...e}=n,t=Ae(Ke,n.__scopeDialog);return m.jsx(it,{present:r||t.open,children:t.modal?m.jsx(hs,{...e,ref:d}):m.jsx(ms,{...e,ref:d})})});Tr.displayName=Ke;var hs=C.forwardRef((n,d)=>{const c=Ae(Ke,n.__scopeDialog),r=C.useRef(null),e=oe(d,c.contentRef,r);return C.useEffect(()=>{const t=r.current;if(t)return Jt(t)},[]),m.jsx(Dr,{...n,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(n.onCloseAutoFocus,t=>{t.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:X(n.onPointerDownOutside,t=>{const l=t.detail.originalEvent,s=l.button===0&&l.ctrlKey===!0;(l.button===2||s)&&t.preventDefault()}),onFocusOutside:X(n.onFocusOutside,t=>t.preventDefault())})}),ms=C.forwardRef((n,d)=>{const c=Ae(Ke,n.__scopeDialog),r=C.useRef(!1),e=C.useRef(!1);return m.jsx(Dr,{...n,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{n.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||c.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,e.current=!1},onInteractOutside:t=>{n.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,t.detail.originalEvent.type==="pointerdown"&&(e.current=!0));const l=t.target;c.triggerRef.current?.contains(l)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&e.current&&t.preventDefault()}})}),Dr=C.forwardRef((n,d)=>{const{__scopeDialog:c,trapFocus:r,onOpenAutoFocus:e,onCloseAutoFocus:t,...l}=n,s=Ae(Ke,c),p=C.useRef(null),v=oe(d,p);return en(),m.jsxs(m.Fragment,{children:[m.jsx(nn,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:e,onUnmountAutoFocus:t,children:m.jsx(rn,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":cn(s.open),...l,ref:v,onDismiss:()=>s.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(gs,{titleId:s.titleId}),m.jsx(xs,{contentRef:p,descriptionId:s.descriptionId})]})]})}),ln="DialogTitle",Mr=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(ln,c);return m.jsx(J.h2,{id:e.titleId,...r,ref:d})});Mr.displayName=ln;var Or="DialogDescription",Fr=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(Or,c);return m.jsx(J.p,{id:e.descriptionId,...r,ref:d})});Fr.displayName=Or;var Ur="DialogClose",Lr=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(Ur,c);return m.jsx(J.button,{type:"button",...r,ref:d,onClick:X(n.onClick,()=>e.onOpenChange(!1))})});Lr.displayName=Ur;function cn(n){return n?"open":"closed"}var Br="DialogTitleWarning",[Ai,Hr]=Fo(Br,{contentName:Ke,titleName:ln,docsSlug:"dialog"}),gs=({titleId:n})=>{const d=Hr(Br),c=`\`${d.contentName}\` requires a \`${d.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${d.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${d.docsSlug}`;return C.useEffect(()=>{n&&(document.getElementById(n)||console.error(c))},[c,n]),null},vs="DialogDescriptionWarning",xs=({contentRef:n,descriptionId:d})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Hr(vs).contentName}}.`;return C.useEffect(()=>{const e=n.current?.getAttribute("aria-describedby");d&&e&&(document.getElementById(d)||console.warn(r))},[r,n,d]),null},bs=Rr,zr=Pr,dn=kr,un=Tr,$r=Mr,Vr=Fr,ys=Lr,rt='[cmdk-group=""]',Dt='[cmdk-group-items=""]',ws='[cmdk-group-heading=""]',Kr='[cmdk-item=""]',En=`${Kr}:not([aria-disabled="true"])`,Gt="cmdk-item-select",qe="data-value",Ss=(n,d,c)=>ls(n,d,c),Wr=C.createContext(void 0),ct=()=>C.useContext(Wr),Gr=C.createContext(void 0),fn=()=>C.useContext(Gr),qr=C.createContext(void 0),Qr=C.forwardRef((n,d)=>{let c=Qe(()=>{var I,z;return{search:"",value:(z=(I=n.value)!=null?I:n.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Qe(()=>new Set),e=Qe(()=>new Map),t=Qe(()=>new Map),l=Qe(()=>new Set),s=Zr(n),{label:p,children:v,value:i,onValueChange:a,filter:o,shouldFilter:u,loop:b,disablePointerSelection:y=!1,vimBindings:A=!0,...S}=n,F=be(),D=be(),k=be(),U=C.useRef(null),w=Ts();We(()=>{if(i!==void 0){let I=i.trim();c.current.value=I,O.emit()}},[i]),We(()=>{w(6,P)},[]);let O=C.useMemo(()=>({subscribe:I=>(l.current.add(I),()=>l.current.delete(I)),snapshot:()=>c.current,setState:(I,z,B)=>{var j,V,$,W;if(!Object.is(c.current[I],z)){if(c.current[I]=z,I==="search")R(),_(),w(1,N);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let G=document.getElementById(k);G?G.focus():(j=document.getElementById(F))==null||j.focus()}if(w(7,()=>{var G;c.current.selectedItemId=(G=E())==null?void 0:G.id,O.emit()}),B||w(5,P),((V=s.current)==null?void 0:V.value)!==void 0){let G=z??"";(W=($=s.current).onValueChange)==null||W.call($,G);return}}O.emit()}},emit:()=>{l.current.forEach(I=>I())}}),[]),f=C.useMemo(()=>({value:(I,z,B)=>{var j;z!==((j=t.current.get(I))==null?void 0:j.value)&&(t.current.set(I,{value:z,keywords:B}),c.current.filtered.items.set(I,g(z,B)),w(2,()=>{_(),O.emit()}))},item:(I,z)=>(r.current.add(I),z&&(e.current.has(z)?e.current.get(z).add(I):e.current.set(z,new Set([I]))),w(3,()=>{R(),_(),c.current.value||N(),O.emit()}),()=>{t.current.delete(I),r.current.delete(I),c.current.filtered.items.delete(I);let B=E();w(4,()=>{R(),B?.getAttribute("id")===I&&N(),O.emit()})}),group:I=>(e.current.has(I)||e.current.set(I,new Set),()=>{t.current.delete(I),e.current.delete(I)}),filter:()=>s.current.shouldFilter,label:p||n["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:F,inputId:k,labelId:D,listInnerRef:U}),[]);function g(I,z){var B,j;let V=(j=(B=s.current)==null?void 0:B.filter)!=null?j:Ss;return I?V(I,c.current.search,z):0}function _(){if(!c.current.search||s.current.shouldFilter===!1)return;let I=c.current.filtered.items,z=[];c.current.filtered.groups.forEach(j=>{let V=e.current.get(j),$=0;V.forEach(W=>{let G=I.get(W);$=Math.max(G,$)}),z.push([j,$])});let B=U.current;T().sort((j,V)=>{var $,W;let G=j.getAttribute("id"),q=V.getAttribute("id");return(($=I.get(q))!=null?$:0)-((W=I.get(G))!=null?W:0)}).forEach(j=>{let V=j.closest(Dt);V?V.appendChild(j.parentElement===V?j:j.closest(`${Dt} > *`)):B.appendChild(j.parentElement===B?j:j.closest(`${Dt} > *`))}),z.sort((j,V)=>V[1]-j[1]).forEach(j=>{var V;let $=(V=U.current)==null?void 0:V.querySelector(`${rt}[${qe}="${encodeURIComponent(j[0])}"]`);$?.parentElement.appendChild($)})}function N(){let I=T().find(B=>B.getAttribute("aria-disabled")!=="true"),z=I?.getAttribute(qe);O.setState("value",z||void 0)}function R(){var I,z,B,j;if(!c.current.search||s.current.shouldFilter===!1){c.current.filtered.count=r.current.size;return}c.current.filtered.groups=new Set;let V=0;for(let $ of r.current){let W=(z=(I=t.current.get($))==null?void 0:I.value)!=null?z:"",G=(j=(B=t.current.get($))==null?void 0:B.keywords)!=null?j:[],q=g(W,G);c.current.filtered.items.set($,q),q>0&&V++}for(let[$,W]of e.current)for(let G of W)if(c.current.filtered.items.get(G)>0){c.current.filtered.groups.add($);break}c.current.filtered.count=V}function P(){var I,z,B;let j=E();j&&(((I=j.parentElement)==null?void 0:I.firstChild)===j&&((B=(z=j.closest(rt))==null?void 0:z.querySelector(ws))==null||B.scrollIntoView({block:"nearest"})),j.scrollIntoView({block:"nearest"}))}function E(){var I;return(I=U.current)==null?void 0:I.querySelector(`${Kr}[aria-selected="true"]`)}function T(){var I;return Array.from(((I=U.current)==null?void 0:I.querySelectorAll(En))||[])}function x(I){let z=T()[I];z&&O.setState("value",z.getAttribute(qe))}function h(I){var z;let B=E(),j=T(),V=j.findIndex(W=>W===B),$=j[V+I];(z=s.current)!=null&&z.loop&&($=V+I<0?j[j.length-1]:V+I===j.length?j[0]:j[V+I]),$&&O.setState("value",$.getAttribute(qe))}function L(I){let z=E(),B=z?.closest(rt),j;for(;B&&!j;)B=I>0?Ps(B,rt):ks(B,rt),j=B?.querySelector(En);j?O.setState("value",j.getAttribute(qe)):h(I)}let M=()=>x(T().length-1),H=I=>{I.preventDefault(),I.metaKey?M():I.altKey?L(1):h(1)},K=I=>{I.preventDefault(),I.metaKey?x(0):I.altKey?L(-1):h(-1)};return C.createElement(J.div,{ref:d,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:I=>{var z;(z=S.onKeyDown)==null||z.call(S,I);let B=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||B))switch(I.key){case"n":case"j":{A&&I.ctrlKey&&H(I);break}case"ArrowDown":{H(I);break}case"p":case"k":{A&&I.ctrlKey&&K(I);break}case"ArrowUp":{K(I);break}case"Home":{I.preventDefault(),x(0);break}case"End":{I.preventDefault(),M();break}case"Enter":{I.preventDefault();let j=E();if(j){let V=new Event(Gt);j.dispatchEvent(V)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:f.inputId,id:f.labelId,style:Ms},p),Et(n,I=>C.createElement(Gr.Provider,{value:O},C.createElement(Wr.Provider,{value:f},I))))}),Cs=C.forwardRef((n,d)=>{var c,r;let e=be(),t=C.useRef(null),l=C.useContext(qr),s=ct(),p=Zr(n),v=(r=(c=p.current)==null?void 0:c.forceMount)!=null?r:l?.forceMount;We(()=>{if(!v)return s.item(e,l?.id)},[v]);let i=Yr(e,t,[n.value,n.children,t],n.keywords),a=fn(),o=De(w=>w.value&&w.value===i.current),u=De(w=>v||s.filter()===!1?!0:w.search?w.filtered.items.get(e)>0:!0);C.useEffect(()=>{let w=t.current;if(!(!w||n.disabled))return w.addEventListener(Gt,b),()=>w.removeEventListener(Gt,b)},[u,n.onSelect,n.disabled]);function b(){var w,O;y(),(O=(w=p.current).onSelect)==null||O.call(w,i.current)}function y(){a.setState("value",i.current,!0)}if(!u)return null;let{disabled:A,value:S,onSelect:F,forceMount:D,keywords:k,...U}=n;return C.createElement(J.div,{ref:at(t,d),...U,id:e,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!o,"data-disabled":!!A,"data-selected":!!o,onPointerMove:A||s.getDisablePointerSelection()?void 0:y,onClick:A?void 0:b},n.children)}),As=C.forwardRef((n,d)=>{let{heading:c,children:r,forceMount:e,...t}=n,l=be(),s=C.useRef(null),p=C.useRef(null),v=be(),i=ct(),a=De(u=>e||i.filter()===!1?!0:u.search?u.filtered.groups.has(l):!0);We(()=>i.group(l),[]),Yr(l,s,[n.value,n.heading,p]);let o=C.useMemo(()=>({id:l,forceMount:e}),[e]);return C.createElement(J.div,{ref:at(s,d),...t,"cmdk-group":"",role:"presentation",hidden:a?void 0:!0},c&&C.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:v},c),Et(n,u=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":c?v:void 0},C.createElement(qr.Provider,{value:o},u))))}),_s=C.forwardRef((n,d)=>{let{alwaysRender:c,...r}=n,e=C.useRef(null),t=De(l=>!l.search);return!c&&!t?null:C.createElement(J.div,{ref:at(e,d),...r,"cmdk-separator":"",role:"separator"})}),Ns=C.forwardRef((n,d)=>{let{onValueChange:c,...r}=n,e=n.value!=null,t=fn(),l=De(v=>v.search),s=De(v=>v.selectedItemId),p=ct();return C.useEffect(()=>{n.value!=null&&t.setState("search",n.value)},[n.value]),C.createElement(J.input,{ref:d,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":s,id:p.inputId,type:"text",value:e?n.value:l,onChange:v=>{e||t.setState("search",v.target.value),c?.(v.target.value)}})}),Es=C.forwardRef((n,d)=>{let{children:c,label:r="Suggestions",...e}=n,t=C.useRef(null),l=C.useRef(null),s=De(v=>v.selectedItemId),p=ct();return C.useEffect(()=>{if(l.current&&t.current){let v=l.current,i=t.current,a,o=new ResizeObserver(()=>{a=requestAnimationFrame(()=>{let u=v.offsetHeight;i.style.setProperty("--cmdk-list-height",u.toFixed(1)+"px")})});return o.observe(v),()=>{cancelAnimationFrame(a),o.unobserve(v)}}},[]),C.createElement(J.div,{ref:at(t,d),...e,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:p.listId},Et(n,v=>C.createElement("div",{ref:at(l,p.listInnerRef),"cmdk-list-sizer":""},v)))}),Rs=C.forwardRef((n,d)=>{let{open:c,onOpenChange:r,overlayClassName:e,contentClassName:t,container:l,...s}=n;return C.createElement(bs,{open:c,onOpenChange:r},C.createElement(zr,{container:l},C.createElement(dn,{"cmdk-overlay":"",className:e}),C.createElement(un,{"aria-label":n.label,"cmdk-dialog":"",className:t},C.createElement(Qr,{ref:d,...s}))))}),js=C.forwardRef((n,d)=>De(c=>c.filtered.count===0)?C.createElement(J.div,{ref:d,...n,"cmdk-empty":"",role:"presentation"}):null),Is=C.forwardRef((n,d)=>{let{progress:c,children:r,label:e="Loading...",...t}=n;return C.createElement(J.div,{ref:d,...t,"cmdk-loading":"",role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100,"aria-label":e},Et(n,l=>C.createElement("div",{"aria-hidden":!0},l)))}),ge=Object.assign(Qr,{List:Es,Item:Cs,Input:Ns,Group:As,Separator:_s,Dialog:Rs,Empty:js,Loading:Is});function Ps(n,d){let c=n.nextElementSibling;for(;c;){if(c.matches(d))return c;c=c.nextElementSibling}}function ks(n,d){let c=n.previousElementSibling;for(;c;){if(c.matches(d))return c;c=c.previousElementSibling}}function Zr(n){let d=C.useRef(n);return We(()=>{d.current=n}),d}var We=typeof window>"u"?C.useEffect:C.useLayoutEffect;function Qe(n){let d=C.useRef();return d.current===void 0&&(d.current=n()),d}function De(n){let d=fn(),c=()=>n(d.snapshot());return C.useSyncExternalStore(d.subscribe,c,c)}function Yr(n,d,c,r=[]){let e=C.useRef(),t=ct();return We(()=>{var l;let s=(()=>{var v;for(let i of c){if(typeof i=="string")return i.trim();if(typeof i=="object"&&"current"in i)return i.current?(v=i.current.textContent)==null?void 0:v.trim():e.current}})(),p=r.map(v=>v.trim());t.value(n,s,p),(l=d.current)==null||l.setAttribute(qe,s),e.current=s}),e}var Ts=()=>{let[n,d]=C.useState(),c=Qe(()=>new Map);return We(()=>{c.current.forEach(r=>r()),c.current=new Map},[n]),(r,e)=>{c.current.set(r,e),d({})}};function Ds(n){let d=n.type;return typeof d=="function"?d(n.props):"render"in d?d.render(n.props):n}function Et({asChild:n,children:d},c){return n&&C.isValidElement(d)?C.cloneElement(Ds(d),{ref:d.ref},c(d.props.children)):c(d)}var Ms={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Os=zr,Xr=C.forwardRef(({className:n,...d},c)=>m.jsx(dn,{ref:c,className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...d}));Xr.displayName=dn.displayName;const Fs=C.forwardRef(({className:n,children:d,...c},r)=>m.jsxs(Os,{children:[m.jsx(Xr,{}),m.jsxs(un,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[12%] data-[state=open]:slide-in-from-top-[12%] sm:rounded-lg",n),...c,children:[d,m.jsxs(ys,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Xo,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fs.displayName=un.displayName;const Us=C.forwardRef(({className:n,...d},c)=>m.jsx($r,{ref:c,className:Y("text-lg font-semibold leading-none tracking-tight",n),...d}));Us.displayName=$r.displayName;const Ls=C.forwardRef(({className:n,...d},c)=>m.jsx(Vr,{ref:c,className:Y("text-sm text-muted-foreground",n),...d}));Ls.displayName=Vr.displayName;const Jr=C.forwardRef(({className:n,...d},c)=>m.jsx(ge,{ref:c,className:Y("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...d}));Jr.displayName=ge.displayName;const eo=C.forwardRef(({className:n,...d},c)=>m.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[m.jsx(Zo,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),m.jsx(ge.Input,{ref:c,className:Y("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...d})]}));eo.displayName=ge.Input.displayName;const to=C.forwardRef(({className:n,...d},c)=>m.jsx(ge.List,{ref:c,className:Y("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...d}));to.displayName=ge.List.displayName;const no=C.forwardRef((n,d)=>m.jsx(ge.Empty,{ref:d,className:"py-6 text-center text-sm",...n}));no.displayName=ge.Empty.displayName;const ro=C.forwardRef(({className:n,...d},c)=>m.jsx(ge.Group,{ref:c,className:Y("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...d}));ro.displayName=ge.Group.displayName;const Bs=C.forwardRef(({className:n,...d},c)=>m.jsx(ge.Separator,{ref:c,className:Y("-mx-1 h-px bg-border",n),...d}));Bs.displayName=ge.Separator.displayName;const qt=C.forwardRef(({className:n,...d},c)=>m.jsx(ge.Item,{ref:c,className:Y("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n),...d}));qt.displayName=ge.Item.displayName;var Rt="Popover",[oo,_i]=wt(Rt,[yt]),dt=yt(),[Hs,Fe]=oo(Rt),ao=n=>{const{__scopePopover:d,children:c,open:r,defaultOpen:e,onOpenChange:t,modal:l=!1}=n,s=dt(d),p=C.useRef(null),[v,i]=C.useState(!1),[a,o]=st({prop:r,defaultProp:e??!1,onChange:t,caller:Rt});return m.jsx(Pn,{...s,children:m.jsx(Hs,{scope:d,contentId:be(),triggerRef:p,open:a,onOpenChange:o,onOpenToggle:C.useCallback(()=>o(u=>!u),[o]),hasCustomAnchor:v,onCustomAnchorAdd:C.useCallback(()=>i(!0),[]),onCustomAnchorRemove:C.useCallback(()=>i(!1),[]),modal:l,children:c})})};ao.displayName=Rt;var so="PopoverAnchor",zs=C.forwardRef((n,d)=>{const{__scopePopover:c,...r}=n,e=Fe(so,c),t=dt(c),{onCustomAnchorAdd:l,onCustomAnchorRemove:s}=e;return C.useEffect(()=>(l(),()=>s()),[l,s]),m.jsx(Yt,{...t,...r,ref:d})});zs.displayName=so;var io="PopoverTrigger",lo=C.forwardRef((n,d)=>{const{__scopePopover:c,...r}=n,e=Fe(io,c),t=dt(c),l=oe(d,e.triggerRef),s=m.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":ho(e.open),...r,ref:l,onClick:X(n.onClick,e.onOpenToggle)});return e.hasCustomAnchor?s:m.jsx(Yt,{asChild:!0,...t,children:s})});lo.displayName=io;var pn="PopoverPortal",[$s,Vs]=oo(pn,{forceMount:void 0}),co=n=>{const{__scopePopover:d,forceMount:c,children:r,container:e}=n,t=Fe(pn,d);return m.jsx($s,{scope:d,forceMount:c,children:m.jsx(it,{present:c||t.open,children:m.jsx(Xt,{asChild:!0,container:e,children:r})})})};co.displayName=pn;var Ye="PopoverContent",uo=C.forwardRef((n,d)=>{const c=Vs(Ye,n.__scopePopover),{forceMount:r=c.forceMount,...e}=n,t=Fe(Ye,n.__scopePopover);return m.jsx(it,{present:r||t.open,children:t.modal?m.jsx(Ws,{...e,ref:d}):m.jsx(Gs,{...e,ref:d})})});uo.displayName=Ye;var Ks=Zt("PopoverContent.RemoveScroll"),Ws=C.forwardRef((n,d)=>{const c=Fe(Ye,n.__scopePopover),r=C.useRef(null),e=oe(d,r),t=C.useRef(!1);return C.useEffect(()=>{const l=r.current;if(l)return Jt(l)},[]),m.jsx(tn,{as:Ks,allowPinchZoom:!0,children:m.jsx(fo,{...n,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(n.onCloseAutoFocus,l=>{l.preventDefault(),t.current||c.triggerRef.current?.focus()}),onPointerDownOutside:X(n.onPointerDownOutside,l=>{const s=l.detail.originalEvent,p=s.button===0&&s.ctrlKey===!0,v=s.button===2||p;t.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:X(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Gs=C.forwardRef((n,d)=>{const c=Fe(Ye,n.__scopePopover),r=C.useRef(!1),e=C.useRef(!1);return m.jsx(fo,{...n,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{n.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||c.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,e.current=!1},onInteractOutside:t=>{n.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,t.detail.originalEvent.type==="pointerdown"&&(e.current=!0));const l=t.target;c.triggerRef.current?.contains(l)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&e.current&&t.preventDefault()}})}),fo=C.forwardRef((n,d)=>{const{__scopePopover:c,trapFocus:r,onOpenAutoFocus:e,onCloseAutoFocus:t,disableOutsidePointerEvents:l,onEscapeKeyDown:s,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:i,...a}=n,o=Fe(Ye,c),u=dt(c);return en(),m.jsx(nn,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:e,onUnmountAutoFocus:t,children:m.jsx(rn,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:i,onEscapeKeyDown:s,onPointerDownOutside:p,onFocusOutside:v,onDismiss:()=>o.onOpenChange(!1),children:m.jsx(Tn,{"data-state":ho(o.open),role:"dialog",id:o.contentId,...u,...a,ref:d,style:{...a.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),po="PopoverClose",qs=C.forwardRef((n,d)=>{const{__scopePopover:c,...r}=n,e=Fe(po,c);return m.jsx(J.button,{type:"button",...r,ref:d,onClick:X(n.onClick,()=>e.onOpenChange(!1))})});qs.displayName=po;var Qs="PopoverArrow",Zs=C.forwardRef((n,d)=>{const{__scopePopover:c,...r}=n,e=dt(c);return m.jsx(Dn,{...e,...r,ref:d})});Zs.displayName=Qs;function ho(n){return n?"open":"closed"}var Ys=ao,Xs=lo,Js=co,mo=uo;const ei=Ys,ti=Xs,go=C.forwardRef(({className:n,align:d="center",sideOffset:c=4,...r},e)=>m.jsx(Js,{children:m.jsx(mo,{ref:e,align:d,sideOffset:c,className:Y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",n),...r})}));go.displayName=mo.displayName;function ni({options:n,value:d,onChange:c,placeholder:r="Zutat auswÃ¤hlen oder neu anlegen",triggerClassName:e}){const[t,l]=C.useState(!1),[s,p]=C.useState(""),v=C.useMemo(()=>n.find(b=>b.id===d)??null,[n,d]),i=v?v.name:d||r,a=b=>n.some(y=>y.name.trim().toLowerCase()===b.trim().toLowerCase()),o=s.trim().length>0&&!a(s);function u(b){if(b.startsWith("id:")){const A=b.match(/^id:([^\s]+)\s?.*$/)?.[1]??"";A&&c(A)}else if(b.startsWith("create:")){const y=b.slice(7).trim();y&&c(y)}l(!1)}return m.jsxs(ei,{open:t,onOpenChange:l,children:[m.jsx(ti,{asChild:!0,children:m.jsxs(Ee,{variant:"outline",role:"combobox","aria-expanded":t,className:Y("w-72 justify-between",e),children:[m.jsx("span",{className:Y(!v&&!d&&"text-muted-foreground"),children:i}),m.jsx(qo,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),m.jsx(go,{className:"w-80 p-0",children:m.jsxs(Jr,{children:[m.jsx(eo,{placeholder:"Zutat suchen oder neu anlegen",value:s,onValueChange:p,className:"my-4 focus:border-primary focus:ring-primary"}),m.jsxs(to,{children:[o&&m.jsxs(qt,{value:`create:${s}`,onSelect:u,children:['Neu erstellen: "',s,'"']},`create-${s}`),m.jsx(no,{children:"Keine Zutat gefunden."}),m.jsx(ro,{children:n.map(b=>{const y=`id:${b.id} ${b.name}`,A=v?.id===b.id;return m.jsxs(qt,{value:y,onSelect:u,children:[m.jsx(Mn,{className:Y("mr-2 h-4 w-4",A?"opacity-100":"opacity-0")}),b.name]},b.id)})})]})]})})]})}function ri(n,d){return d.forEach(function(c){c&&typeof c!="string"&&!Array.isArray(c)&&Object.keys(c).forEach(function(r){if(r!=="default"&&!(r in n)){var e=Object.getOwnPropertyDescriptor(c,r);Object.defineProperty(n,r,e.get?e:{enumerable:!0,get:function(){return c[r]}})}})}),Object.freeze(n)}function vo(n,d){return new Promise(function(c,r){let e;return oi(n).then(function(t){try{return e=t,c(new Blob([d.slice(0,2),e,d.slice(2)],{type:"image/jpeg"}))}catch(l){return r(l)}},r)})}const oi=n=>new Promise((d,c)=>{const r=new FileReader;r.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return c("not a valid JPEG");for(l+=2;;){const s=t.getUint16(l);if(s===65498)break;const p=t.getUint16(l+2);if(s===65505&&t.getUint32(l+4)===1165519206){const v=l+10;let i;switch(t.getUint16(v)){case 18761:i=!0;break;case 19789:i=!1;break;default:return c("TIFF header contains invalid endian")}if(t.getUint16(v+2,i)!==42)return c("TIFF header contains invalid version");const a=t.getUint32(v+4,i),o=v+a+2+12*t.getUint16(v+a,i);for(let u=v+a+2;u<o;u+=12)if(t.getUint16(u,i)==274){if(t.getUint16(u+2,i)!==3)return c("Orientation data type is invalid");if(t.getUint32(u+4,i)!==1)return c("Orientation data count is invalid");t.setUint16(u+8,1,i);break}return d(e.slice(l,l+2+p))}l+=2+p}return d(new Blob)}),r.readAsArrayBuffer(n)});var gt={},ai={get exports(){return gt},set exports(n){gt=n}};(function(n){var d,c,r={};ai.exports=r,r.parse=function(e,t){for(var l=r.bin.readUshort,s=r.bin.readUint,p=0,v={},i=new Uint8Array(e),a=i.length-4;s(i,a)!=101010256;)a--;p=a,p+=4;var o=l(i,p+=4);l(i,p+=2);var u=s(i,p+=2),b=s(i,p+=4);p+=4,p=b;for(var y=0;y<o;y++){s(i,p),p+=4,p+=4,p+=4,s(i,p+=4),u=s(i,p+=4);var A=s(i,p+=4),S=l(i,p+=4),F=l(i,p+2),D=l(i,p+4);p+=6;var k=s(i,p+=8);p+=4,p+=S+F+D,r._readLocal(i,k,v,u,A,t)}return v},r._readLocal=function(e,t,l,s,p,v){var i=r.bin.readUshort,a=r.bin.readUint;a(e,t),i(e,t+=4),i(e,t+=2);var o=i(e,t+=2);a(e,t+=2),a(e,t+=4),t+=4;var u=i(e,t+=8),b=i(e,t+=2);t+=2;var y=r.bin.readUTF8(e,t,u);if(t+=u,t+=b,v)l[y]={size:p,csize:s};else{var A=new Uint8Array(e.buffer,t);if(o==0)l[y]=new Uint8Array(A.buffer.slice(t,t+s));else{if(o!=8)throw"unknown compression method: "+o;var S=new Uint8Array(p);r.inflateRaw(A,S),l[y]=S}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){t==null&&(t={level:6});var l=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[l]=120,s[l+1]=156,l+=2,l=r.F.deflateRaw(e,s,l,t.level);var p=r.adler(e,0,e.length);return s[l+0]=p>>>24&255,s[l+1]=p>>>16&255,s[l+2]=p>>>8&255,s[l+3]=p>>>0&255,new Uint8Array(s.buffer,0,l+4)},r.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),s=r.F.deflateRaw(e,l,s,t.level);return new Uint8Array(l.buffer,0,s)},r.encode=function(e,t){t==null&&(t=!1);var l=0,s=r.bin.writeUint,p=r.bin.writeUshort,v={};for(var i in e){var a=!r._noNeed(i)&&!t,o=e[i],u=r.crc.crc(o,0,o.length);v[i]={cpr:a,usize:o.length,crc:u,file:a?r.deflateRaw(o):o}}for(var i in v)l+=v[i].file.length+30+46+2*r.bin.sizeUTF8(i);l+=22;var b=new Uint8Array(l),y=0,A=[];for(var i in v){var S=v[i];A.push(y),y=r._writeHeader(b,y,i,S,0)}var F=0,D=y;for(var i in v)S=v[i],A.push(y),y=r._writeHeader(b,y,i,S,1,A[F++]);var k=y-D;return s(b,y,101010256),y+=4,p(b,y+=4,F),p(b,y+=2,F),s(b,y+=2,k),s(b,y+=4,D),y+=4,y+=2,b.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},r._writeHeader=function(e,t,l,s,p,v){var i=r.bin.writeUint,a=r.bin.writeUshort,o=s.file;return i(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),a(e,t,20),a(e,t+=2,0),a(e,t+=2,s.cpr?8:0),i(e,t+=2,0),i(e,t+=4,s.crc),i(e,t+=4,o.length),i(e,t+=4,s.usize),a(e,t+=4,r.bin.sizeUTF8(l)),a(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,i(e,t+=6,v),t+=4),t+=r.bin.writeUTF8(e,t,l),p==0&&(e.set(o,t),t+=o.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,s=0;s<8;s++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,s){for(var p=0;p<s;p++)e=r.crc.table[255&(e^t[l+p])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^r.crc.update(4294967295,e,t,l)}},r.adler=function(e,t,l){for(var s=1,p=0,v=t,i=t+l;v<i;){for(var a=Math.min(v+5552,i);v<a;)p+=s+=e[v++];s%=65521,p%=65521}return p<<16|s},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var s="",p=0;p<l;p++)s+=String.fromCharCode(e[t+p]);return s},writeASCII:function(e,t,l){for(var s=0;s<l.length;s++)e[t+s]=l.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var s,p="",v=0;v<l;v++)p+="%"+r.bin.pad(e[t+v].toString(16));try{s=decodeURIComponent(p)}catch{return r.bin.readASCII(e,t,l)}return s},writeUTF8:function(e,t,l){for(var s=l.length,p=0,v=0;v<s;v++){var i=l.charCodeAt(v);if((4294967168&i)==0)e[t+p]=i,p++;else if((4294965248&i)==0)e[t+p]=192|i>>6,e[t+p+1]=128|i>>0&63,p+=2;else if((4294901760&i)==0)e[t+p]=224|i>>12,e[t+p+1]=128|i>>6&63,e[t+p+2]=128|i>>0&63,p+=3;else{if((4292870144&i)!=0)throw"e";e[t+p]=240|i>>18,e[t+p+1]=128|i>>12&63,e[t+p+2]=128|i>>6&63,e[t+p+3]=128|i>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,l=0,s=0;s<t;s++){var p=e.charCodeAt(s);if((4294967168&p)==0)l++;else if((4294965248&p)==0)l+=2;else if((4294901760&p)==0)l+=3;else{if((4292870144&p)!=0)throw"e";l+=4}}return l}},r.F={},r.F.deflateRaw=function(e,t,l,s){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],v=r.F.U,i=r.F._goodIndex;r.F._hash;var a=r.F._putsE,o=0,u=l<<3,b=0,y=e.length;if(s==0){for(;o<y;)a(t,u,o+(N=Math.min(65535,y-o))==y?1:0),u=r.F._copyExact(e,o,N,t,u+8),o+=N;return u>>>3}var A=v.lits,S=v.strt,F=v.prev,D=0,k=0,U=0,w=0,O=0,f=0;for(y>2&&(S[f=r.F._hash(e,0)]=0),o=0;o<y;o++){if(O=f,o+1<y-2){f=r.F._hash(e,o+1);var g=o+1&32767;F[g]=S[f],S[f]=g}if(b<=o){(D>14e3||k>26697)&&y-o>100&&(b<o&&(A[D]=o-b,D+=2,b=o),u=r.F._writeBlock(o==y-1||b==y?1:0,A,D,w,e,U,o-U,t,u),D=k=w=0,U=o);var _=0;o<y-2&&(_=r.F._bestMatch(e,o,F,O,Math.min(p[2],y-o),p[3]));var N=_>>>16,R=65535&_;if(_!=0){R=65535&_;var P=i(N=_>>>16,v.of0);v.lhst[257+P]++;var E=i(R,v.df0);v.dhst[E]++,w+=v.exb[P]+v.dxb[E],A[D]=N<<23|o-b,A[D+1]=R<<16|P<<8|E,D+=2,b=o+N}else v.lhst[e[o]]++;k++}}for(U==o&&e.length!=0||(b<o&&(A[D]=o-b,D+=2,b=o),u=r.F._writeBlock(1,A,D,w,e,U,o-U,t,u),D=0,k=0,D=k=w=0,U=o);(7&u)!=0;)u++;return u>>>3},r.F._bestMatch=function(e,t,l,s,p,v){var i=32767&t,a=l[i],o=i-a+32768&32767;if(a==i||s!=r.F._hash(e,t-o))return 0;for(var u=0,b=0,y=Math.min(32767,t);o<=y&&--v!=0&&a!=i;){if(u==0||e[t+u]==e[t+u-o]){var A=r.F._howLong(e,t,o);if(A>u){if(b=o,(u=A)>=p)break;o+2<A&&(A=o+2);for(var S=0,F=0;F<A-2;F++){var D=t-o+F+32768&32767,k=D-l[D]+32768&32767;k>S&&(S=k,a=D)}}}o+=(i=a)-(a=l[i])+32768&32767}return u<<16|b},r.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var s=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-l];)t++;return t-s},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,l,s,p,v,i,a,o){var u,b,y,A,S,F,D,k,U,w=r.F.U,O=r.F._putsF,f=r.F._putsE;w.lhst[256]++,b=(u=r.F.getTrees())[0],y=u[1],A=u[2],S=u[3],F=u[4],D=u[5],k=u[6],U=u[7];var g=32+((o+3&7)==0?0:8-(o+3&7))+(i<<3),_=s+r.F.contSize(w.fltree,w.lhst)+r.F.contSize(w.fdtree,w.dhst),N=s+r.F.contSize(w.ltree,w.lhst)+r.F.contSize(w.dtree,w.dhst);N+=14+3*D+r.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var R=0;R<286;R++)w.lhst[R]=0;for(R=0;R<30;R++)w.dhst[R]=0;for(R=0;R<19;R++)w.ihst[R]=0;var P=g<_&&g<N?0:_<N?1:2;if(O(a,o,e),O(a,o+1,P),o+=3,P==0){for(;(7&o)!=0;)o++;o=r.F._copyExact(p,v,i,a,o)}else{var E,T;if(P==1&&(E=w.fltree,T=w.fdtree),P==2){r.F.makeCodes(w.ltree,b),r.F.revCodes(w.ltree,b),r.F.makeCodes(w.dtree,y),r.F.revCodes(w.dtree,y),r.F.makeCodes(w.itree,A),r.F.revCodes(w.itree,A),E=w.ltree,T=w.dtree,f(a,o,S-257),f(a,o+=5,F-1),f(a,o+=5,D-4),o+=4;for(var x=0;x<D;x++)f(a,o+3*x,w.itree[1+(w.ordr[x]<<1)]);o+=3*D,o=r.F._codeTiny(k,w.itree,a,o),o=r.F._codeTiny(U,w.itree,a,o)}for(var h=v,L=0;L<l;L+=2){for(var M=t[L],H=M>>>23,K=h+(8388607&M);h<K;)o=r.F._writeLit(p[h++],E,a,o);if(H!=0){var I=t[L+1],z=I>>16,B=I>>8&255,j=255&I;f(a,o=r.F._writeLit(257+B,E,a,o),H-w.of0[B]),o+=w.exb[B],O(a,o=r.F._writeLit(j,T,a,o),z-w.df0[j]),o+=w.dxb[j],h+=H}}o=r.F._writeLit(256,E,a,o)}return o},r.F._copyExact=function(e,t,l,s,p){var v=p>>>3;return s[v]=l,s[v+1]=l>>>8,s[v+2]=255-s[v],s[v+3]=255-s[v+1],v+=4,s.set(new Uint8Array(e.buffer,t,l),v),p+(l+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),l=r.F._hufTree(e.dhst,e.dtree,15),s=[],p=r.F._lenCodes(e.ltree,s),v=[],i=r.F._lenCodes(e.dtree,v),a=0;a<s.length;a+=2)e.ihst[s[a]]++;for(a=0;a<v.length;a+=2)e.ihst[v[a]]++;for(var o=r.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[t,l,o,p,i,u,s,v]},r.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},r.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},r.F.contSize=function(e,t){for(var l=0,s=0;s<t.length;s++)l+=t[s]*e[1+(s<<1)];return l},r.F._codeTiny=function(e,t,l,s){for(var p=0;p<e.length;p+=2){var v=e[p],i=e[p+1];s=r.F._writeLit(v,t,l,s);var a=v==16?2:v==17?3:7;v>15&&(r.F._putsE(l,s,i,a),s+=a)}return s},r.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var s=0;s<l;s+=2){var p=e[s+1],v=s+3<l?e[s+3]:-1,i=s+5<l?e[s+5]:-1,a=s==0?-1:e[s-1];if(p==0&&v==p&&i==p){for(var o=s+5;o+2<l&&e[o+2]==p;)o+=2;(u=Math.min(o+1-s>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),s+=2*u-2}else if(p==a&&v==p&&i==p){for(o=s+5;o+2<l&&e[o+2]==p;)o+=2;var u=Math.min(o+1-s>>>1,6);t.push(16,u-3),s+=2*u-2}else t.push(p,0)}return l>>>1},r.F._hufTree=function(e,t,l){var s=[],p=e.length,v=t.length,i=0;for(i=0;i<v;i+=2)t[i]=0,t[i+1]=0;for(i=0;i<p;i++)e[i]!=0&&s.push({lit:i,f:e[i]});var a=s.length,o=s.slice(0);if(a==0)return 0;if(a==1){var u=s[0].lit;return o=u==0?1:0,t[1+(u<<1)]=1,t[1+(o<<1)]=1,1}s.sort(function(k,U){return k.f-U.f});var b=s[0],y=s[1],A=0,S=1,F=2;for(s[0]={lit:-1,f:b.f+y.f,l:b,r:y,d:0};S!=a-1;)b=A!=S&&(F==a||s[A].f<s[F].f)?s[A++]:s[F++],y=A!=S&&(F==a||s[A].f<s[F].f)?s[A++]:s[F++],s[S++]={lit:-1,f:b.f+y.f,l:b,r:y};var D=r.F.setDepth(s[S-1],0);for(D>l&&(r.F.restrictDepth(o,l,D),D=l),i=0;i<a;i++)t[1+(o[i].lit<<1)]=o[i].d;return D},r.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,l){var s=0,p=1<<l-t,v=0;for(e.sort(function(a,o){return o.d==a.d?a.f-o.f:o.d-a.d}),s=0;s<e.length&&e[s].d>t;s++){var i=e[s].d;e[s].d=t,v+=p-(1<<l-i)}for(v>>>=l-t;v>0;)(i=e[s].d)<t?(e[s].d++,v-=1<<t-i-1):s++;for(;s>=0;s--)e[s].d==t&&v<0&&(e[s].d--,v++);v!=0&&console.log("debt left")},r.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},r.F._writeLit=function(e,t,l,s){return r.F._putsF(l,s,t[e<<1]),s+t[1+(e<<1)]},r.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var s=r.F,p=s._bitsF,v=s._bitsE,i=s._decodeTiny,a=s.makeCodes,o=s.codes2map,u=s._get17,b=s.U,y=t==null;y&&(t=new l(e.length>>>2<<3));for(var A,S,F=0,D=0,k=0,U=0,w=0,O=0,f=0,g=0,_=0;F==0;)if(F=p(e,_,1),D=p(e,_+1,2),_+=3,D!=0){if(y&&(t=r.F._check(t,g+(1<<17))),D==1&&(A=b.flmap,S=b.fdmap,O=511,f=31),D==2){k=v(e,_,5)+257,U=v(e,_+5,5)+1,w=v(e,_+10,4)+4,_+=14;for(var N=0;N<38;N+=2)b.itree[N]=0,b.itree[N+1]=0;var R=1;for(N=0;N<w;N++){var P=v(e,_+3*N,3);b.itree[1+(b.ordr[N]<<1)]=P,P>R&&(R=P)}_+=3*w,a(b.itree,R),o(b.itree,R,b.imap),A=b.lmap,S=b.dmap,_=i(b.imap,(1<<R)-1,k+U,e,_,b.ttree);var E=s._copyOut(b.ttree,0,k,b.ltree);O=(1<<E)-1;var T=s._copyOut(b.ttree,k,U,b.dtree);f=(1<<T)-1,a(b.ltree,E),o(b.ltree,E,A),a(b.dtree,T),o(b.dtree,T,S)}for(;;){var x=A[u(e,_)&O];_+=15&x;var h=x>>>4;if(!(h>>>8))t[g++]=h;else{if(h==256)break;var L=g+h-254;if(h>264){var M=b.ldef[h-257];L=g+(M>>>3)+v(e,_,7&M),_+=7&M}var H=S[u(e,_)&f];_+=15&H;var K=H>>>4,I=b.ddef[K],z=(I>>>4)+p(e,_,15&I);for(_+=15&I,y&&(t=r.F._check(t,g+(1<<17)));g<L;)t[g]=t[g++-z],t[g]=t[g++-z],t[g]=t[g++-z],t[g]=t[g++-z];g=L}}}else{(7&_)!=0&&(_+=8-(7&_));var B=4+(_>>>3),j=e[B-4]|e[B-3]<<8;y&&(t=r.F._check(t,g+j)),t.set(new l(e.buffer,e.byteOffset+B,j),g),_=B+j<<3,g+=j}return t.length==g?t:t.slice(0,g)},r.F._check=function(e,t){var l=e.length;if(t<=l)return e;var s=new Uint8Array(Math.max(l<<1,t));return s.set(e,0),s},r.F._decodeTiny=function(e,t,l,s,p,v){for(var i=r.F._bitsE,a=r.F._get17,o=0;o<l;){var u=e[a(s,p)&t];p+=15&u;var b=u>>>4;if(b<=15)v[o]=b,o++;else{var y=0,A=0;b==16?(A=3+i(s,p,2),p+=2,y=v[o-1]):b==17?(A=3+i(s,p,3),p+=3):b==18&&(A=11+i(s,p,7),p+=7);for(var S=o+A;o<S;)v[o]=y,o++}}return p},r.F._copyOut=function(e,t,l,s){for(var p=0,v=0,i=s.length>>>1;v<l;){var a=e[v+t];s[v<<1]=0,s[1+(v<<1)]=a,a>p&&(p=a),v++}for(;v<i;)s[v<<1]=0,s[1+(v<<1)]=0,v++;return p},r.F.makeCodes=function(e,t){for(var l,s,p,v,i=r.F.U,a=e.length,o=i.bl_count,u=0;u<=t;u++)o[u]=0;for(u=1;u<a;u+=2)o[e[u]]++;var b=i.next_code;for(l=0,o[0]=0,s=1;s<=t;s++)l=l+o[s-1]<<1,b[s]=l;for(p=0;p<a;p+=2)(v=e[p+1])!=0&&(e[p]=b[v],b[v]++)},r.F.codes2map=function(e,t,l){for(var s=e.length,p=r.F.U.rev15,v=0;v<s;v+=2)if(e[v+1]!=0)for(var i=v>>1,a=e[v+1],o=i<<4|a,u=t-a,b=e[v]<<u,y=b+(1<<u);b!=y;)l[p[b]>>>15-t]=o,b++},r.F.revCodes=function(e,t){for(var l=r.F.U.rev15,s=15-t,p=0;p<e.length;p+=2){var v=e[p]<<t-e[p+1];e[p]=l[v]>>>s}},r.F._putsE=function(e,t,l){l<<=7&t;var s=t>>>3;e[s]|=l,e[s+1]|=l>>>8},r.F._putsF=function(e,t,l){l<<=7&t;var s=t>>>3;e[s]|=l,e[s+1]|=l>>>8,e[s+2]|=l>>>16},r.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},r.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(d=Uint16Array,c=Uint32Array,{next_code:new d(16),bl_count:new d(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new d(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new c(32),flmap:new d(512),fltree:[],fdmap:new d(32),fdtree:[],lmap:new d(32768),ltree:[],ttree:[],dmap:new d(32768),dtree:[],imap:new d(512),itree:[],rev15:new d(32768),lhst:new c(286),dhst:new c(30),ihst:new c(19),lits:new c(15e3),strt:new d(65536),prev:new d(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function s(p,v,i){for(;v--!=0;)p.push(0,i)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),s(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()})();var si=ri({__proto__:null,default:gt},[gt]);const Se=function(){var n={nextZero(i,a){for(;i[a]!=0;)a++;return a},readUshort:(i,a)=>i[a]<<8|i[a+1],writeUshort(i,a,o){i[a]=o>>8&255,i[a+1]=255&o},readUint:(i,a)=>16777216*i[a]+(i[a+1]<<16|i[a+2]<<8|i[a+3]),writeUint(i,a,o){i[a]=o>>24&255,i[a+1]=o>>16&255,i[a+2]=o>>8&255,i[a+3]=255&o},readASCII(i,a,o){let u="";for(let b=0;b<o;b++)u+=String.fromCharCode(i[a+b]);return u},writeASCII(i,a,o){for(let u=0;u<o.length;u++)i[a+u]=o.charCodeAt(u)},readBytes(i,a,o){const u=[];for(let b=0;b<o;b++)u.push(i[a+b]);return u},pad:i=>i.length<2?`0${i}`:i,readUTF8(i,a,o){let u,b="";for(let y=0;y<o;y++)b+=`%${n.pad(i[a+y].toString(16))}`;try{u=decodeURIComponent(b)}catch{return n.readASCII(i,a,o)}return u}};function d(i,a,o,u){const b=a*o,y=t(u),A=Math.ceil(a*y/8),S=new Uint8Array(4*b),F=new Uint32Array(S.buffer),{ctype:D}=u,{depth:k}=u,U=n.readUshort;if(D==6){const M=b<<2;if(k==8)for(var w=0;w<M;w+=4)S[w]=i[w],S[w+1]=i[w+1],S[w+2]=i[w+2],S[w+3]=i[w+3];if(k==16)for(w=0;w<M;w++)S[w]=i[w<<1]}else if(D==2){const M=u.tabs.tRNS;if(M==null){if(k==8)for(w=0;w<b;w++){var O=3*w;F[w]=255<<24|i[O+2]<<16|i[O+1]<<8|i[O]}if(k==16)for(w=0;w<b;w++)O=6*w,F[w]=255<<24|i[O+4]<<16|i[O+2]<<8|i[O]}else{var f=M[0];const H=M[1],K=M[2];if(k==8)for(w=0;w<b;w++){var g=w<<2;O=3*w,F[w]=255<<24|i[O+2]<<16|i[O+1]<<8|i[O],i[O]==f&&i[O+1]==H&&i[O+2]==K&&(S[g+3]=0)}if(k==16)for(w=0;w<b;w++)g=w<<2,O=6*w,F[w]=255<<24|i[O+4]<<16|i[O+2]<<8|i[O],U(i,O)==f&&U(i,O+2)==H&&U(i,O+4)==K&&(S[g+3]=0)}}else if(D==3){const M=u.tabs.PLTE,H=u.tabs.tRNS,K=H?H.length:0;if(k==1)for(var _=0;_<o;_++){var N=_*A,R=_*a;for(w=0;w<a;w++){g=R+w<<2;var P=3*(E=i[N+(w>>3)]>>7-((7&w)<<0)&1);S[g]=M[P],S[g+1]=M[P+1],S[g+2]=M[P+2],S[g+3]=E<K?H[E]:255}}if(k==2)for(_=0;_<o;_++)for(N=_*A,R=_*a,w=0;w<a;w++)g=R+w<<2,P=3*(E=i[N+(w>>2)]>>6-((3&w)<<1)&3),S[g]=M[P],S[g+1]=M[P+1],S[g+2]=M[P+2],S[g+3]=E<K?H[E]:255;if(k==4)for(_=0;_<o;_++)for(N=_*A,R=_*a,w=0;w<a;w++)g=R+w<<2,P=3*(E=i[N+(w>>1)]>>4-((1&w)<<2)&15),S[g]=M[P],S[g+1]=M[P+1],S[g+2]=M[P+2],S[g+3]=E<K?H[E]:255;if(k==8)for(w=0;w<b;w++){var E;g=w<<2,P=3*(E=i[w]),S[g]=M[P],S[g+1]=M[P+1],S[g+2]=M[P+2],S[g+3]=E<K?H[E]:255}}else if(D==4){if(k==8)for(w=0;w<b;w++){g=w<<2;var T=i[x=w<<1];S[g]=T,S[g+1]=T,S[g+2]=T,S[g+3]=i[x+1]}if(k==16)for(w=0;w<b;w++){var x;g=w<<2,T=i[x=w<<2],S[g]=T,S[g+1]=T,S[g+2]=T,S[g+3]=i[x+2]}}else if(D==0)for(f=u.tabs.tRNS?u.tabs.tRNS:-1,_=0;_<o;_++){const M=_*A,H=_*a;if(k==1)for(var h=0;h<a;h++){var L=(T=255*(i[M+(h>>>3)]>>>7-(7&h)&1))==255*f?0:255;F[H+h]=L<<24|T<<16|T<<8|T}else if(k==2)for(h=0;h<a;h++)L=(T=85*(i[M+(h>>>2)]>>>6-((3&h)<<1)&3))==85*f?0:255,F[H+h]=L<<24|T<<16|T<<8|T;else if(k==4)for(h=0;h<a;h++)L=(T=17*(i[M+(h>>>1)]>>>4-((1&h)<<2)&15))==17*f?0:255,F[H+h]=L<<24|T<<16|T<<8|T;else if(k==8)for(h=0;h<a;h++)L=(T=i[M+h])==f?0:255,F[H+h]=L<<24|T<<16|T<<8|T;else if(k==16)for(h=0;h<a;h++)T=i[M+(h<<1)],L=U(i,M+(h<<1))==f?0:255,F[H+h]=L<<24|T<<16|T<<8|T}return S}function c(i,a,o,u){const b=t(i),y=Math.ceil(o*b/8),A=new Uint8Array((y+1+i.interlace)*u);return a=i.tabs.CgBI?e(a,A):r(a,A),i.interlace==0?a=l(a,i,0,o,u):i.interlace==1&&(a=function(F,D){const k=D.width,U=D.height,w=t(D),O=w>>3,f=Math.ceil(k*w/8),g=new Uint8Array(U*f);let _=0;const N=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],P=[8,8,8,4,4,2,2],E=[8,8,4,4,2,2,1];let T=0;for(;T<7;){const h=P[T],L=E[T];let M=0,H=0,K=N[T];for(;K<U;)K+=h,H++;let I=R[T];for(;I<k;)I+=L,M++;const z=Math.ceil(M*w/8);l(F,D,_,M,H);let B=0,j=N[T];for(;j<U;){let V=R[T],$=_+B*z<<3;for(;V<k;){var x;if(w==1&&(x=(x=F[$>>3])>>7-(7&$)&1,g[j*f+(V>>3)]|=x<<7-((7&V)<<0)),w==2&&(x=(x=F[$>>3])>>6-(7&$)&3,g[j*f+(V>>2)]|=x<<6-((3&V)<<1)),w==4&&(x=(x=F[$>>3])>>4-(7&$)&15,g[j*f+(V>>1)]|=x<<4-((1&V)<<2)),w>=8){const W=j*f+V*O;for(let G=0;G<O;G++)g[W+G]=F[($>>3)+G]}$+=w,V+=L}B++,j+=h}M*H!=0&&(_+=H*(1+z)),T+=1}return g}(a,i)),a}function r(i,a){return e(new Uint8Array(i.buffer,2,i.length-6),a)}var e=function(){const i={H:{}};return i.H.N=function(a,o){const u=Uint8Array;let b,y,A=0,S=0,F=0,D=0,k=0,U=0,w=0,O=0,f=0;if(a[0]==3&&a[1]==0)return o||new u(0);const g=i.H,_=g.b,N=g.e,R=g.R,P=g.n,E=g.A,T=g.Z,x=g.m,h=o==null;for(h&&(o=new u(a.length>>>2<<5));A==0;)if(A=_(a,f,1),S=_(a,f+1,2),f+=3,S!=0){if(h&&(o=i.H.W(o,O+(1<<17))),S==1&&(b=x.J,y=x.h,U=511,w=31),S==2){F=N(a,f,5)+257,D=N(a,f+5,5)+1,k=N(a,f+10,4)+4,f+=14;let M=1;for(var L=0;L<38;L+=2)x.Q[L]=0,x.Q[L+1]=0;for(L=0;L<k;L++){const I=N(a,f+3*L,3);x.Q[1+(x.X[L]<<1)]=I,I>M&&(M=I)}f+=3*k,P(x.Q,M),E(x.Q,M,x.u),b=x.w,y=x.d,f=R(x.u,(1<<M)-1,F+D,a,f,x.v);const H=g.V(x.v,0,F,x.C);U=(1<<H)-1;const K=g.V(x.v,F,D,x.D);w=(1<<K)-1,P(x.C,H),E(x.C,H,b),P(x.D,K),E(x.D,K,y)}for(;;){const M=b[T(a,f)&U];f+=15&M;const H=M>>>4;if(!(H>>>8))o[O++]=H;else{if(H==256)break;{let K=O+H-254;if(H>264){const V=x.q[H-257];K=O+(V>>>3)+N(a,f,7&V),f+=7&V}const I=y[T(a,f)&w];f+=15&I;const z=I>>>4,B=x.c[z],j=(B>>>4)+_(a,f,15&B);for(f+=15&B;O<K;)o[O]=o[O++-j],o[O]=o[O++-j],o[O]=o[O++-j],o[O]=o[O++-j];O=K}}}}else{(7&f)!=0&&(f+=8-(7&f));const M=4+(f>>>3),H=a[M-4]|a[M-3]<<8;h&&(o=i.H.W(o,O+H)),o.set(new u(a.buffer,a.byteOffset+M,H),O),f=M+H<<3,O+=H}return o.length==O?o:o.slice(0,O)},i.H.W=function(a,o){const u=a.length;if(o<=u)return a;const b=new Uint8Array(u<<1);return b.set(a,0),b},i.H.R=function(a,o,u,b,y,A){const S=i.H.e,F=i.H.Z;let D=0;for(;D<u;){const k=a[F(b,y)&o];y+=15&k;const U=k>>>4;if(U<=15)A[D]=U,D++;else{let w=0,O=0;U==16?(O=3+S(b,y,2),y+=2,w=A[D-1]):U==17?(O=3+S(b,y,3),y+=3):U==18&&(O=11+S(b,y,7),y+=7);const f=D+O;for(;D<f;)A[D]=w,D++}}return y},i.H.V=function(a,o,u,b){let y=0,A=0;const S=b.length>>>1;for(;A<u;){const F=a[A+o];b[A<<1]=0,b[1+(A<<1)]=F,F>y&&(y=F),A++}for(;A<S;)b[A<<1]=0,b[1+(A<<1)]=0,A++;return y},i.H.n=function(a,o){const u=i.H.m,b=a.length;let y,A,S,F;const D=u.j;for(var k=0;k<=o;k++)D[k]=0;for(k=1;k<b;k+=2)D[a[k]]++;const U=u.K;for(y=0,D[0]=0,A=1;A<=o;A++)y=y+D[A-1]<<1,U[A]=y;for(S=0;S<b;S+=2)F=a[S+1],F!=0&&(a[S]=U[F],U[F]++)},i.H.A=function(a,o,u){const b=a.length,y=i.H.m.r;for(let A=0;A<b;A+=2)if(a[A+1]!=0){const S=A>>1,F=a[A+1],D=S<<4|F,k=o-F;let U=a[A]<<k;const w=U+(1<<k);for(;U!=w;)u[y[U]>>>15-o]=D,U++}},i.H.l=function(a,o){const u=i.H.m.r,b=15-o;for(let y=0;y<a.length;y+=2){const A=a[y]<<o-a[y+1];a[y]=u[A]>>>b}},i.H.M=function(a,o,u){u<<=7&o;const b=o>>>3;a[b]|=u,a[b+1]|=u>>>8},i.H.I=function(a,o,u){u<<=7&o;const b=o>>>3;a[b]|=u,a[b+1]|=u>>>8,a[b+2]|=u>>>16},i.H.e=function(a,o,u){return(a[o>>>3]|a[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},i.H.b=function(a,o,u){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},i.H.Z=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)},i.H.i=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16|a[3+(o>>>3)]<<24)>>>(7&o)},i.H.m=function(){const a=Uint16Array,o=Uint32Array;return{K:new a(16),j:new a(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new a(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new o(32),J:new a(512),_:[],h:new a(32),$:[],w:new a(32768),C:[],v:[],d:new a(32768),D:[],u:new a(512),Q:[],r:new a(32768),s:new o(286),Y:new o(30),a:new o(19),t:new o(15e3),k:new a(65536),g:new a(32768)}}(),function(){const a=i.H.m;for(var o=0;o<32768;o++){let b=o;b=(2863311530&b)>>>1|(1431655765&b)<<1,b=(3435973836&b)>>>2|(858993459&b)<<2,b=(4042322160&b)>>>4|(252645135&b)<<4,b=(4278255360&b)>>>8|(16711935&b)<<8,a.r[o]=(b>>>16|b<<16)>>>17}function u(b,y,A){for(;y--!=0;)b.push(0,A)}for(o=0;o<32;o++)a.q[o]=a.S[o]<<3|a.T[o],a.c[o]=a.p[o]<<4|a.z[o];u(a._,144,8),u(a._,112,9),u(a._,24,7),u(a._,8,8),i.H.n(a._,9),i.H.A(a._,9,a.J),i.H.l(a._,9),u(a.$,32,5),i.H.n(a.$,5),i.H.A(a.$,5,a.h),i.H.l(a.$,5),u(a.Q,19,0),u(a.C,286,0),u(a.D,30,0),u(a.v,320,0)}(),i.H.N}();function t(i){return[1,null,3,1,2,null,4][i.ctype]*i.depth}function l(i,a,o,u,b){let y=t(a);const A=Math.ceil(u*y/8);let S,F;y=Math.ceil(y/8);let D=i[o],k=0;if(D>1&&(i[o]=[0,0,1][D-2]),D==3)for(k=y;k<A;k++)i[k+1]=i[k+1]+(i[k+1-y]>>>1)&255;for(let U=0;U<b;U++)if(S=o+U*A,F=S+U+1,D=i[F-1],k=0,D==0)for(;k<A;k++)i[S+k]=i[F+k];else if(D==1){for(;k<y;k++)i[S+k]=i[F+k];for(;k<A;k++)i[S+k]=i[F+k]+i[S+k-y]}else if(D==2)for(;k<A;k++)i[S+k]=i[F+k]+i[S+k-A];else if(D==3){for(;k<y;k++)i[S+k]=i[F+k]+(i[S+k-A]>>>1);for(;k<A;k++)i[S+k]=i[F+k]+(i[S+k-A]+i[S+k-y]>>>1)}else{for(;k<y;k++)i[S+k]=i[F+k]+s(0,i[S+k-A],0);for(;k<A;k++)i[S+k]=i[F+k]+s(i[S+k-y],i[S+k-A],i[S+k-y-A])}return i}function s(i,a,o){const u=i+a-o,b=u-i,y=u-a,A=u-o;return b*b<=y*y&&b*b<=A*A?i:y*y<=A*A?a:o}function p(i,a,o){o.width=n.readUint(i,a),a+=4,o.height=n.readUint(i,a),a+=4,o.depth=i[a],a++,o.ctype=i[a],a++,o.compress=i[a],a++,o.filter=i[a],a++,o.interlace=i[a],a++}function v(i,a,o,u,b,y,A,S,F){const D=Math.min(a,b),k=Math.min(o,y);let U=0,w=0;for(let T=0;T<k;T++)for(let x=0;x<D;x++)if(A>=0&&S>=0?(U=T*a+x<<2,w=(S+T)*b+A+x<<2):(U=(-S+T)*a-A+x<<2,w=T*b+x<<2),F==0)u[w]=i[U],u[w+1]=i[U+1],u[w+2]=i[U+2],u[w+3]=i[U+3];else if(F==1){var O=i[U+3]*.00392156862745098,f=i[U]*O,g=i[U+1]*O,_=i[U+2]*O,N=u[w+3]*(1/255),R=u[w]*N,P=u[w+1]*N,E=u[w+2]*N;const h=1-O,L=O+N*h,M=L==0?0:1/L;u[w+3]=255*L,u[w+0]=(f+R*h)*M,u[w+1]=(g+P*h)*M,u[w+2]=(_+E*h)*M}else if(F==2)O=i[U+3],f=i[U],g=i[U+1],_=i[U+2],N=u[w+3],R=u[w],P=u[w+1],E=u[w+2],O==N&&f==R&&g==P&&_==E?(u[w]=0,u[w+1]=0,u[w+2]=0,u[w+3]=0):(u[w]=f,u[w+1]=g,u[w+2]=_,u[w+3]=O);else if(F==3){if(O=i[U+3],f=i[U],g=i[U+1],_=i[U+2],N=u[w+3],R=u[w],P=u[w+1],E=u[w+2],O==N&&f==R&&g==P&&_==E)continue;if(O<220&&N>20)return!1}return!0}return{decode:function(a){const o=new Uint8Array(a);let u=8;const b=n,y=b.readUshort,A=b.readUint,S={tabs:{},frames:[]},F=new Uint8Array(o.length);let D,k=0,U=0;const w=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(o[O]!=w[O])throw"The input is not a PNG file!";for(;u<o.length;){const T=b.readUint(o,u);u+=4;const x=b.readASCII(o,u,4);if(u+=4,x=="IHDR")p(o,u,S);else if(x=="iCCP"){for(var f=u;o[f]!=0;)f++;b.readASCII(o,u,f-u),o[f+1];const h=o.slice(f+2,u+T);let L=null;try{L=r(h)}catch{L=e(h)}S.tabs[x]=L}else if(x=="CgBI")S.tabs[x]=o.slice(u,u+4);else if(x=="IDAT"){for(O=0;O<T;O++)F[k+O]=o[u+O];k+=T}else if(x=="acTL")S.tabs[x]={num_frames:A(o,u),num_plays:A(o,u+4)},D=new Uint8Array(o.length);else if(x=="fcTL"){U!=0&&((E=S.frames[S.frames.length-1]).data=c(S,D.slice(0,U),E.rect.width,E.rect.height),U=0);const h={x:A(o,u+12),y:A(o,u+16),width:A(o,u+4),height:A(o,u+8)};let L=y(o,u+22);L=y(o,u+20)/(L==0?100:L);const M={rect:h,delay:Math.round(1e3*L),dispose:o[u+24],blend:o[u+25]};S.frames.push(M)}else if(x=="fdAT"){for(O=0;O<T-4;O++)D[U+O]=o[u+O+4];U+=T-4}else if(x=="pHYs")S.tabs[x]=[b.readUint(o,u),b.readUint(o,u+4),o[u+8]];else if(x=="cHRM")for(S.tabs[x]=[],O=0;O<8;O++)S.tabs[x].push(b.readUint(o,u+4*O));else if(x=="tEXt"||x=="zTXt"){S.tabs[x]==null&&(S.tabs[x]={});var g=b.nextZero(o,u),_=b.readASCII(o,u,g-u),N=u+T-g-1;if(x=="tEXt")P=b.readASCII(o,g+1,N);else{var R=r(o.slice(g+2,g+2+N));P=b.readUTF8(R,0,R.length)}S.tabs[x][_]=P}else if(x=="iTXt"){S.tabs[x]==null&&(S.tabs[x]={}),g=0,f=u,g=b.nextZero(o,f),_=b.readASCII(o,f,g-f);const h=o[f=g+1];var P;o[f+1],f+=2,g=b.nextZero(o,f),b.readASCII(o,f,g-f),f=g+1,g=b.nextZero(o,f),b.readUTF8(o,f,g-f),N=T-((f=g+1)-u),h==0?P=b.readUTF8(o,f,N):(R=r(o.slice(f,f+N)),P=b.readUTF8(R,0,R.length)),S.tabs[x][_]=P}else if(x=="PLTE")S.tabs[x]=b.readBytes(o,u,T);else if(x=="hIST"){const h=S.tabs.PLTE.length/3;for(S.tabs[x]=[],O=0;O<h;O++)S.tabs[x].push(y(o,u+2*O))}else if(x=="tRNS")S.ctype==3?S.tabs[x]=b.readBytes(o,u,T):S.ctype==0?S.tabs[x]=y(o,u):S.ctype==2&&(S.tabs[x]=[y(o,u),y(o,u+2),y(o,u+4)]);else if(x=="gAMA")S.tabs[x]=b.readUint(o,u)/1e5;else if(x=="sRGB")S.tabs[x]=o[u];else if(x=="bKGD")S.ctype==0||S.ctype==4?S.tabs[x]=[y(o,u)]:S.ctype==2||S.ctype==6?S.tabs[x]=[y(o,u),y(o,u+2),y(o,u+4)]:S.ctype==3&&(S.tabs[x]=o[u]);else if(x=="IEND")break;u+=T,b.readUint(o,u),u+=4}var E;return U!=0&&((E=S.frames[S.frames.length-1]).data=c(S,D.slice(0,U),E.rect.width,E.rect.height)),S.data=c(S,F,S.width,S.height),delete S.compress,delete S.interlace,delete S.filter,S},toRGBA8:function(a){const o=a.width,u=a.height;if(a.tabs.acTL==null)return[d(a.data,o,u,a).buffer];const b=[];a.frames[0].data==null&&(a.frames[0].data=a.data);const y=o*u*4,A=new Uint8Array(y),S=new Uint8Array(y),F=new Uint8Array(y);for(let k=0;k<a.frames.length;k++){const U=a.frames[k],w=U.rect.x,O=U.rect.y,f=U.rect.width,g=U.rect.height,_=d(U.data,f,g,a);if(k!=0)for(var D=0;D<y;D++)F[D]=A[D];if(U.blend==0?v(_,f,g,A,o,u,w,O,0):U.blend==1&&v(_,f,g,A,o,u,w,O,1),b.push(A.buffer.slice(0)),U.dispose!=0){if(U.dispose==1)v(S,f,g,A,o,u,w,O,0);else if(U.dispose==2)for(D=0;D<y;D++)A[D]=F[D]}}return b},_paeth:s,_copyTile:v,_bin:n}}();(function(){const{_copyTile:n}=Se,{_bin:d}=Se,c=Se._paeth;var r={table:function(){const f=new Uint32Array(256);for(let g=0;g<256;g++){let _=g;for(let N=0;N<8;N++)1&_?_=3988292384^_>>>1:_>>>=1;f[g]=_}return f}(),update(f,g,_,N){for(let R=0;R<N;R++)f=r.table[255&(f^g[_+R])]^f>>>8;return f},crc:(f,g,_)=>4294967295^r.update(4294967295,f,g,_)};function e(f,g,_,N){g[_]+=f[0]*N>>4,g[_+1]+=f[1]*N>>4,g[_+2]+=f[2]*N>>4,g[_+3]+=f[3]*N>>4}function t(f){return Math.max(0,Math.min(255,f))}function l(f,g){const _=f[0]-g[0],N=f[1]-g[1],R=f[2]-g[2],P=f[3]-g[3];return _*_+N*N+R*R+P*P}function s(f,g,_,N,R,P,E){E==null&&(E=1);const T=N.length,x=[];for(var h=0;h<T;h++){const j=N[h];x.push([j>>>0&255,j>>>8&255,j>>>16&255,j>>>24&255])}for(h=0;h<T;h++){let j=4294967295;for(var L=0,M=0;M<T;M++){var H=l(x[h],x[M]);M!=h&&H<j&&(j=H,L=M)}}const K=new Uint32Array(R.buffer),I=new Int16Array(g*_*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(h=0;h<z.length;h++)z[h]=255*((z[h]+.5)/16-.5);for(let j=0;j<_;j++)for(let V=0;V<g;V++){var B;h=4*(j*g+V),E!=2?B=[t(f[h]+I[h]),t(f[h+1]+I[h+1]),t(f[h+2]+I[h+2]),t(f[h+3]+I[h+3])]:(H=z[4*(3&j)+(3&V)],B=[t(f[h]+H),t(f[h+1]+H),t(f[h+2]+H),t(f[h+3]+H)]),L=0;let $=16777215;for(M=0;M<T;M++){const q=l(B,x[M]);q<$&&($=q,L=M)}const W=x[L],G=[B[0]-W[0],B[1]-W[1],B[2]-W[2],B[3]-W[3]];E==1&&(V!=g-1&&e(G,I,h+4,7),j!=_-1&&(V!=0&&e(G,I,h+4*g-4,3),e(G,I,h+4*g,5),V!=g-1&&e(G,I,h+4*g+4,1))),P[h>>2]=L,K[h>>2]=N[L]}}function p(f,g,_,N,R){R==null&&(R={});const{crc:P}=r,E=d.writeUint,T=d.writeUshort,x=d.writeASCII;let h=8;const L=f.frames.length>1;let M,H=!1,K=33+(L?20:0);if(R.sRGB!=null&&(K+=13),R.pHYs!=null&&(K+=21),R.iCCP!=null&&(M=pako.deflate(R.iCCP),K+=21+M.length+4),f.ctype==3){for(var I=f.plte.length,z=0;z<I;z++)f.plte[z]>>>24!=255&&(H=!0);K+=8+3*I+4+(H?8+1*I+4:0)}for(var B=0;B<f.frames.length;B++)L&&(K+=38),K+=(W=f.frames[B]).cimg.length+12,B!=0&&(K+=4);K+=12;const j=new Uint8Array(K),V=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)j[z]=V[z];if(E(j,h,13),h+=4,x(j,h,"IHDR"),h+=4,E(j,h,g),h+=4,E(j,h,_),h+=4,j[h]=f.depth,h++,j[h]=f.ctype,h++,j[h]=0,h++,j[h]=0,h++,j[h]=0,h++,E(j,h,P(j,h-17,17)),h+=4,R.sRGB!=null&&(E(j,h,1),h+=4,x(j,h,"sRGB"),h+=4,j[h]=R.sRGB,h++,E(j,h,P(j,h-5,5)),h+=4),R.iCCP!=null){const G=13+M.length;E(j,h,G),h+=4,x(j,h,"iCCP"),h+=4,x(j,h,"ICC profile"),h+=11,h+=2,j.set(M,h),h+=M.length,E(j,h,P(j,h-(G+4),G+4)),h+=4}if(R.pHYs!=null&&(E(j,h,9),h+=4,x(j,h,"pHYs"),h+=4,E(j,h,R.pHYs[0]),h+=4,E(j,h,R.pHYs[1]),h+=4,j[h]=R.pHYs[2],h++,E(j,h,P(j,h-13,13)),h+=4),L&&(E(j,h,8),h+=4,x(j,h,"acTL"),h+=4,E(j,h,f.frames.length),h+=4,E(j,h,R.loop!=null?R.loop:0),h+=4,E(j,h,P(j,h-12,12)),h+=4),f.ctype==3){for(E(j,h,3*(I=f.plte.length)),h+=4,x(j,h,"PLTE"),h+=4,z=0;z<I;z++){const G=3*z,q=f.plte[z],Q=255&q,Z=q>>>8&255,fe=q>>>16&255;j[h+G+0]=Q,j[h+G+1]=Z,j[h+G+2]=fe}if(h+=3*I,E(j,h,P(j,h-3*I-4,3*I+4)),h+=4,H){for(E(j,h,I),h+=4,x(j,h,"tRNS"),h+=4,z=0;z<I;z++)j[h+z]=f.plte[z]>>>24&255;h+=I,E(j,h,P(j,h-I-4,I+4)),h+=4}}let $=0;for(B=0;B<f.frames.length;B++){var W=f.frames[B];L&&(E(j,h,26),h+=4,x(j,h,"fcTL"),h+=4,E(j,h,$++),h+=4,E(j,h,W.rect.width),h+=4,E(j,h,W.rect.height),h+=4,E(j,h,W.rect.x),h+=4,E(j,h,W.rect.y),h+=4,T(j,h,N[B]),h+=2,T(j,h,1e3),h+=2,j[h]=W.dispose,h++,j[h]=W.blend,h++,E(j,h,P(j,h-30,30)),h+=4);const G=W.cimg;E(j,h,(I=G.length)+(B==0?0:4)),h+=4;const q=h;x(j,h,B==0?"IDAT":"fdAT"),h+=4,B!=0&&(E(j,h,$++),h+=4),j.set(G,h),h+=I,E(j,h,P(j,q,h-q)),h+=4}return E(j,h,0),h+=4,x(j,h,"IEND"),h+=4,E(j,h,P(j,h-4,4)),h+=4,j.buffer}function v(f,g,_){for(let N=0;N<f.frames.length;N++){const R=f.frames[N];R.rect.width;const P=R.rect.height,E=new Uint8Array(P*R.bpl+P);R.cimg=u(R.img,P,R.bpp,R.bpl,E,g,_)}}function i(f,g,_,N,R){const P=R[0],E=R[1],T=R[2],x=R[3],h=R[4],L=R[5];let M=6,H=8,K=255;for(var I=0;I<f.length;I++){const ae=new Uint8Array(f[I]);for(var z=ae.length,B=0;B<z;B+=4)K&=ae[B+3]}const j=K!=255,V=function(ee,ne,ce,pe,se,ve){const ie=[];for(var re=0;re<ee.length;re++){const he=new Uint8Array(ee[re]),we=new Uint32Array(he.buffer);var xe;let ye=0,je=0,_e=ne,Le=ce,It=pe?1:0;if(re!=0){const jo=ve||pe||re==1||ie[re-2].dispose!=0?1:2;let Pt=0,gn=1e9;for(let et=0;et<jo;et++){var Ie=new Uint8Array(ee[re-1-et]);const Io=new Uint32Array(ee[re-1-et]);let Pe=ne,ke=ce,Ge=-1,tt=-1;for(let Be=0;Be<ce;Be++)for(let He=0;He<ne;He++)we[de=Be*ne+He]!=Io[de]&&(He<Pe&&(Pe=He),He>Ge&&(Ge=He),Be<ke&&(ke=Be),Be>tt&&(tt=Be));Ge==-1&&(Pe=ke=Ge=tt=0),se&&((1&Pe)==1&&Pe--,(1&ke)==1&&ke--);const vn=(Ge-Pe+1)*(tt-ke+1);vn<gn&&(gn=vn,Pt=et,ye=Pe,je=ke,_e=Ge-Pe+1,Le=tt-ke+1)}Ie=new Uint8Array(ee[re-1-Pt]),Pt==1&&(ie[re-1].dispose=2),xe=new Uint8Array(_e*Le*4),n(Ie,ne,ce,xe,_e,Le,-ye,-je,0),It=n(he,ne,ce,xe,_e,Le,-ye,-je,3)?1:0,It==1?o(he,ne,ce,xe,{x:ye,y:je,width:_e,height:Le}):n(he,ne,ce,xe,_e,Le,-ye,-je,0)}else xe=he.slice(0);ie.push({rect:{x:ye,y:je,width:_e,height:Le},img:xe,blend:It,dispose:0})}if(pe)for(re=0;re<ie.length;re++){if((Ue=ie[re]).blend==1)continue;const he=Ue.rect,we=ie[re-1].rect,ye=Math.min(he.x,we.x),je=Math.min(he.y,we.y),_e={x:ye,y:je,width:Math.max(he.x+he.width,we.x+we.width)-ye,height:Math.max(he.y+he.height,we.y+we.height)-je};ie[re-1].dispose=1,re-1!=0&&a(ee,ne,ce,ie,re-1,_e,se),a(ee,ne,ce,ie,re,_e,se)}let ut=0;if(ee.length!=1)for(var de=0;de<ie.length;de++){var Ue;ut+=(Ue=ie[de]).rect.width*Ue.rect.height}return ie}(f,g,_,P,E,T),$={},W=[],G=[];if(N!=0){const ae=[];for(B=0;B<V.length;B++)ae.push(V[B].img.buffer);const ee=function(se){let ve=0;for(var ie=0;ie<se.length;ie++)ve+=se[ie].byteLength;const re=new Uint8Array(ve);let xe=0;for(ie=0;ie<se.length;ie++){const Ie=new Uint8Array(se[ie]),ut=Ie.length;for(let de=0;de<ut;de+=4){let Ue=Ie[de],he=Ie[de+1],we=Ie[de+2];const ye=Ie[de+3];ye==0&&(Ue=he=we=0),re[xe+de]=Ue,re[xe+de+1]=he,re[xe+de+2]=we,re[xe+de+3]=ye}xe+=ut}return re.buffer}(ae),ne=y(ee,N);for(B=0;B<ne.plte.length;B++)W.push(ne.plte[B].est.rgba);let ce=0;for(B=0;B<V.length;B++){const pe=(Q=V[B]).img.length;var q=new Uint8Array(ne.inds.buffer,ce>>2,pe>>2);G.push(q);const se=new Uint8Array(ne.abuf,ce,pe);L&&s(Q.img,Q.rect.width,Q.rect.height,W,se,q),Q.img.set(se),ce+=pe}}else for(I=0;I<V.length;I++){var Q=V[I];const ae=new Uint32Array(Q.img.buffer);var Z=Q.rect.width;for(z=ae.length,q=new Uint8Array(z),G.push(q),B=0;B<z;B++){const ee=ae[B];if(B!=0&&ee==ae[B-1])q[B]=q[B-1];else if(B>Z&&ee==ae[B-Z])q[B]=q[B-Z];else{let ne=$[ee];if(ne==null&&($[ee]=ne=W.length,W.push(ee),W.length>=300))break;q[B]=ne}}}const fe=W.length;for(fe<=256&&h==0&&(H=fe<=2?1:fe<=4?2:fe<=16?4:8,H=Math.max(H,x)),I=0;I<V.length;I++){(Q=V[I]).rect.x,Q.rect.y,Z=Q.rect.width;const ae=Q.rect.height;let ee=Q.img;new Uint32Array(ee.buffer);let ne=4*Z,ce=4;if(fe<=256&&h==0){ne=Math.ceil(H*Z/8);var le=new Uint8Array(ne*ae);const pe=G[I];for(let se=0;se<ae;se++){B=se*ne;const ve=se*Z;if(H==8)for(var te=0;te<Z;te++)le[B+te]=pe[ve+te];else if(H==4)for(te=0;te<Z;te++)le[B+(te>>1)]|=pe[ve+te]<<4-4*(1&te);else if(H==2)for(te=0;te<Z;te++)le[B+(te>>2)]|=pe[ve+te]<<6-2*(3&te);else if(H==1)for(te=0;te<Z;te++)le[B+(te>>3)]|=pe[ve+te]<<7-1*(7&te)}ee=le,M=3,ce=1}else if(j==0&&V.length==1){le=new Uint8Array(Z*ae*3);const pe=Z*ae;for(B=0;B<pe;B++){const se=3*B,ve=4*B;le[se]=ee[ve],le[se+1]=ee[ve+1],le[se+2]=ee[ve+2]}ee=le,M=2,ce=3,ne=3*Z}Q.img=ee,Q.bpl=ne,Q.bpp=ce}return{ctype:M,depth:H,plte:W,frames:V}}function a(f,g,_,N,R,P,E){const T=Uint8Array,x=Uint32Array,h=new T(f[R-1]),L=new x(f[R-1]),M=R+1<f.length?new T(f[R+1]):null,H=new T(f[R]),K=new x(H.buffer);let I=g,z=_,B=-1,j=-1;for(let $=0;$<P.height;$++)for(let W=0;W<P.width;W++){const G=P.x+W,q=P.y+$,Q=q*g+G,Z=K[Q];Z==0||N[R-1].dispose==0&&L[Q]==Z&&(M==null||M[4*Q+3]!=0)||(G<I&&(I=G),G>B&&(B=G),q<z&&(z=q),q>j&&(j=q))}B==-1&&(I=z=B=j=0),E&&((1&I)==1&&I--,(1&z)==1&&z--),P={x:I,y:z,width:B-I+1,height:j-z+1};const V=N[R];V.rect=P,V.blend=1,V.img=new Uint8Array(P.width*P.height*4),N[R-1].dispose==0?(n(h,g,_,V.img,P.width,P.height,-P.x,-P.y,0),o(H,g,_,V.img,P)):n(H,g,_,V.img,P.width,P.height,-P.x,-P.y,0)}function o(f,g,_,N,R){n(f,g,_,N,R.width,R.height,-R.x,-R.y,2)}function u(f,g,_,N,R,P,E){const T=[];let x,h=[0,1,2,3,4];P!=-1?h=[P]:(g*N>5e5||_==1)&&(h=[0]),E&&(x={level:0});const L=si;for(var M=0;M<h.length;M++){for(let I=0;I<g;I++)b(R,f,I,N,_,h[M]);T.push(L.deflate(R,x))}let H,K=1e9;for(M=0;M<T.length;M++)T[M].length<K&&(H=M,K=T[M].length);return T[H]}function b(f,g,_,N,R,P){const E=_*N;let T=E+_;if(f[T]=P,T++,P==0)if(N<500)for(var x=0;x<N;x++)f[T+x]=g[E+x];else f.set(new Uint8Array(g.buffer,E,N),T);else if(P==1){for(x=0;x<R;x++)f[T+x]=g[E+x];for(x=R;x<N;x++)f[T+x]=g[E+x]-g[E+x-R]+256&255}else if(_==0){for(x=0;x<R;x++)f[T+x]=g[E+x];if(P==2)for(x=R;x<N;x++)f[T+x]=g[E+x];if(P==3)for(x=R;x<N;x++)f[T+x]=g[E+x]-(g[E+x-R]>>1)+256&255;if(P==4)for(x=R;x<N;x++)f[T+x]=g[E+x]-c(g[E+x-R],0,0)+256&255}else{if(P==2)for(x=0;x<N;x++)f[T+x]=g[E+x]+256-g[E+x-N]&255;if(P==3){for(x=0;x<R;x++)f[T+x]=g[E+x]+256-(g[E+x-N]>>1)&255;for(x=R;x<N;x++)f[T+x]=g[E+x]+256-(g[E+x-N]+g[E+x-R]>>1)&255}if(P==4){for(x=0;x<R;x++)f[T+x]=g[E+x]+256-c(0,g[E+x-N],0)&255;for(x=R;x<N;x++)f[T+x]=g[E+x]+256-c(g[E+x-R],g[E+x-N],g[E+x-R-N])&255}}}function y(f,g){const _=new Uint8Array(f),N=_.slice(0),R=new Uint32Array(N.buffer),P=A(N,g),E=P[0],T=P[1],x=_.length,h=new Uint8Array(x>>2);let L;if(_.length<2e7)for(var M=0;M<x;M+=4)L=S(E,H=_[M]*(1/255),K=_[M+1]*(1/255),I=_[M+2]*(1/255),z=_[M+3]*(1/255)),h[M>>2]=L.ind,R[M>>2]=L.est.rgba;else for(M=0;M<x;M+=4){var H=_[M]*.00392156862745098,K=_[M+1]*(1/255),I=_[M+2]*(1/255),z=_[M+3]*(1/255);for(L=E;L.left;)L=F(L.est,H,K,I,z)<=0?L.left:L.right;h[M>>2]=L.ind,R[M>>2]=L.est.rgba}return{abuf:N.buffer,inds:h,plte:T}}function A(f,g,_){_==null&&(_=1e-4);const N=new Uint32Array(f.buffer),R={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=U(f,R.i0,R.i1),R.est=w(R.bst);const P=[R];for(;P.length<g;){let T=0,x=0;for(var E=0;E<P.length;E++)P[E].est.L>T&&(T=P[E].est.L,x=E);if(T<_)break;const h=P[x],L=D(f,N,h.i0,h.i1,h.est.e,h.est.eMq255);if(h.i0>=L||h.i1<=L){h.est.L=0;continue}const M={i0:h.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};M.bst=U(f,M.i0,M.i1),M.est=w(M.bst);const H={i0:L,i1:h.i1,bst:null,est:null,tdst:0,left:null,right:null};for(H.bst={R:[],m:[],N:h.bst.N-M.bst.N},E=0;E<16;E++)H.bst.R[E]=h.bst.R[E]-M.bst.R[E];for(E=0;E<4;E++)H.bst.m[E]=h.bst.m[E]-M.bst.m[E];H.est=w(H.bst),h.left=M,h.right=H,P[x]=M,P.push(H)}for(P.sort((T,x)=>x.bst.N-T.bst.N),E=0;E<P.length;E++)P[E].ind=E;return[R,P]}function S(f,g,_,N,R){if(f.left==null)return f.tdst=function(M,H,K,I,z){const B=H-M[0],j=K-M[1],V=I-M[2],$=z-M[3];return B*B+j*j+V*V+$*$}(f.est.q,g,_,N,R),f;const P=F(f.est,g,_,N,R);let E=f.left,T=f.right;P>0&&(E=f.right,T=f.left);const x=S(E,g,_,N,R);if(x.tdst<=P*P)return x;const h=S(T,g,_,N,R);return h.tdst<x.tdst?h:x}function F(f,g,_,N,R){const{e:P}=f;return P[0]*g+P[1]*_+P[2]*N+P[3]*R-f.eMq}function D(f,g,_,N,R,P){for(N-=4;_<N;){for(;k(f,_,R)<=P;)_+=4;for(;k(f,N,R)>P;)N-=4;if(_>=N)break;const E=g[_>>2];g[_>>2]=g[N>>2],g[N>>2]=E,_+=4,N-=4}for(;k(f,_,R)>P;)_-=4;return _+4}function k(f,g,_){return f[g]*_[0]+f[g+1]*_[1]+f[g+2]*_[2]+f[g+3]*_[3]}function U(f,g,_){const N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],P=_-g>>2;for(let E=g;E<_;E+=4){const T=f[E]*.00392156862745098,x=f[E+1]*(1/255),h=f[E+2]*(1/255),L=f[E+3]*(1/255);R[0]+=T,R[1]+=x,R[2]+=h,R[3]+=L,N[0]+=T*T,N[1]+=T*x,N[2]+=T*h,N[3]+=T*L,N[5]+=x*x,N[6]+=x*h,N[7]+=x*L,N[10]+=h*h,N[11]+=h*L,N[15]+=L*L}return N[4]=N[1],N[8]=N[2],N[9]=N[6],N[12]=N[3],N[13]=N[7],N[14]=N[11],{R:N,m:R,N:P}}function w(f){const{R:g}=f,{m:_}=f,{N}=f,R=_[0],P=_[1],E=_[2],T=_[3],x=N==0?0:1/N,h=[g[0]-R*R*x,g[1]-R*P*x,g[2]-R*E*x,g[3]-R*T*x,g[4]-P*R*x,g[5]-P*P*x,g[6]-P*E*x,g[7]-P*T*x,g[8]-E*R*x,g[9]-E*P*x,g[10]-E*E*x,g[11]-E*T*x,g[12]-T*R*x,g[13]-T*P*x,g[14]-T*E*x,g[15]-T*T*x],L=h,M=O;let H=[Math.random(),Math.random(),Math.random(),Math.random()],K=0,I=0;if(N!=0)for(let B=0;B<16&&(H=M.multVec(L,H),I=Math.sqrt(M.dot(H,H)),H=M.sml(1/I,H),!(B!=0&&Math.abs(I-K)<1e-9));B++)K=I;const z=[R*x,P*x,E*x,T*x];return{Cov:h,q:z,e:H,L:K,eMq255:M.dot(M.sml(255,z),H),eMq:M.dot(H,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var O={multVec:(f,g)=>[f[0]*g[0]+f[1]*g[1]+f[2]*g[2]+f[3]*g[3],f[4]*g[0]+f[5]*g[1]+f[6]*g[2]+f[7]*g[3],f[8]*g[0]+f[9]*g[1]+f[10]*g[2]+f[11]*g[3],f[12]*g[0]+f[13]*g[1]+f[14]*g[2]+f[15]*g[3]],dot:(f,g)=>f[0]*g[0]+f[1]*g[1]+f[2]*g[2]+f[3]*g[3],sml:(f,g)=>[f*g[0],f*g[1],f*g[2],f*g[3]]};Se.encode=function(g,_,N,R,P,E,T){R==null&&(R=0),T==null&&(T=!1);const x=i(g,_,N,R,[!1,!1,!1,0,T,!1]);return v(x,-1),p(x,_,N,P,E)},Se.encodeLL=function(g,_,N,R,P,E,T,x){const h={ctype:0+(R==1?0:2)+(P==0?0:4),depth:E,frames:[]},L=(R+P)*E,M=L*_;for(let H=0;H<g.length;H++)h.frames.push({rect:{x:0,y:0,width:_,height:N},img:new Uint8Array(g[H]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil(M/8)});return v(h,0,!0),p(h,_,N,T,x)},Se.encode.compress=i,Se.encode.dither=s,Se.quantize=y,Se.quantize.getKDtree=A,Se.quantize.getNearest=S})();const xo={toArrayBuffer(n,d){const c=n.width,r=n.height,e=c<<2,t=n.getContext("2d").getImageData(0,0,c,r),l=new Uint32Array(t.data.buffer),s=(32*c+31)/32<<2,p=s*r,v=122+p,i=new ArrayBuffer(v),a=new DataView(i),o=1<<20;let u,b,y,A,S=o,F=0,D=0,k=0;function U(f){a.setUint16(D,f,!0),D+=2}function w(f){a.setUint32(D,f,!0),D+=4}function O(f){D+=f}U(19778),w(v),O(4),w(122),w(108),w(c),w(-r>>>0),U(1),U(32),w(3),w(p),w(2835),w(2835),O(8),w(16711680),w(65280),w(255),w(4278190080),w(1466527264),function f(){for(;F<r&&S>0;){for(A=122+F*s,u=0;u<e;)S--,b=l[k++],y=b>>>24,a.setUint32(A+u,b<<8|y),u+=4;F++}k<l.length?(S=o,setTimeout(f,xo._dly)):d(i)}()},toBlob(n,d){this.toArrayBuffer(n,c=>{d(new Blob([c],{type:"image/bmp"}))})},_dly:9};var me={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ii={[me.CHROME]:16384,[me.FIREFOX]:11180,[me.DESKTOP_SAFARI]:16384,[me.IE]:8192,[me.IOS]:4096,[me.ETC]:8192};const hn=typeof window<"u",bo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,vt=hn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),li=(hn||bo)&&(vt&&vt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),yo=(hn||bo)&&(vt&&vt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function mn(n,d,c=Date.now()){return new Promise(r=>{const e=n.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let s=l.length;const p=new Uint8Array(s);for(;s--;)p[s]=l.charCodeAt(s);const v=new Blob([p],{type:t});v.name=d,v.lastModified=c,r(v)})}function wo(n){return new Promise((d,c)=>{const r=new yo;r.onload=()=>d(r.result),r.onerror=e=>c(e),r.readAsDataURL(n)})}function So(n){return new Promise((d,c)=>{const r=new Image;r.onload=()=>d(r),r.onerror=e=>c(e),r.src=n})}function ze(){if(ze.cachedResult!==void 0)return ze.cachedResult;let n=me.ETC;const{userAgent:d}=navigator;return/Chrom(e|ium)/i.test(d)?n=me.CHROME:/iP(ad|od|hone)/i.test(d)&&/WebKit/i.test(d)?n=me.IOS:/Safari/i.test(d)?n=me.DESKTOP_SAFARI:/Firefox/i.test(d)?n=me.FIREFOX:(/MSIE/i.test(d)||document.documentMode)&&(n=me.IE),ze.cachedResult=n,ze.cachedResult}function Co(n,d){const c=ze(),r=ii[c];let e=n,t=d,l=e*t;const s=e>t?t/e:e/t;for(;l>r*r;){const p=(r+e)/2,v=(r+t)/2;p<v?(t=v,e=v*s):(t=p*s,e=p),l=e*t}return{width:e,height:t}}function jt(n,d){let c,r;try{if(c=new OffscreenCanvas(n,d),r=c.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{c=document.createElement("canvas"),r=c.getContext("2d")}return c.width=n,c.height=d,[c,r]}function Ao(n,d){const{width:c,height:r}=Co(n.width,n.height),[e,t]=jt(c,r);return d&&/jpe?g/.test(d)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(n,0,0,e.width,e.height),e}function ft(){return ft.cachedResult!==void 0||(ft.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ft.cachedResult}function xt(n,d={}){return new Promise(function(c,r){let e,t;var l=function(){try{return t=Ao(e,d.fileType||n.type),c([e,t])}catch(p){return r(p)}},s=function(p){try{var v=function(i){try{throw i}catch(a){return r(a)}};try{let i;return wo(n).then(function(a){try{return i=a,So(i).then(function(o){try{return e=o,function(){try{return l()}catch(u){return r(u)}}()}catch(u){return v(u)}},v)}catch(o){return v(o)}},v)}catch(i){v(i)}}catch(i){return r(i)}};try{if(ft()||[me.DESKTOP_SAFARI,me.MOBILE_SAFARI].includes(ze()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(p){try{return e=p,l()}catch{return s()}},s)}catch{s()}})}function bt(n,d,c,r,e=1){return new Promise(function(t,l){let s;if(d==="image/png"){let v,i,a;return v=n.getContext("2d"),{data:i}=v.getImageData(0,0,n.width,n.height),a=Se.encode([i.buffer],n.width,n.height,4096*e),s=new Blob([a],{type:d}),s.name=c,s.lastModified=r,p.call(this)}{let v=function(){return p.call(this)};if(d==="image/bmp")return new Promise(i=>xo.toBlob(n,i)).then((function(i){try{return s=i,s.name=c,s.lastModified=r,v.call(this)}catch(a){return l(a)}}).bind(this),l);{let i=function(){return v.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:d,quality:e}).then((function(a){try{return s=a,s.name=c,s.lastModified=r,i.call(this)}catch(o){return l(o)}}).bind(this),l);{let a;return a=n.toDataURL(d,e),mn(a,c,r).then((function(o){try{return s=o,i.call(this)}catch(u){return l(u)}}).bind(this),l)}}}function p(){return t(s)}})}function Re(n){n.width=0,n.height=0}function Ze(){return new Promise(function(n,d){let c,r,e,t;return Ze.cachedResult!==void 0?n(Ze.cachedResult):mn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return c=l,xt(c).then(function(s){try{return r=s[1],bt(r,c.type,c.name,c.lastModified).then(function(p){try{return e=p,Re(r),xt(e).then(function(v){try{return t=v[0],Ze.cachedResult=t.width===1&&t.height===2,n(Ze.cachedResult)}catch(i){return d(i)}},d)}catch(v){return d(v)}},d)}catch(p){return d(p)}},d)}catch(s){return d(s)}},d)})}function _o(n){return new Promise((d,c)=>{const r=new yo;r.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return d(-2);const l=t.byteLength;let s=2;for(;s<l;){if(t.getUint16(s+2,!1)<=8)return d(-1);const p=t.getUint16(s,!1);if(s+=2,p==65505){if(t.getUint32(s+=2,!1)!=1165519206)return d(-1);const v=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,v);const i=t.getUint16(s,v);s+=2;for(let a=0;a<i;a++)if(t.getUint16(s+12*a,v)==274)return d(t.getUint16(s+12*a+8,v))}else{if((65280&p)!=65280)break;s+=t.getUint16(s,!1)}}return d(-1)},r.onerror=e=>c(e),r.readAsArrayBuffer(n)})}function No(n,d){const{width:c}=n,{height:r}=n,{maxWidthOrHeight:e}=d;let t,l=n;return isFinite(e)&&(c>e||r>e)&&([l,t]=jt(c,r),c>r?(l.width=e,l.height=r/c*e):(l.width=c/r*e,l.height=e),t.drawImage(n,0,0,l.width,l.height),Re(n)),l}function Eo(n,d){const{width:c}=n,{height:r}=n,[e,t]=jt(c,r);switch(d>4&&d<9?(e.width=r,e.height=c):(e.width=c,e.height=r),d){case 2:t.transform(-1,0,0,1,c,0);break;case 3:t.transform(-1,0,0,-1,c,r);break;case 4:t.transform(1,0,0,-1,0,r);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,r,0);break;case 7:t.transform(0,-1,-1,0,r,c);break;case 8:t.transform(0,-1,1,0,0,c)}return t.drawImage(n,0,0,c,r),Re(n),e}function Rn(n,d,c=0){return new Promise(function(r,e){let t,l,s,p,v,i,a,o,u,b,y,A,S,F,D,k,U,w,O,f;function g(N=5){if(d.signal&&d.signal.aborted)throw d.signal.reason;t+=N,d.onProgress(Math.min(t,100))}function _(N){if(d.signal&&d.signal.aborted)throw d.signal.reason;t=Math.min(Math.max(N,t),100),d.onProgress(t)}return t=c,l=d.maxIteration||10,s=1024*d.maxSizeMB*1024,g(),xt(n,d).then((function(N){try{return[,p]=N,g(),v=No(p,d),g(),new Promise(function(R,P){var E;if(!(E=d.exifOrientation))return _o(n).then((function(x){try{return E=x,T.call(this)}catch(h){return P(h)}}).bind(this),P);function T(){return R(E)}return T.call(this)}).then((function(R){try{return i=R,g(),Ze().then((function(P){try{return a=P?v:Eo(v,i),g(),o=d.initialQuality||1,u=d.fileType||n.type,bt(a,u,n.name,n.lastModified,o).then((function(E){try{{let x=function(){if(l--&&(D>s||D>S)){let L,M;return L=f?.95*O.width:O.width,M=f?.95*O.height:O.height,[U,w]=jt(L,M),w.drawImage(O,0,0,L,M),o*=u==="image/png"?.85:.95,bt(U,u,n.name,n.lastModified,o).then(function(H){try{return k=H,Re(O),O=U,D=k.size,_(Math.min(99,Math.floor((F-D)/(F-s)*100))),x}catch(K){return e(K)}},e)}return[1]},h=function(){return Re(O),Re(U),Re(v),Re(a),Re(p),_(100),r(k)};if(b=E,g(),y=b.size>s,A=b.size>n.size,!y&&!A)return _(100),r(b);var T;return S=n.size,F=b.size,D=F,O=a,f=!d.alwaysKeepResolution&&y,(T=(function(L){for(;L;){if(L.then)return void L.then(T,e);try{if(L.pop){if(L.length)return L.pop()?h.call(this):L;L=x}else L=L.call(this)}catch(M){return e(M)}}}).bind(this))(x)}}catch(x){return e(x)}}).bind(this),e)}catch(E){return e(E)}}).bind(this),e)}catch(P){return e(P)}}).bind(this),e)}catch(R){return e(R)}}).bind(this),e)})}const ci=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Mt;function di(n,d){return new Promise((c,r)=>{Mt||(Mt=function(l){const s=[];return s.push(l),URL.createObjectURL(new Blob(s))}(ci));const e=new Worker(Mt);e.addEventListener("message",function(l){if(d.signal&&d.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return r(new Error(l.data.error)),void e.terminate();c(l.data.file),e.terminate()}else d.onProgress(l.data.progress)}),e.addEventListener("error",r),d.signal&&d.signal.addEventListener("abort",()=>{r(d.signal.reason),e.terminate()}),e.postMessage({file:n,imageCompressionLibUrl:d.libURL,options:{...d,onProgress:void 0,signal:void 0}})})}function ue(n,d){return new Promise(function(c,r){let e,t,l,s,p,v;if(e={...d},l=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=u=>{l=u,typeof s=="function"&&s(l)},!(n instanceof Blob||n instanceof li))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||v)return Rn(n,e).then((function(u){try{return t=u,o.call(this)}catch(b){return r(b)}}).bind(this),r);var i=(function(){try{return o.call(this)}catch(u){return r(u)}}).bind(this),a=function(u){try{return Rn(n,e).then(function(b){try{return t=b,i()}catch(y){return r(y)}},r)}catch(b){return r(b)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",di(n,e).then(function(u){try{return t=u,i()}catch{return a()}},a)}catch{a()}function o(){try{t.name=n.name,t.lastModified=n.lastModified}catch{}try{e.preserveExif&&n.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===n.type)&&(t=vo(n,t))}catch{}return c(t)}})}ue.getDataUrlFromFile=wo,ue.getFilefromDataUrl=mn,ue.loadImage=So,ue.drawImageInCanvas=Ao,ue.drawFileInCanvas=xt,ue.canvasToFile=bt,ue.getExifOrientation=_o,ue.handleMaxWidthOrHeight=No,ue.followExifOrientation=Eo,ue.cleanupCanvasMemory=Re,ue.isAutoOrientationInBrowser=Ze,ue.approximateBelowMaximumCanvasSizeOfBrowser=Co,ue.copyExifWithoutOrientation=vo,ue.getBrowserName=ze,ue.version="2.0.2";function ui({recipeId:n,pendingKey:d,onUploadedJSON:c}){const[r,e]=C.useState(null),[t,l]=C.useState(!1),[s,p]=C.useState(null),v=async a=>{if(a)try{const u=await ue(a,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0});console.log(`Original: ${(a.size/1024/1024).toFixed(2)} MB â†’ Komprimiert: ${(u.size/1024/1024).toFixed(2)} MB`),e(u)}catch(o){console.error("Fehler bei der Bildkompression:",o),p("Bild konnte nicht komprimiert werden.")}},i=async()=>{if(r){l(!0),p(null);try{const a=new FormData;a.append("file",r),a.append("collection","recipe_images"),n&&a.append("recipe_id",n),d&&a.append("pending_key",d);const o=await(window.axios?.post?.("/upload",a,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},withCredentials:!0})??fetch("/upload",{method:"POST",body:a,headers:{Accept:"application/json"},credentials:"include"}));if(o&&"data"in o)c?.(o.data.media);else if(o instanceof Response){const u=await o.json();c?.(u.media)}e(null)}catch(a){p(a?.response?.data?.message||"Upload fehlgeschlagen")}finally{l(!1)}}};return m.jsxs("div",{className:"flex flex-col gap-3",onKeyDown:a=>{a.key==="Enter"&&a.preventDefault()},tabIndex:0,children:[m.jsxs("label",{className:"relative w-full flex flex-col items-center justify-center py-6 text-center border-2 border-dashed border-primary rounded-md hover:cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:[m.jsx(Ot,{className:"text-primary text-4xl"}),m.jsx("span",{className:"mt-2 text-sm text-gray-500",children:"Bild auswÃ¤hlen"}),m.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/png,image/jpeg,image/jpg",onChange:a=>v(a.target.files?.[0]||null)})]}),r&&m.jsxs("div",{className:"text-sm text-gray-600",children:["Datei bereit: ",m.jsx("strong",{children:r.name})," (",(r.size/1024/1024).toFixed(2)," MB)"]}),m.jsx(Ee,{type:"button",onClick:i,disabled:t||!r,variant:"primary",className:"w-full hover:cursor-pointer",children:t?"LÃ¤dtâ€¦":"Bild hochladen"}),s&&m.jsx("span",{className:"text-red-500 text-sm",children:s})]})}var Qt=(n=>(n.EINFACH="einfach",n.MITTEL="mittel",n.SCHWER="schwer",n))(Qt||{}),Ro=(n=>(n.DASH="Dash/Spritzel",n.ML="ml",n.CL="cl",n.L="L",n.GR="gr",n.KG="kg",n.SP="TL",n.TS="EL",n.BT="Prise",n.CUP="Tasse",n.PIECE="StÃ¼ck",n.CAN="Dose",n.PACKAGE="Paket",n.BOTTLE="Flasche",n))(Ro||{});function Ni({recipe:n,ingredients:d,className:c}){const[r,e]=C.useState(1),t=C.useRef(null),l=()=>{if(t.current){const f=t.current.getBoundingClientRect().top+window.scrollY-20;window.scrollTo({top:f,behavior:"smooth"})}},[s]=C.useState(()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)),[p,v]=C.useState([]),[i,a]=C.useState(n?.media??[]),{data:o,setData:u,post:b,processing:y,errors:A,reset:S}=Po({id:n?.id??null,name:n?.name??"",slug:n?.slug??"",punchline:n?.punchline??"",description:n?.description??"",difficulty:n?.difficulty??"einfach",rating:Number(n?.rating??5),preparation_time:Number(n?.preparation_time??15),preparation_instructions:n?.preparation_instructions??"",pending_key:n?null:s,primary_media_id:n?.media?.find(f=>f?.pivot?.is_primary)?.id??null,recipe_ingredients:n?.ingredients?.map(f=>({ingredient_id:f.id,quantity:f.pivot?.quantity??"",unit:f.pivot?.unit??"gr"}))??[]}),F=()=>{u("recipe_ingredients",[...o.recipe_ingredients,{ingredient_id:"",quantity:"",unit:"gr"}])},D=(f,g,_)=>{const N=[...o.recipe_ingredients];N[f][g]=_,u("recipe_ingredients",N)},k=f=>{const g=[...o.recipe_ingredients];g.splice(f,1),u("recipe_ingredients",g)},U=!((o.name?.trim()?.length??0)<3),w=f=>{e(f),setTimeout(l,50)},O=f=>{f.preventDefault(),n?To.post(route("recipes.update",{recipe:n.id}),{...o,_method:"put"},{forceFormData:!0,onSuccess:()=>S(),preserveScroll:!0}):b(route("recipes.store"),{forceFormData:!0,onSuccess:()=>S(),preserveScroll:!0})};return m.jsxs("form",{onSubmit:O,className:Y("flex flex-col",c),children:[m.jsxs("ol",{className:"items-center w-full space-y-4 flex justify-between sm:space-x-8 sm:space-y-0 rtl:space-x-reverse",children:[m.jsxs("li",{className:"relative w-full mb-6 sm:mb-0",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",r===1?"bg-primary dark:bg-primary":"")}),m.jsx("span",{className:Y(" text-gray-600 dark:border-gray-600 dark:text-gray-600 rounded-full p-1",r===1?"bg-primary border-primary text-white dark:text-gray-200":""),children:m.jsx(Uo,{className:"size-4"})}),m.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",r===1?"bg-primary dark:bg-primary":"")})]}),m.jsxs("div",{className:"hidden sm:block mt-0 sm:mt-5 sm:pe-8",children:[m.jsx("h3",{className:Y("text-lg font-semibold text-gray-900 dark:text-white",r===1?"text-primary":""),children:"Eckdaten"}),m.jsx("span",{className:"hidden lg:block  mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Name ist ein Pflichtfeld."}),m.jsx("p",{className:"hidden lg:block text-base font-normal text-gray-500 dark:text-gray-400",children:"Beschreibung und weitere Dinge sind optional."})]})]}),m.jsxs("li",{className:"relative w-full mb-6 sm:mb-0",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",r===2?"bg-primary dark:bg-primary":"")}),m.jsx("span",{className:Y(" text-gray-600 dark:border-gray-600 dark:text-gray-600 rounded-full p-1",r===2?"bg-primary text-white dark:text-gray-200":""),children:m.jsx(Lo,{className:"size-4"})}),m.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",r===2?"bg-primary dark:bg-primary":"")})]}),m.jsxs("div",{className:"hidden sm:block mt-0 sm:mt-5 sm:pe-8",children:[m.jsx("h3",{className:Y("text-lg font-semibold text-gray-900 dark:text-white",r===2?"text-primary":""),children:"Zutaten"}),m.jsx("span",{className:"hidden lg:block  mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Bearbeite die Zutatenliste."}),m.jsx("p",{className:"hidden lg:block text-base font-normal text-gray-500 dark:text-gray-400",children:"Neue oder bestehende Zutaten hinzufÃ¼gen."})]})]}),m.jsxs("li",{className:"relative w-full mb-6 sm:mb-0",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",r===3?"bg-primary dark:bg-primary":"")}),m.jsx("span",{className:Y(" text-gray-600 dark:border-gray-600 dark:text-gray-600 rounded-full p-1",r===3?"bg-primary text-white dark:text-gray-200":""),children:m.jsx(Bo,{className:"size-4"})}),m.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",r===3?"bg-primary dark:bg-primary":"")})]}),m.jsxs("div",{className:"hidden sm:block mt-0 sm:mt-5 sm:pe-8",children:[m.jsx("h3",{className:Y("text-lg font-semibold text-gray-900 dark:text-white",r===3?"text-primary":""),children:"Eckdaten"}),m.jsx("span",{className:"hidden lg:block  mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Name ist ein Pflichtfeld."}),m.jsx("p",{className:"hidden lg:block text-base font-normal text-gray-500 dark:text-gray-400",children:"Beschreibung und weitere Dinge sind optional."})]})]})]}),m.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),!U&&m.jsx("div",{className:"border border-sky-400 bg-sky-200 text-sm text-sky-700 px-4 py-3 mb-4 rounded relative",role:"alert",children:m.jsx("p",{className:"text-sm",children:"Name mindestens 3 Zeichen."})}),r===1&&m.jsxs("section",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Ne,{htmlFor:"name",value:"Name"}),m.jsx(nt,{id:"name",type:"text",value:o.name,placeholder:"z.B. OfengemÃ¼se mit Kartoffeln",className:"mt-1 w-full",isFocused:!0,onChange:f=>u("name",f.target.value)}),A.name&&m.jsx("p",{className:"text-red-500",children:A.name})]}),m.jsxs("div",{children:[m.jsx(Ne,{htmlFor:"punchline",value:"Punchline"}),m.jsx(nt,{id:"punchline",type:"text",value:o.punchline,placeholder:"z.B. Mediterran und frisch",className:"mt-1 w-full",onChange:f=>u("punchline",f.target.value)}),A.punchline&&m.jsx("p",{className:"text-red-500",children:A.punchline})]}),m.jsxs("div",{children:[m.jsx(Ne,{htmlFor:"description",value:"Beschreibung"}),m.jsx(Ft,{value:o.description,rows:5,placeholder:"z.B. Schnell und lecker fÃ¼r die ganze Familie...",className:"mt-1 w-full rounded-lg border border-gray-400 px-3 py-2",onChange:f=>u("description",f.target.value)}),A.description&&m.jsx("p",{className:"text-red-500",children:A.description})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx(Ne,{htmlFor:"preparation_time",value:"Zubereitungszeit"}),m.jsxs("div",{className:"flex items-end",children:[m.jsx(nt,{id:"preparation_time",type:"number",min:0,step:5,max:600,value:o.preparation_time,placeholder:"0",className:"mt-1 flex-1 rounded-none border-r-0 border-gray-200 rounded-tl-lg rounded-bl-lg",onChange:f=>u("preparation_time",Number(f.target.value))}),m.jsx("span",{className:"px-3 py-2 border border-l-0 rounded-r-lg border-gray-400",children:"Minuten"})]}),m.jsx(_r,{defaultValue:[o.preparation_time],max:240,step:5,className:"my-5",onValueChange:f=>u("preparation_time",f[0])}),A.preparation_time&&m.jsx("p",{className:"text-red-500",children:A.preparation_time})]}),m.jsxs("div",{children:[m.jsx(Ne,{htmlFor:"rating",value:"Bewertung"}),m.jsx(nt,{id:"rating",type:"number",min:1,max:5,value:o.rating,onChange:f=>u("rating",Number(f.target.value)),className:"mt-1 w-full"}),A.rating&&m.jsx("p",{className:"text-red-500",children:A.rating})]}),m.jsxs("div",{children:[m.jsx(Ne,{htmlFor:"difficulty",value:"Schwierigkeitsgrad"}),m.jsxs(yn,{name:"difficulty",value:o.difficulty??Qt.EINFACH,onValueChange:f=>u("difficulty",f),children:[m.jsx(Sn,{className:"w-full mt-1 py-2",children:m.jsx(wn,{placeholder:"Schwierigkeitsgrad"})}),m.jsx(Cn,{children:Object.entries(Qt).map(([f,g])=>m.jsx(An,{value:g,children:g},f))})]}),A.difficulty&&m.jsx("p",{className:"text-red-500 text-sm mt-1",children:A.difficulty})]})]}),m.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),m.jsxs("div",{className:"flex justify-between gap-2",children:[m.jsx(Ee,{asChild:!0,type:"button",variant:"primaryOutline",disabled:!U,children:m.jsxs(ko,{href:route("recipes.index"),children:[m.jsx(Ho,{className:"mr-1"}),"Abbrechen"]})}),m.jsxs(Ee,{type:"button",variant:"primaryOutline",onClick:()=>w(2),disabled:!U,children:["Weiter",m.jsx(xn,{className:"ml-1"})]})]})]}),r===2&&m.jsxs("section",{className:"space-y-4",children:[m.jsx(Ne,{htmlFor:"ingredients",value:"Zutatenliste bearbeiten"}),o.recipe_ingredients?.map((f,g)=>m.jsxs("div",{className:"md:flex gap-2",children:[m.jsxs("div",{className:"flex justify-start items-start gap-2",children:[m.jsx(nt,{placeholder:"Menge",value:f.quantity,className:"w-full md:w-32",type:"number",onChange:_=>D(g,"quantity",_.target.value)}),m.jsxs(yn,{value:f.unit,onValueChange:_=>D(g,"unit",_),children:[m.jsx(Sn,{className:"w-32 mt-1 py-2",children:m.jsx(wn,{placeholder:"Einheit auswÃ¤hlen"})}),m.jsx(Cn,{children:Object.entries(Ro).map(([_,N])=>m.jsx(An,{value:N,children:N},_))})]})]}),m.jsxs("div",{className:"md:w-full flex gap-2",children:[m.jsx(ni,{options:d,value:f.ingredient_id,triggerClassName:"w-full mt-1",onChange:_=>D(g,"ingredient_id",_)}),m.jsx(Ee,{variant:"destructive",className:"mt-1.5 hover:cursor-pointer",size:"sm",type:"button",onClick:()=>k(g),children:m.jsx($o,{})})]})]},g)),m.jsxs(Ee,{type:"button",variant:"primaryOutline",onClick:F,className:"mt-5 hover:cursor-pointer",children:[m.jsx(Ot,{})," Zutat hinzufÃ¼gen"]}),m.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),m.jsxs("div",{className:"flex justify-between gap-2",children:[m.jsxs(Ee,{type:"button",variant:"primaryOutline",onClick:()=>w(1),children:[m.jsx(bn,{className:"ml-1"}),"ZurÃ¼ck"]}),m.jsxs(Ee,{type:"button",variant:"primaryOutline",onClick:()=>w(3),children:["Weiter",m.jsx(xn,{className:"ml-1"})]})]})]}),r===3&&m.jsxs("section",{className:"space-y-4",children:[m.jsxs("div",{className:"w-full space-y-3",children:[m.jsx(Ne,{htmlFor:"mediaUpload",value:"Bilder hochladen"}),m.jsx(ui,{recipeId:n?.id,pendingKey:n?void 0:s,onUploadedJSON:f=>{n?a(g=>[...g,f]):v(g=>[...g,f]),o.primary_media_id||u("primary_media_id",f.id)}})]}),m.jsxs("div",{className:"w-full space-y-3",children:[m.jsx(Ne,{htmlFor:"media",value:"Bilder zum Gericht"}),m.jsx("div",{className:"flex flex-wrap gap-3",children:(n?i:p).length>0?(n?i:p).map(f=>m.jsxs("label",{className:"relative w-48 rounded-lg aspect-video border overflow-hidden bg-gray-100 cursor-pointer",children:[m.jsx("img",{src:f.url??`/storage/${f.path}`,alt:f.name,className:" object-cover"}),m.jsx("input",{type:"radio",name:"primary_media_id",value:f.id,checked:o.primary_media_id===f.id,onChange:()=>u("primary_media_id",f.id),className:"absolute top-1 left-1",title:"Als Hauptbild auswÃ¤hlen"}),o.primary_media_id===f.id&&m.jsx("span",{className:"absolute bottom-1 left-1 text-[10px] bg-black/60 text-white px-1 rounded",children:"Aktuell"})]},f.id)):m.jsx("p",{className:"text-sm text-gray-500",children:"Noch keine Bilder vorhanden."})})]}),m.jsxs("div",{className:"w-full space-y-3",children:[m.jsx(Ne,{htmlFor:"preparation_instructions",value:"Zubereitung, so geht'sâ€¦"}),m.jsx(Ft,{id:"preparation_instructions",value:o.preparation_instructions,rows:5,placeholder:"Beschreibung der Zubereitung",className:"mt-1 w-full rounded-lg border border-gray-400 px-3 py-2",onChange:f=>u("preparation_instructions",f.target.value)}),A.preparation_instructions&&m.jsx("p",{className:"text-red-500",children:A.preparation_instructions})]}),m.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),m.jsxs("div",{className:"flex justify-between gap-2",children:[m.jsxs(Ee,{type:"button",variant:"primaryOutline",onClick:()=>w(2),children:[m.jsx(bn,{className:"ml-1"}),"ZurÃ¼ck"]}),m.jsxs(Ee,{type:"submit",variant:"primary",disabled:y,className:"w-48",children:[n?m.jsx(zo,{}):m.jsx(Ot,{}),n?"Speichern":"Erstellen"]})]})]})]})}export{Ni as R};
