<<<<<<<< HEAD:public/build/assets/RecipeWizard-C5cuwp2a.js
import{r as A,j as p,u as wr,R as Ae,a as Io,L as ko,b as To}from"./app-3KJbPFK8.js";import{c as Y,u as le,a as Sr,b as st,B as Ne,d as Mo}from"./button-DsZNdznJ.js";import{I as we}from"./InputLabel-Bg_EQwQz.js";import{T as nt}from"./InputError-DM2KeL2G.js";import{r as Cr}from"./index-DFoJGi2X.js";import{c as bt,u as qt,a as $e,b as Ar,d as yt,e as Ee,f as jr,A as Zt,P as X,g as J,h as Te,i as Nr,V as Do,j as Fo,k as _r,l as Er,m as Rr,n as Pr,D as Ir,o as kr,p as Tr,q as Mr,r as Oo,s as Dr,t as Fr,I as Uo,v as Lo,w as Bo,T as zo,x as Ho,y as Vo,z as $o,E as Go}from"./Footer-Dx5cKpAZ.js";import{c as it}from"./createLucideIcon-Dc8ZoKkz.js";import{a as Mt,b as ir,c as lr,G as Ko}from"./index-Crd2pa-F.js";import{b as Wo}from"./index-GQ-R0iV_.js";import{R as qo,P as Or,O as Qt,C as Yt,a as Zo,T as Ur,D as Lr,b as cr,G as Qo,c as Yo,L as Xo}from"./index-yMF56Ozq.js";/**
========
import{r as A,j as p,u as wr,R as Ae,a as Io,L as ko,b as To}from"./app-BF5HlF5-.js";import{c as Y,u as le,a as Sr,b as st,B as Ne,d as Mo}from"./button-CwJH-vCc.js";import{I as we}from"./InputLabel-cdCan50E.js";import{T as nt}from"./InputError-kV13dwFm.js";import{r as Cr}from"./index-nsSJSiFj.js";import{c as bt,u as qt,a as $e,b as Ar,d as yt,e as Ee,f as jr,A as Zt,P as X,g as J,h as Te,i as Nr,V as Do,j as Fo,k as _r,l as Er,m as Rr,n as Pr,D as Ir,o as kr,p as Tr,q as Mr,r as Oo,s as Dr,t as Fr,I as Uo,v as Lo,w as Bo,T as zo,x as Ho,y as Vo,z as $o,E as Go}from"./Footer-jXwyApti.js";import{c as it}from"./createLucideIcon-BOFhW8wO.js";import{a as Mt,b as ir,c as lr,G as Ko}from"./index-SZZTDocc.js";import{b as Wo}from"./index-V7Y5eolF.js";import{R as qo,P as Or,O as Qt,C as Yt,a as Zo,T as Ur,D as Lr,b as cr,G as Qo,c as Yo,L as Xo}from"./index-C-YnOwiv.js";/**
>>>>>>>> 21ee44dcdb402e3ed3193964f88029b472ac3b74:public/build/assets/RecipeWizard-C-rwL7Yv.js
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Br=it("chevron-down",Jo);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ta=it("chevron-up",ea);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],na=it("chevrons-up-down",ra);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aa=it("search",oa);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ia=it("x",sa),Dt=A.forwardRef(({className:r,...d},c)=>p.jsx("textarea",{className:Y("flex min-h-[60px] w-full rounded bg-transparent px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:c,...d}));Dt.displayName="Textarea";function ft(r,[d,c]){return Math.min(c,Math.max(d,r))}function zr(r){const d=A.useRef({value:r,previous:r});return A.useMemo(()=>(d.current.value!==r&&(d.current.previous=d.current.value,d.current.value=r),d.current.previous),[r])}var la=[" ","Enter","ArrowUp","ArrowDown"],ca=[" ","Enter"],Ge="Select",[wt,St,da]=jr(Ge),[Je,ji]=yt(Ge,[da,bt]),Ct=bt(),[ua,De]=Je(Ge),[fa,pa]=Je(Ge),Hr=r=>{const{__scopeSelect:d,children:c,open:i,defaultOpen:e,onOpenChange:t,value:o,defaultValue:a,onValueChange:f,dir:m,name:l,autoComplete:n,disabled:s,required:u,form:b}=r,y=Ct(d),[_,S]=A.useState(null),[O,D]=A.useState(null),[T,U]=A.useState(!1),w=qt(m),[C,g]=$e({prop:i,defaultProp:e??!1,onChange:t,caller:Ge}),[v,j]=$e({prop:o,defaultProp:a,onChange:f,caller:Ge}),E=A.useRef(null),R=_?b||!!_.closest("form"):!0,[k,N]=A.useState(new Set),M=Array.from(k).map(x=>x.props.value).join(";");return p.jsx(Ar,{...y,children:p.jsxs(ua,{required:u,scope:d,trigger:_,onTriggerChange:S,valueNode:O,onValueNodeChange:D,valueNodeHasChildren:T,onValueNodeHasChildrenChange:U,contentId:Ee(),value:v,onValueChange:j,open:C,onOpenChange:g,dir:w,triggerPointerDownPosRef:E,disabled:s,children:[p.jsx(wt.Provider,{scope:d,children:p.jsx(fa,{scope:r.__scopeSelect,onNativeOptionAdd:A.useCallback(x=>{N(h=>new Set(h).add(x))},[]),onNativeOptionRemove:A.useCallback(x=>{N(h=>{const L=new Set(h);return L.delete(x),L})},[]),children:c})}),R?p.jsxs(un,{"aria-hidden":!0,required:u,tabIndex:-1,name:l,autoComplete:n,value:v,onChange:x=>j(x.target.value),disabled:s,form:b,children:[v===void 0?p.jsx("option",{value:""}):null,Array.from(k)]},M):null]})})};Hr.displayName=Ge;var Vr="SelectTrigger",$r=A.forwardRef((r,d)=>{const{__scopeSelect:c,disabled:i=!1,...e}=r,t=Ct(c),o=De(Vr,c),a=o.disabled||i,f=le(d,o.onTriggerChange),m=St(c),l=A.useRef("touch"),[n,s,u]=pn(y=>{const _=m().filter(D=>!D.disabled),S=_.find(D=>D.value===o.value),O=hn(_,y,S);O!==void 0&&o.onValueChange(O.value)}),b=y=>{a||(o.onOpenChange(!0),u()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return p.jsx(Zt,{asChild:!0,...t,children:p.jsx(X.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fn(o.value)?"":void 0,...e,ref:f,onClick:J(e.onClick,y=>{y.currentTarget.focus(),l.current!=="mouse"&&b(y)}),onPointerDown:J(e.onPointerDown,y=>{l.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:J(e.onKeyDown,y=>{const _=n.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&s(y.key),!(_&&y.key===" ")&&la.includes(y.key)&&(b(),y.preventDefault())})})})});$r.displayName=Vr;var Gr="SelectValue",Kr=A.forwardRef((r,d)=>{const{__scopeSelect:c,className:i,style:e,children:t,placeholder:o="",...a}=r,f=De(Gr,c),{onValueNodeHasChildrenChange:m}=f,l=t!==void 0,n=le(d,f.onValueNodeChange);return Te(()=>{m(l)},[m,l]),p.jsx(X.span,{...a,ref:n,style:{pointerEvents:"none"},children:fn(f.value)?p.jsx(p.Fragment,{children:o}):t})});Kr.displayName=Gr;var ha="SelectIcon",Wr=A.forwardRef((r,d)=>{const{__scopeSelect:c,children:i,...e}=r;return p.jsx(X.span,{"aria-hidden":!0,...e,ref:d,children:i||"â–¼"})});Wr.displayName=ha;var ma="SelectPortal",qr=r=>p.jsx(Nr,{asChild:!0,...r});qr.displayName=ma;var Ke="SelectContent",Zr=A.forwardRef((r,d)=>{const c=De(Ke,r.__scopeSelect),[i,e]=A.useState();if(Te(()=>{e(new DocumentFragment)},[]),!c.open){const t=i;return t?Cr.createPortal(p.jsx(Qr,{scope:r.__scopeSelect,children:p.jsx(wt.Slot,{scope:r.__scopeSelect,children:p.jsx("div",{children:r.children})})}),t):null}return p.jsx(Yr,{...r,ref:d})});Zr.displayName=Ke;var Ce=10,[Qr,Fe]=Je(Ke),ga="SelectContentImpl",va=Sr("SelectContent.RemoveScroll"),Yr=A.forwardRef((r,d)=>{const{__scopeSelect:c,position:i="item-aligned",onCloseAutoFocus:e,onEscapeKeyDown:t,onPointerDownOutside:o,side:a,sideOffset:f,align:m,alignOffset:l,arrowPadding:n,collisionBoundary:s,collisionPadding:u,sticky:b,hideWhenDetached:y,avoidCollisions:_,...S}=r,O=De(Ke,c),[D,T]=A.useState(null),[U,w]=A.useState(null),C=le(d,V=>T(V)),[g,v]=A.useState(null),[j,E]=A.useState(null),R=St(c),[k,N]=A.useState(!1),M=A.useRef(!1);A.useEffect(()=>{if(D)return _r(D)},[D]),Er();const x=A.useCallback(V=>{const[K,...W]=R().map(Q=>Q.ref.current),[q]=W.slice(-1),Z=document.activeElement;for(const Q of V)if(Q===Z||(Q?.scrollIntoView({block:"nearest"}),Q===K&&U&&(U.scrollTop=0),Q===q&&U&&(U.scrollTop=U.scrollHeight),Q?.focus(),document.activeElement!==Z))return},[R,U]),h=A.useCallback(()=>x([g,D]),[x,g,D]);A.useEffect(()=>{k&&h()},[k,h]);const{onOpenChange:L,triggerPointerDownPosRef:F}=O;A.useEffect(()=>{if(D){let V={x:0,y:0};const K=q=>{V={x:Math.abs(Math.round(q.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(q.pageY)-(F.current?.y??0))}},W=q=>{V.x<=10&&V.y<=10?q.preventDefault():D.contains(q.target)||L(!1),document.removeEventListener("pointermove",K),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",W,{capture:!0})}}},[D,L,F]),A.useEffect(()=>{const V=()=>L(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[L]);const[z,G]=pn(V=>{const K=R().filter(Z=>!Z.disabled),W=K.find(Z=>Z.ref.current===document.activeElement),q=hn(K,V,W);q&&setTimeout(()=>q.ref.current.focus())}),I=A.useCallback((V,K,W)=>{const q=!M.current&&!W;(O.value!==void 0&&O.value===K||q)&&(v(V),q&&(M.current=!0))},[O.value]),H=A.useCallback(()=>D?.focus(),[D]),B=A.useCallback((V,K,W)=>{const q=!M.current&&!W;(O.value!==void 0&&O.value===K||q)&&E(V)},[O.value]),P=i==="popper"?Ft:Xr,$=P===Ft?{side:a,sideOffset:f,align:m,alignOffset:l,arrowPadding:n,collisionBoundary:s,collisionPadding:u,sticky:b,hideWhenDetached:y,avoidCollisions:_}:{};return p.jsx(Qr,{scope:c,content:D,viewport:U,onViewportChange:w,itemRefCallback:I,selectedItem:g,onItemLeave:H,itemTextRefCallback:B,focusSelectedItem:h,selectedItemText:j,position:i,isPositioned:k,searchRef:z,children:p.jsx(Rr,{as:va,allowPinchZoom:!0,children:p.jsx(Pr,{asChild:!0,trapped:O.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:J(e,V=>{O.trigger?.focus({preventScroll:!0}),V.preventDefault()}),children:p.jsx(Ir,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:t,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:p.jsx(P,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:V=>V.preventDefault(),...S,...$,onPlaced:()=>N(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:J(S.onKeyDown,V=>{const K=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!K&&V.key.length===1&&G(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let q=R().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(V.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const Z=V.target,Q=q.indexOf(Z);q=q.slice(Q+1)}setTimeout(()=>x(q)),V.preventDefault()}})})})})})})});Yr.displayName=ga;var xa="SelectItemAlignedPosition",Xr=A.forwardRef((r,d)=>{const{__scopeSelect:c,onPlaced:i,...e}=r,t=De(Ke,c),o=Fe(Ke,c),[a,f]=A.useState(null),[m,l]=A.useState(null),n=le(d,C=>l(C)),s=St(c),u=A.useRef(!1),b=A.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:S,focusSelectedItem:O}=o,D=A.useCallback(()=>{if(t.trigger&&t.valueNode&&a&&m&&y&&_&&S){const C=t.trigger.getBoundingClientRect(),g=m.getBoundingClientRect(),v=t.valueNode.getBoundingClientRect(),j=S.getBoundingClientRect();if(t.dir!=="rtl"){const Z=j.left-g.left,Q=v.left-Z,fe=C.left-Q,ie=C.width+fe,te=Math.max(ie,g.width),oe=window.innerWidth-Ce,ee=ft(Q,[Ce,Math.max(Ce,oe-te)]);a.style.minWidth=ie+"px",a.style.left=ee+"px"}else{const Z=g.right-j.right,Q=window.innerWidth-v.right-Z,fe=window.innerWidth-C.right-Q,ie=C.width+fe,te=Math.max(ie,g.width),oe=window.innerWidth-Ce,ee=ft(Q,[Ce,Math.max(Ce,oe-te)]);a.style.minWidth=ie+"px",a.style.right=ee+"px"}const E=s(),R=window.innerHeight-Ce*2,k=y.scrollHeight,N=window.getComputedStyle(m),M=parseInt(N.borderTopWidth,10),x=parseInt(N.paddingTop,10),h=parseInt(N.borderBottomWidth,10),L=parseInt(N.paddingBottom,10),F=M+x+k+L+h,z=Math.min(_.offsetHeight*5,F),G=window.getComputedStyle(y),I=parseInt(G.paddingTop,10),H=parseInt(G.paddingBottom,10),B=C.top+C.height/2-Ce,P=R-B,$=_.offsetHeight/2,V=_.offsetTop+$,K=M+x+V,W=F-K;if(K<=B){const Z=E.length>0&&_===E[E.length-1].ref.current;a.style.bottom="0px";const Q=m.clientHeight-y.offsetTop-y.offsetHeight,fe=Math.max(P,$+(Z?H:0)+Q+h),ie=K+fe;a.style.height=ie+"px"}else{const Z=E.length>0&&_===E[0].ref.current;a.style.top="0px";const fe=Math.max(B,M+y.offsetTop+(Z?I:0)+$)+W;a.style.height=fe+"px",y.scrollTop=K-B+y.offsetTop}a.style.margin=`${Ce}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=R+"px",i?.(),requestAnimationFrame(()=>u.current=!0)}},[s,t.trigger,t.valueNode,a,m,y,_,S,t.dir,i]);Te(()=>D(),[D]);const[T,U]=A.useState();Te(()=>{m&&U(window.getComputedStyle(m).zIndex)},[m]);const w=A.useCallback(C=>{C&&b.current===!0&&(D(),O?.(),b.current=!1)},[D,O]);return p.jsx(ya,{scope:c,contentWrapper:a,shouldExpandOnScrollRef:u,onScrollButtonChange:w,children:p.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:p.jsx(X.div,{...e,ref:n,style:{boxSizing:"border-box",maxHeight:"100%",...e.style}})})})});Xr.displayName=xa;var ba="SelectPopperPosition",Ft=A.forwardRef((r,d)=>{const{__scopeSelect:c,align:i="start",collisionPadding:e=Ce,...t}=r,o=Ct(c);return p.jsx(kr,{...o,...t,ref:d,align:i,collisionPadding:e,style:{boxSizing:"border-box",...t.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ft.displayName=ba;var[ya,Xt]=Je(Ke,{}),Ot="SelectViewport",Jr=A.forwardRef((r,d)=>{const{__scopeSelect:c,nonce:i,...e}=r,t=Fe(Ot,c),o=Xt(Ot,c),a=le(d,t.onViewportChange),f=A.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(wt.Slot,{scope:c,children:p.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...e,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...e.style},onScroll:J(e.onScroll,m=>{const l=m.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:s}=o;if(s?.current&&n){const u=Math.abs(f.current-l.scrollTop);if(u>0){const b=window.innerHeight-Ce*2,y=parseFloat(n.style.minHeight),_=parseFloat(n.style.height),S=Math.max(y,_);if(S<b){const O=S+u,D=Math.min(b,O),T=O-D;n.style.height=D+"px",n.style.bottom==="0px"&&(l.scrollTop=T>0?T:0,n.style.justifyContent="flex-end")}}}f.current=l.scrollTop})})})]})});Jr.displayName=Ot;var en="SelectGroup",[wa,Sa]=Je(en),Ca=A.forwardRef((r,d)=>{const{__scopeSelect:c,...i}=r,e=Ee();return p.jsx(wa,{scope:c,id:e,children:p.jsx(X.div,{role:"group","aria-labelledby":e,...i,ref:d})})});Ca.displayName=en;var tn="SelectLabel",Aa=A.forwardRef((r,d)=>{const{__scopeSelect:c,...i}=r,e=Sa(tn,c);return p.jsx(X.div,{id:e.id,...i,ref:d})});Aa.displayName=tn;var pt="SelectItem",[ja,rn]=Je(pt),nn=A.forwardRef((r,d)=>{const{__scopeSelect:c,value:i,disabled:e=!1,textValue:t,...o}=r,a=De(pt,c),f=Fe(pt,c),m=a.value===i,[l,n]=A.useState(t??""),[s,u]=A.useState(!1),b=le(d,O=>f.itemRefCallback?.(O,i,e)),y=Ee(),_=A.useRef("touch"),S=()=>{e||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(ja,{scope:c,value:i,disabled:e,textId:y,isSelected:m,onItemTextChange:A.useCallback(O=>{n(D=>D||(O?.textContent??"").trim())},[]),children:p.jsx(wt.ItemSlot,{scope:c,value:i,disabled:e,textValue:l,children:p.jsx(X.div,{role:"option","aria-labelledby":y,"data-highlighted":s?"":void 0,"aria-selected":m&&s,"data-state":m?"checked":"unchecked","aria-disabled":e||void 0,"data-disabled":e?"":void 0,tabIndex:e?void 0:-1,...o,ref:b,onFocus:J(o.onFocus,()=>u(!0)),onBlur:J(o.onBlur,()=>u(!1)),onClick:J(o.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:J(o.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:J(o.onPointerDown,O=>{_.current=O.pointerType}),onPointerMove:J(o.onPointerMove,O=>{_.current=O.pointerType,e?f.onItemLeave?.():_.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(o.onPointerLeave,O=>{O.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:J(o.onKeyDown,O=>{f.searchRef?.current!==""&&O.key===" "||(ca.includes(O.key)&&S(),O.key===" "&&O.preventDefault())})})})})});nn.displayName=pt;var at="SelectItemText",on=A.forwardRef((r,d)=>{const{__scopeSelect:c,className:i,style:e,...t}=r,o=De(at,c),a=Fe(at,c),f=rn(at,c),m=pa(at,c),[l,n]=A.useState(null),s=le(d,S=>n(S),f.onItemTextChange,S=>a.itemTextRefCallback?.(S,f.value,f.disabled)),u=l?.textContent,b=A.useMemo(()=>p.jsx("option",{value:f.value,disabled:f.disabled,children:u},f.value),[f.disabled,f.value,u]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=m;return Te(()=>(y(b),()=>_(b)),[y,_,b]),p.jsxs(p.Fragment,{children:[p.jsx(X.span,{id:f.textId,...t,ref:s}),f.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Cr.createPortal(t.children,o.valueNode):null]})});on.displayName=at;var an="SelectItemIndicator",sn=A.forwardRef((r,d)=>{const{__scopeSelect:c,...i}=r;return rn(an,c).isSelected?p.jsx(X.span,{"aria-hidden":!0,...i,ref:d}):null});sn.displayName=an;var Ut="SelectScrollUpButton",ln=A.forwardRef((r,d)=>{const c=Fe(Ut,r.__scopeSelect),i=Xt(Ut,r.__scopeSelect),[e,t]=A.useState(!1),o=le(d,i.onScrollButtonChange);return Te(()=>{if(c.viewport&&c.isPositioned){let a=function(){const m=f.scrollTop>0;t(m)};const f=c.viewport;return a(),f.addEventListener("scroll",a),()=>f.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?p.jsx(dn,{...r,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:f}=c;a&&f&&(a.scrollTop=a.scrollTop-f.offsetHeight)}}):null});ln.displayName=Ut;var Lt="SelectScrollDownButton",cn=A.forwardRef((r,d)=>{const c=Fe(Lt,r.__scopeSelect),i=Xt(Lt,r.__scopeSelect),[e,t]=A.useState(!1),o=le(d,i.onScrollButtonChange);return Te(()=>{if(c.viewport&&c.isPositioned){let a=function(){const m=f.scrollHeight-f.clientHeight,l=Math.ceil(f.scrollTop)<m;t(l)};const f=c.viewport;return a(),f.addEventListener("scroll",a),()=>f.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?p.jsx(dn,{...r,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:f}=c;a&&f&&(a.scrollTop=a.scrollTop+f.offsetHeight)}}):null});cn.displayName=Lt;var dn=A.forwardRef((r,d)=>{const{__scopeSelect:c,onAutoScroll:i,...e}=r,t=Fe("SelectScrollButton",c),o=A.useRef(null),a=St(c),f=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>f(),[f]),Te(()=>{a().find(l=>l.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),p.jsx(X.div,{"aria-hidden":!0,...e,ref:d,style:{flexShrink:0,...e.style},onPointerDown:J(e.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:J(e.onPointerMove,()=>{t.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:J(e.onPointerLeave,()=>{f()})})}),Na="SelectSeparator",_a=A.forwardRef((r,d)=>{const{__scopeSelect:c,...i}=r;return p.jsx(X.div,{"aria-hidden":!0,...i,ref:d})});_a.displayName=Na;var Bt="SelectArrow",Ea=A.forwardRef((r,d)=>{const{__scopeSelect:c,...i}=r,e=Ct(c),t=De(Bt,c),o=Fe(Bt,c);return t.open&&o.position==="popper"?p.jsx(Tr,{...e,...i,ref:d}):null});Ea.displayName=Bt;var Ra="SelectBubbleInput",un=A.forwardRef(({__scopeSelect:r,value:d,...c},i)=>{const e=A.useRef(null),t=le(i,e),o=zr(d);return A.useEffect(()=>{const a=e.current;if(!a)return;const f=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(f,"value").set;if(o!==d&&l){const n=new Event("change",{bubbles:!0});l.call(a,d),a.dispatchEvent(n)}},[o,d]),p.jsx(X.select,{...c,style:{...Do,...c.style},ref:t,defaultValue:d})});un.displayName=Ra;function fn(r){return r===""||r===void 0}function pn(r){const d=Fo(r),c=A.useRef(""),i=A.useRef(0),e=A.useCallback(o=>{const a=c.current+o;d(a),function f(m){c.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>f(""),1e3))}(a)},[d]),t=A.useCallback(()=>{c.current="",window.clearTimeout(i.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(i.current),[]),[c,e,t]}function hn(r,d,c){const e=d.length>1&&Array.from(d).every(m=>m===d[0])?d[0]:d,t=c?r.indexOf(c):-1;let o=Pa(r,Math.max(t,0));e.length===1&&(o=o.filter(m=>m!==c));const f=o.find(m=>m.textValue.toLowerCase().startsWith(e.toLowerCase()));return f!==c?f:void 0}function Pa(r,d){return r.map((c,i)=>r[(d+i)%r.length])}var Ia=Hr,ka=$r,Ta=Kr,Ma=Wr,Da=qr,Fa=Zr,Oa=Jr,Ua=nn,La=on,Ba=sn,za=ln,Ha=cn;function dr({...r}){return p.jsx(Ia,{"data-slot":"select",...r})}function ur({...r}){return p.jsx(Ta,{"data-slot":"select-value",...r})}function fr({className:r,size:d="default",children:c,...i}){return p.jsxs(ka,{"data-slot":"select-trigger","data-size":d,className:Y("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-12 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...i,children:[c,p.jsx(Ma,{asChild:!0,children:p.jsx(Br,{className:"size-4 opacity-50"})})]})}function pr({className:r,children:d,position:c="popper",...i}){return p.jsx(Da,{children:p.jsxs(Fa,{"data-slot":"select-content",className:Y("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",c==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:c,...i,children:[p.jsx(Va,{}),p.jsx(Oa,{className:Y("p-1",c==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:d}),p.jsx($a,{})]})})}function hr({className:r,children:d,...c}){return p.jsxs(Ua,{"data-slot":"select-item",className:Y("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...c,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(Ba,{children:p.jsx(Mr,{className:"size-4"})})}),p.jsx(La,{children:d})]})}function Va({className:r,...d}){return p.jsx(za,{"data-slot":"select-scroll-up-button",className:Y("flex cursor-default items-center justify-center py-1",r),...d,children:p.jsx(ta,{className:"size-4"})})}function $a({className:r,...d}){return p.jsx(Ha,{"data-slot":"select-scroll-down-button",className:Y("flex cursor-default items-center justify-center py-1",r),...d,children:p.jsx(Br,{className:"size-4"})})}var mn=["PageUp","PageDown"],gn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vn={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},et="Slider",[zt,Ga,Ka]=jr(et),[xn,Ni]=yt(et,[Ka]),[Wa,At]=xn(et),bn=A.forwardRef((r,d)=>{const{name:c,min:i=0,max:e=100,step:t=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[i],value:l,onValueChange:n=()=>{},onValueCommit:s=()=>{},inverted:u=!1,form:b,...y}=r,_=A.useRef(new Set),S=A.useRef(0),D=o==="horizontal"?qa:Za,[T=[],U]=$e({prop:l,defaultProp:m,onChange:E=>{[..._.current][S.current]?.focus(),n(E)}}),w=A.useRef(T);function C(E){const R=es(T,E);j(E,R)}function g(E){j(E,S.current)}function v(){const E=w.current[S.current];T[S.current]!==E&&s(T)}function j(E,R,{commit:k}={commit:!1}){const N=os(t),M=as(Math.round((E-i)/t)*t+i,N),x=ft(M,[i,e]);U((h=[])=>{const L=Xa(h,x,R);if(ns(L,f*t)){S.current=L.indexOf(x);const F=String(L)!==String(h);return F&&k&&s(L),F?L:h}else return h})}return p.jsx(Wa,{scope:r.__scopeSlider,name:c,disabled:a,min:i,max:e,valueIndexToChangeRef:S,thumbs:_.current,values:T,orientation:o,form:b,children:p.jsx(zt.Provider,{scope:r.__scopeSlider,children:p.jsx(zt.Slot,{scope:r.__scopeSlider,children:p.jsx(D,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:d,onPointerDown:J(y.onPointerDown,()=>{a||(w.current=T)}),min:i,max:e,inverted:u,onSlideStart:a?void 0:C,onSlideMove:a?void 0:g,onSlideEnd:a?void 0:v,onHomeKeyDown:()=>!a&&j(i,0,{commit:!0}),onEndKeyDown:()=>!a&&j(e,T.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:R})=>{if(!a){const M=mn.includes(E.key)||E.shiftKey&&gn.includes(E.key)?10:1,x=S.current,h=T[x],L=t*M*R;j(h+L,x,{commit:!0})}}})})})})});bn.displayName=et;var[yn,wn]=xn(et,{startEdge:"left",endEdge:"right",size:"width",direction:1}),qa=A.forwardRef((r,d)=>{const{min:c,max:i,dir:e,inverted:t,onSlideStart:o,onSlideMove:a,onSlideEnd:f,onStepKeyDown:m,...l}=r,[n,s]=A.useState(null),u=le(d,D=>s(D)),b=A.useRef(void 0),y=qt(e),_=y==="ltr",S=_&&!t||!_&&t;function O(D){const T=b.current||n.getBoundingClientRect(),U=[0,T.width],C=Jt(U,S?[c,i]:[i,c]);return b.current=T,C(D-T.left)}return p.jsx(yn,{scope:r.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:p.jsx(Sn,{dir:y,"data-orientation":"horizontal",...l,ref:u,style:{...l.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:D=>{const T=O(D.clientX);o?.(T)},onSlideMove:D=>{const T=O(D.clientX);a?.(T)},onSlideEnd:()=>{b.current=void 0,f?.()},onStepKeyDown:D=>{const U=vn[S?"from-left":"from-right"].includes(D.key);m?.({event:D,direction:U?-1:1})}})})}),Za=A.forwardRef((r,d)=>{const{min:c,max:i,inverted:e,onSlideStart:t,onSlideMove:o,onSlideEnd:a,onStepKeyDown:f,...m}=r,l=A.useRef(null),n=le(d,l),s=A.useRef(void 0),u=!e;function b(y){const _=s.current||l.current.getBoundingClientRect(),S=[0,_.height],D=Jt(S,u?[i,c]:[c,i]);return s.current=_,D(y-_.top)}return p.jsx(yn,{scope:r.__scopeSlider,startEdge:u?"bottom":"top",endEdge:u?"top":"bottom",size:"height",direction:u?1:-1,children:p.jsx(Sn,{"data-orientation":"vertical",...m,ref:n,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const _=b(y.clientY);t?.(_)},onSlideMove:y=>{const _=b(y.clientY);o?.(_)},onSlideEnd:()=>{s.current=void 0,a?.()},onStepKeyDown:y=>{const S=vn[u?"from-bottom":"from-top"].includes(y.key);f?.({event:y,direction:S?-1:1})}})})}),Sn=A.forwardRef((r,d)=>{const{__scopeSlider:c,onSlideStart:i,onSlideMove:e,onSlideEnd:t,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:f,...m}=r,l=At(et,c);return p.jsx(X.span,{...m,ref:d,onKeyDown:J(r.onKeyDown,n=>{n.key==="Home"?(o(n),n.preventDefault()):n.key==="End"?(a(n),n.preventDefault()):mn.concat(gn).includes(n.key)&&(f(n),n.preventDefault())}),onPointerDown:J(r.onPointerDown,n=>{const s=n.target;s.setPointerCapture(n.pointerId),n.preventDefault(),l.thumbs.has(s)?s.focus():i(n)}),onPointerMove:J(r.onPointerMove,n=>{n.target.hasPointerCapture(n.pointerId)&&e(n)}),onPointerUp:J(r.onPointerUp,n=>{const s=n.target;s.hasPointerCapture(n.pointerId)&&(s.releasePointerCapture(n.pointerId),t(n))})})}),Cn="SliderTrack",An=A.forwardRef((r,d)=>{const{__scopeSlider:c,...i}=r,e=At(Cn,c);return p.jsx(X.span,{"data-disabled":e.disabled?"":void 0,"data-orientation":e.orientation,...i,ref:d})});An.displayName=Cn;var Ht="SliderRange",jn=A.forwardRef((r,d)=>{const{__scopeSlider:c,...i}=r,e=At(Ht,c),t=wn(Ht,c),o=A.useRef(null),a=le(d,o),f=e.values.length,m=e.values.map(s=>En(s,e.min,e.max)),l=f>1?Math.min(...m):0,n=100-Math.max(...m);return p.jsx(X.span,{"data-orientation":e.orientation,"data-disabled":e.disabled?"":void 0,...i,ref:a,style:{...r.style,[t.startEdge]:l+"%",[t.endEdge]:n+"%"}})});jn.displayName=Ht;var Vt="SliderThumb",Nn=A.forwardRef((r,d)=>{const c=Ga(r.__scopeSlider),[i,e]=A.useState(null),t=le(d,a=>e(a)),o=A.useMemo(()=>i?c().findIndex(a=>a.ref.current===i):-1,[c,i]);return p.jsx(Qa,{...r,ref:t,index:o})}),Qa=A.forwardRef((r,d)=>{const{__scopeSlider:c,index:i,name:e,...t}=r,o=At(Vt,c),a=wn(Vt,c),[f,m]=A.useState(null),l=le(d,O=>m(O)),n=f?o.form||!!f.closest("form"):!0,s=Oo(f),u=o.values[i],b=u===void 0?0:En(u,o.min,o.max),y=Ja(i,o.values.length),_=s?.[a.size],S=_?ts(_,b,a.direction):0;return A.useEffect(()=>{if(f)return o.thumbs.add(f),()=>{o.thumbs.delete(f)}},[f,o.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${b}% + ${S}px)`},children:[p.jsx(zt.ItemSlot,{scope:r.__scopeSlider,children:p.jsx(X.span,{role:"slider","aria-label":r["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":u,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...t,ref:l,style:u===void 0?{display:"none"}:r.style,onFocus:J(r.onFocus,()=>{o.valueIndexToChangeRef.current=i})})}),n&&p.jsx(_n,{name:e??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:u},i)]})});Nn.displayName=Vt;var Ya="RadioBubbleInput",_n=A.forwardRef(({__scopeSlider:r,value:d,...c},i)=>{const e=A.useRef(null),t=le(e,i),o=zr(d);return A.useEffect(()=>{const a=e.current;if(!a)return;const f=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(f,"value").set;if(o!==d&&l){const n=new Event("input",{bubbles:!0});l.call(a,d),a.dispatchEvent(n)}},[o,d]),p.jsx(X.input,{style:{display:"none"},...c,ref:t,defaultValue:d})});_n.displayName=Ya;function Xa(r=[],d,c){const i=[...r];return i[c]=d,i.sort((e,t)=>e-t)}function En(r,d,c){const t=100/(c-d)*(r-d);return ft(t,[0,100])}function Ja(r,d){return d>2?`Value ${r+1} of ${d}`:d===2?["Minimum","Maximum"][r]:void 0}function es(r,d){if(r.length===1)return 0;const c=r.map(e=>Math.abs(e-d)),i=Math.min(...c);return c.indexOf(i)}function ts(r,d,c){const i=r/2,t=Jt([0,50],[0,i]);return(i-t(d)*c)*c}function rs(r){return r.slice(0,-1).map((d,c)=>r[c+1]-d)}function ns(r,d){if(d>0){const c=rs(r);return Math.min(...c)>=d}return!0}function Jt(r,d){return c=>{if(r[0]===r[1]||d[0]===d[1])return d[0];const i=(d[1]-d[0])/(r[1]-r[0]);return d[0]+i*(c-r[0])}}function os(r){return(String(r).split(".")[1]||"").length}function as(r,d){const c=Math.pow(10,d);return Math.round(r*c)/c}var Rn=bn,ss=An,is=jn,ls=Nn;const Pn=A.forwardRef(({className:r,...d},c)=>p.jsxs(Rn,{ref:c,className:Y("relative flex w-full touch-none select-none items-center",r),...d,children:[p.jsx(ss,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:p.jsx(is,{className:"absolute h-full bg-primary"})}),p.jsx(ls,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Pn.displayName=Rn.displayName;var mr=1,cs=.9,ds=.8,us=.17,Pt=.1,It=.999,fs=.9999,ps=.99,hs=/[\\\/_+.#"@\[\(\{&]/,ms=/[\\\/_+.#"@\[\(\{&]/g,gs=/[\s-]/,In=/[\s-]/g;function $t(r,d,c,i,e,t,o){if(t===d.length)return e===r.length?mr:ps;var a=`${e},${t}`;if(o[a]!==void 0)return o[a];for(var f=i.charAt(t),m=c.indexOf(f,e),l=0,n,s,u,b;m>=0;)n=$t(r,d,c,i,m+1,t+1,o),n>l&&(m===e?n*=mr:hs.test(r.charAt(m-1))?(n*=ds,u=r.slice(e,m-1).match(ms),u&&e>0&&(n*=Math.pow(It,u.length))):gs.test(r.charAt(m-1))?(n*=cs,b=r.slice(e,m-1).match(In),b&&e>0&&(n*=Math.pow(It,b.length))):(n*=us,e>0&&(n*=Math.pow(It,m-e))),r.charAt(m)!==d.charAt(t)&&(n*=fs)),(n<Pt&&c.charAt(m-1)===i.charAt(t+1)||i.charAt(t+1)===i.charAt(t)&&c.charAt(m-1)!==i.charAt(t))&&(s=$t(r,d,c,i,m+1,t+2,o),s*Pt>n&&(n=s*Pt)),n>l&&(l=n),m=c.indexOf(f,m+1);return o[a]=l,l}function gr(r){return r.toLowerCase().replace(In," ")}function vs(r,d,c){return r=c&&c.length>0?`${r+" "+c.join(" ")}`:r,$t(r,d,gr(r),gr(d),0,0,{})}var ot='[cmdk-group=""]',kt='[cmdk-group-items=""]',xs='[cmdk-group-heading=""]',kn='[cmdk-item=""]',vr=`${kn}:not([aria-disabled="true"])`,Gt="cmdk-item-select",Ze="data-value",bs=(r,d,c)=>vs(r,d,c),Tn=A.createContext(void 0),lt=()=>A.useContext(Tn),Mn=A.createContext(void 0),er=()=>A.useContext(Mn),Dn=A.createContext(void 0),Fn=A.forwardRef((r,d)=>{let c=Qe(()=>{var I,H;return{search:"",value:(H=(I=r.value)!=null?I:r.defaultValue)!=null?H:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=Qe(()=>new Set),e=Qe(()=>new Map),t=Qe(()=>new Map),o=Qe(()=>new Set),a=On(r),{label:f,children:m,value:l,onValueChange:n,filter:s,shouldFilter:u,loop:b,disablePointerSelection:y=!1,vimBindings:_=!0,...S}=r,O=Ee(),D=Ee(),T=Ee(),U=A.useRef(null),w=Ps();We(()=>{if(l!==void 0){let I=l.trim();c.current.value=I,C.emit()}},[l]),We(()=>{w(6,k)},[]);let C=A.useMemo(()=>({subscribe:I=>(o.current.add(I),()=>o.current.delete(I)),snapshot:()=>c.current,setState:(I,H,B)=>{var P,$,V,K;if(!Object.is(c.current[I],H)){if(c.current[I]=H,I==="search")R(),j(),w(1,E);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let W=document.getElementById(T);W?W.focus():(P=document.getElementById(O))==null||P.focus()}if(w(7,()=>{var W;c.current.selectedItemId=(W=N())==null?void 0:W.id,C.emit()}),B||w(5,k),(($=a.current)==null?void 0:$.value)!==void 0){let W=H??"";(K=(V=a.current).onValueChange)==null||K.call(V,W);return}}C.emit()}},emit:()=>{o.current.forEach(I=>I())}}),[]),g=A.useMemo(()=>({value:(I,H,B)=>{var P;H!==((P=t.current.get(I))==null?void 0:P.value)&&(t.current.set(I,{value:H,keywords:B}),c.current.filtered.items.set(I,v(H,B)),w(2,()=>{j(),C.emit()}))},item:(I,H)=>(i.current.add(I),H&&(e.current.has(H)?e.current.get(H).add(I):e.current.set(H,new Set([I]))),w(3,()=>{R(),j(),c.current.value||E(),C.emit()}),()=>{t.current.delete(I),i.current.delete(I),c.current.filtered.items.delete(I);let B=N();w(4,()=>{R(),B?.getAttribute("id")===I&&E(),C.emit()})}),group:I=>(e.current.has(I)||e.current.set(I,new Set),()=>{t.current.delete(I),e.current.delete(I)}),filter:()=>a.current.shouldFilter,label:f||r["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:O,inputId:T,labelId:D,listInnerRef:U}),[]);function v(I,H){var B,P;let $=(P=(B=a.current)==null?void 0:B.filter)!=null?P:bs;return I?$(I,c.current.search,H):0}function j(){if(!c.current.search||a.current.shouldFilter===!1)return;let I=c.current.filtered.items,H=[];c.current.filtered.groups.forEach(P=>{let $=e.current.get(P),V=0;$.forEach(K=>{let W=I.get(K);V=Math.max(W,V)}),H.push([P,V])});let B=U.current;M().sort((P,$)=>{var V,K;let W=P.getAttribute("id"),q=$.getAttribute("id");return((V=I.get(q))!=null?V:0)-((K=I.get(W))!=null?K:0)}).forEach(P=>{let $=P.closest(kt);$?$.appendChild(P.parentElement===$?P:P.closest(`${kt} > *`)):B.appendChild(P.parentElement===B?P:P.closest(`${kt} > *`))}),H.sort((P,$)=>$[1]-P[1]).forEach(P=>{var $;let V=($=U.current)==null?void 0:$.querySelector(`${ot}[${Ze}="${encodeURIComponent(P[0])}"]`);V?.parentElement.appendChild(V)})}function E(){let I=M().find(B=>B.getAttribute("aria-disabled")!=="true"),H=I?.getAttribute(Ze);C.setState("value",H||void 0)}function R(){var I,H,B,P;if(!c.current.search||a.current.shouldFilter===!1){c.current.filtered.count=i.current.size;return}c.current.filtered.groups=new Set;let $=0;for(let V of i.current){let K=(H=(I=t.current.get(V))==null?void 0:I.value)!=null?H:"",W=(P=(B=t.current.get(V))==null?void 0:B.keywords)!=null?P:[],q=v(K,W);c.current.filtered.items.set(V,q),q>0&&$++}for(let[V,K]of e.current)for(let W of K)if(c.current.filtered.items.get(W)>0){c.current.filtered.groups.add(V);break}c.current.filtered.count=$}function k(){var I,H,B;let P=N();P&&(((I=P.parentElement)==null?void 0:I.firstChild)===P&&((B=(H=P.closest(ot))==null?void 0:H.querySelector(xs))==null||B.scrollIntoView({block:"nearest"})),P.scrollIntoView({block:"nearest"}))}function N(){var I;return(I=U.current)==null?void 0:I.querySelector(`${kn}[aria-selected="true"]`)}function M(){var I;return Array.from(((I=U.current)==null?void 0:I.querySelectorAll(vr))||[])}function x(I){let H=M()[I];H&&C.setState("value",H.getAttribute(Ze))}function h(I){var H;let B=N(),P=M(),$=P.findIndex(K=>K===B),V=P[$+I];(H=a.current)!=null&&H.loop&&(V=$+I<0?P[P.length-1]:$+I===P.length?P[0]:P[$+I]),V&&C.setState("value",V.getAttribute(Ze))}function L(I){let H=N(),B=H?.closest(ot),P;for(;B&&!P;)B=I>0?Es(B,ot):Rs(B,ot),P=B?.querySelector(vr);P?C.setState("value",P.getAttribute(Ze)):h(I)}let F=()=>x(M().length-1),z=I=>{I.preventDefault(),I.metaKey?F():I.altKey?L(1):h(1)},G=I=>{I.preventDefault(),I.metaKey?x(0):I.altKey?L(-1):h(-1)};return A.createElement(X.div,{ref:d,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:I=>{var H;(H=S.onKeyDown)==null||H.call(S,I);let B=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||B))switch(I.key){case"n":case"j":{_&&I.ctrlKey&&z(I);break}case"ArrowDown":{z(I);break}case"p":case"k":{_&&I.ctrlKey&&G(I);break}case"ArrowUp":{G(I);break}case"Home":{I.preventDefault(),x(0);break}case"End":{I.preventDefault(),F();break}case"Enter":{I.preventDefault();let P=N();if(P){let $=new Event(Gt);P.dispatchEvent($)}}}}},A.createElement("label",{"cmdk-label":"",htmlFor:g.inputId,id:g.labelId,style:ks},f),jt(r,I=>A.createElement(Mn.Provider,{value:C},A.createElement(Tn.Provider,{value:g},I))))}),ys=A.forwardRef((r,d)=>{var c,i;let e=Ee(),t=A.useRef(null),o=A.useContext(Dn),a=lt(),f=On(r),m=(i=(c=f.current)==null?void 0:c.forceMount)!=null?i:o?.forceMount;We(()=>{if(!m)return a.item(e,o?.id)},[m]);let l=Un(e,t,[r.value,r.children,t],r.keywords),n=er(),s=Me(w=>w.value&&w.value===l.current),u=Me(w=>m||a.filter()===!1?!0:w.search?w.filtered.items.get(e)>0:!0);A.useEffect(()=>{let w=t.current;if(!(!w||r.disabled))return w.addEventListener(Gt,b),()=>w.removeEventListener(Gt,b)},[u,r.onSelect,r.disabled]);function b(){var w,C;y(),(C=(w=f.current).onSelect)==null||C.call(w,l.current)}function y(){n.setState("value",l.current,!0)}if(!u)return null;let{disabled:_,value:S,onSelect:O,forceMount:D,keywords:T,...U}=r;return A.createElement(X.div,{ref:st(t,d),...U,id:e,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!s,"data-disabled":!!_,"data-selected":!!s,onPointerMove:_||a.getDisablePointerSelection()?void 0:y,onClick:_?void 0:b},r.children)}),ws=A.forwardRef((r,d)=>{let{heading:c,children:i,forceMount:e,...t}=r,o=Ee(),a=A.useRef(null),f=A.useRef(null),m=Ee(),l=lt(),n=Me(u=>e||l.filter()===!1?!0:u.search?u.filtered.groups.has(o):!0);We(()=>l.group(o),[]),Un(o,a,[r.value,r.heading,f]);let s=A.useMemo(()=>({id:o,forceMount:e}),[e]);return A.createElement(X.div,{ref:st(a,d),...t,"cmdk-group":"",role:"presentation",hidden:n?void 0:!0},c&&A.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:m},c),jt(r,u=>A.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":c?m:void 0},A.createElement(Dn.Provider,{value:s},u))))}),Ss=A.forwardRef((r,d)=>{let{alwaysRender:c,...i}=r,e=A.useRef(null),t=Me(o=>!o.search);return!c&&!t?null:A.createElement(X.div,{ref:st(e,d),...i,"cmdk-separator":"",role:"separator"})}),Cs=A.forwardRef((r,d)=>{let{onValueChange:c,...i}=r,e=r.value!=null,t=er(),o=Me(m=>m.search),a=Me(m=>m.selectedItemId),f=lt();return A.useEffect(()=>{r.value!=null&&t.setState("search",r.value)},[r.value]),A.createElement(X.input,{ref:d,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":a,id:f.inputId,type:"text",value:e?r.value:o,onChange:m=>{e||t.setState("search",m.target.value),c?.(m.target.value)}})}),As=A.forwardRef((r,d)=>{let{children:c,label:i="Suggestions",...e}=r,t=A.useRef(null),o=A.useRef(null),a=Me(m=>m.selectedItemId),f=lt();return A.useEffect(()=>{if(o.current&&t.current){let m=o.current,l=t.current,n,s=new ResizeObserver(()=>{n=requestAnimationFrame(()=>{let u=m.offsetHeight;l.style.setProperty("--cmdk-list-height",u.toFixed(1)+"px")})});return s.observe(m),()=>{cancelAnimationFrame(n),s.unobserve(m)}}},[]),A.createElement(X.div,{ref:st(t,d),...e,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":i,id:f.listId},jt(r,m=>A.createElement("div",{ref:st(o,f.listInnerRef),"cmdk-list-sizer":""},m)))}),js=A.forwardRef((r,d)=>{let{open:c,onOpenChange:i,overlayClassName:e,contentClassName:t,container:o,...a}=r;return A.createElement(qo,{open:c,onOpenChange:i},A.createElement(Or,{container:o},A.createElement(Qt,{"cmdk-overlay":"",className:e}),A.createElement(Yt,{"aria-label":r.label,"cmdk-dialog":"",className:t},A.createElement(Fn,{ref:d,...a}))))}),Ns=A.forwardRef((r,d)=>Me(c=>c.filtered.count===0)?A.createElement(X.div,{ref:d,...r,"cmdk-empty":"",role:"presentation"}):null),_s=A.forwardRef((r,d)=>{let{progress:c,children:i,label:e="Loading...",...t}=r;return A.createElement(X.div,{ref:d,...t,"cmdk-loading":"",role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100,"aria-label":e},jt(r,o=>A.createElement("div",{"aria-hidden":!0},o)))}),ge=Object.assign(Fn,{List:As,Item:ys,Input:Cs,Group:ws,Separator:Ss,Dialog:js,Empty:Ns,Loading:_s});function Es(r,d){let c=r.nextElementSibling;for(;c;){if(c.matches(d))return c;c=c.nextElementSibling}}function Rs(r,d){let c=r.previousElementSibling;for(;c;){if(c.matches(d))return c;c=c.previousElementSibling}}function On(r){let d=A.useRef(r);return We(()=>{d.current=r}),d}var We=typeof window>"u"?A.useEffect:A.useLayoutEffect;function Qe(r){let d=A.useRef();return d.current===void 0&&(d.current=r()),d}function Me(r){let d=er(),c=()=>r(d.snapshot());return A.useSyncExternalStore(d.subscribe,c,c)}function Un(r,d,c,i=[]){let e=A.useRef(),t=lt();return We(()=>{var o;let a=(()=>{var m;for(let l of c){if(typeof l=="string")return l.trim();if(typeof l=="object"&&"current"in l)return l.current?(m=l.current.textContent)==null?void 0:m.trim():e.current}})(),f=i.map(m=>m.trim());t.value(r,a,f),(o=d.current)==null||o.setAttribute(Ze,a),e.current=a}),e}var Ps=()=>{let[r,d]=A.useState(),c=Qe(()=>new Map);return We(()=>{c.current.forEach(i=>i()),c.current=new Map},[r]),(i,e)=>{c.current.set(i,e),d({})}};function Is(r){let d=r.type;return typeof d=="function"?d(r.props):"render"in d?d.render(r.props):r}function jt({asChild:r,children:d},c){return r&&A.isValidElement(d)?A.cloneElement(Is(d),{ref:d.ref},c(d.props.children)):c(d)}var ks={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ts=Or,Ln=A.forwardRef(({className:r,...d},c)=>p.jsx(Qt,{ref:c,className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...d}));Ln.displayName=Qt.displayName;const Ms=A.forwardRef(({className:r,children:d,...c},i)=>p.jsxs(Ts,{children:[p.jsx(Ln,{}),p.jsxs(Yt,{ref:i,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[12%] data-[state=open]:slide-in-from-top-[12%] sm:rounded-lg",r),...c,children:[d,p.jsxs(Zo,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(ia,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ms.displayName=Yt.displayName;const Ds=A.forwardRef(({className:r,...d},c)=>p.jsx(Ur,{ref:c,className:Y("text-lg font-semibold leading-none tracking-tight",r),...d}));Ds.displayName=Ur.displayName;const Fs=A.forwardRef(({className:r,...d},c)=>p.jsx(Lr,{ref:c,className:Y("text-sm text-muted-foreground",r),...d}));Fs.displayName=Lr.displayName;const Bn=A.forwardRef(({className:r,...d},c)=>p.jsx(ge,{ref:c,className:Y("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r),...d}));Bn.displayName=ge.displayName;const zn=A.forwardRef(({className:r,...d},c)=>p.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[p.jsx(aa,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),p.jsx(ge.Input,{ref:c,className:Y("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r),...d})]}));zn.displayName=ge.Input.displayName;const Hn=A.forwardRef(({className:r,...d},c)=>p.jsx(ge.List,{ref:c,className:Y("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...d}));Hn.displayName=ge.List.displayName;const Vn=A.forwardRef((r,d)=>p.jsx(ge.Empty,{ref:d,className:"py-6 text-center text-sm",...r}));Vn.displayName=ge.Empty.displayName;const $n=A.forwardRef(({className:r,...d},c)=>p.jsx(ge.Group,{ref:c,className:Y("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r),...d}));$n.displayName=ge.Group.displayName;const Os=A.forwardRef(({className:r,...d},c)=>p.jsx(ge.Separator,{ref:c,className:Y("-mx-1 h-px bg-border",r),...d}));Os.displayName=ge.Separator.displayName;const Kt=A.forwardRef(({className:r,...d},c)=>p.jsx(ge.Item,{ref:c,className:Y("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r),...d}));Kt.displayName=ge.Item.displayName;var Nt="Popover",[Gn,_i]=yt(Nt,[bt]),ct=bt(),[Us,Oe]=Gn(Nt),Kn=r=>{const{__scopePopover:d,children:c,open:i,defaultOpen:e,onOpenChange:t,modal:o=!1}=r,a=ct(d),f=A.useRef(null),[m,l]=A.useState(!1),[n,s]=$e({prop:i,defaultProp:e??!1,onChange:t,caller:Nt});return p.jsx(Ar,{...a,children:p.jsx(Us,{scope:d,contentId:Ee(),triggerRef:f,open:n,onOpenChange:s,onOpenToggle:A.useCallback(()=>s(u=>!u),[s]),hasCustomAnchor:m,onCustomAnchorAdd:A.useCallback(()=>l(!0),[]),onCustomAnchorRemove:A.useCallback(()=>l(!1),[]),modal:o,children:c})})};Kn.displayName=Nt;var Wn="PopoverAnchor",Ls=A.forwardRef((r,d)=>{const{__scopePopover:c,...i}=r,e=Oe(Wn,c),t=ct(c),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=e;return A.useEffect(()=>(o(),()=>a()),[o,a]),p.jsx(Zt,{...t,...i,ref:d})});Ls.displayName=Wn;var qn="PopoverTrigger",Zn=A.forwardRef((r,d)=>{const{__scopePopover:c,...i}=r,e=Oe(qn,c),t=ct(c),o=le(d,e.triggerRef),a=p.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":eo(e.open),...i,ref:o,onClick:J(r.onClick,e.onOpenToggle)});return e.hasCustomAnchor?a:p.jsx(Zt,{asChild:!0,...t,children:a})});Zn.displayName=qn;var tr="PopoverPortal",[Bs,zs]=Gn(tr,{forceMount:void 0}),Qn=r=>{const{__scopePopover:d,forceMount:c,children:i,container:e}=r,t=Oe(tr,d);return p.jsx(Bs,{scope:d,forceMount:c,children:p.jsx(Dr,{present:c||t.open,children:p.jsx(Nr,{asChild:!0,container:e,children:i})})})};Qn.displayName=tr;var Xe="PopoverContent",Yn=A.forwardRef((r,d)=>{const c=zs(Xe,r.__scopePopover),{forceMount:i=c.forceMount,...e}=r,t=Oe(Xe,r.__scopePopover);return p.jsx(Dr,{present:i||t.open,children:t.modal?p.jsx(Vs,{...e,ref:d}):p.jsx($s,{...e,ref:d})})});Yn.displayName=Xe;var Hs=Sr("PopoverContent.RemoveScroll"),Vs=A.forwardRef((r,d)=>{const c=Oe(Xe,r.__scopePopover),i=A.useRef(null),e=le(d,i),t=A.useRef(!1);return A.useEffect(()=>{const o=i.current;if(o)return _r(o)},[]),p.jsx(Rr,{as:Hs,allowPinchZoom:!0,children:p.jsx(Xn,{...r,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(r.onCloseAutoFocus,o=>{o.preventDefault(),t.current||c.triggerRef.current?.focus()}),onPointerDownOutside:J(r.onPointerDownOutside,o=>{const a=o.detail.originalEvent,f=a.button===0&&a.ctrlKey===!0,m=a.button===2||f;t.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:J(r.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),$s=A.forwardRef((r,d)=>{const c=Oe(Xe,r.__scopePopover),i=A.useRef(!1),e=A.useRef(!1);return p.jsx(Xn,{...r,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{r.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||c.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,e.current=!1},onInteractOutside:t=>{r.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,t.detail.originalEvent.type==="pointerdown"&&(e.current=!0));const o=t.target;c.triggerRef.current?.contains(o)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&e.current&&t.preventDefault()}})}),Xn=A.forwardRef((r,d)=>{const{__scopePopover:c,trapFocus:i,onOpenAutoFocus:e,onCloseAutoFocus:t,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:l,...n}=r,s=Oe(Xe,c),u=ct(c);return Er(),p.jsx(Pr,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:e,onUnmountAutoFocus:t,children:p.jsx(Ir,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:l,onEscapeKeyDown:a,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>s.onOpenChange(!1),children:p.jsx(kr,{"data-state":eo(s.open),role:"dialog",id:s.contentId,...u,...n,ref:d,style:{...n.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Jn="PopoverClose",Gs=A.forwardRef((r,d)=>{const{__scopePopover:c,...i}=r,e=Oe(Jn,c);return p.jsx(X.button,{type:"button",...i,ref:d,onClick:J(r.onClick,()=>e.onOpenChange(!1))})});Gs.displayName=Jn;var Ks="PopoverArrow",Ws=A.forwardRef((r,d)=>{const{__scopePopover:c,...i}=r,e=ct(c);return p.jsx(Tr,{...e,...i,ref:d})});Ws.displayName=Ks;function eo(r){return r?"open":"closed"}var qs=Kn,Zs=Zn,Qs=Qn,to=Yn;const Ys=qs,Xs=Zs,ro=A.forwardRef(({className:r,align:d="center",sideOffset:c=4,...i},e)=>p.jsx(Qs,{children:p.jsx(to,{ref:e,align:d,sideOffset:c,className:Y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",r),...i})}));ro.displayName=to.displayName;function Js({value:r,onChange:d,placeholder:c="Zutat auswÃ¤hlen oder neu anlegen",triggerClassName:i}){const e=wr().props.ingredients??[],[t,o]=A.useState(!1),[a,f]=A.useState(""),m=A.useMemo(()=>e.find(b=>b.id===r)??null,[e,r]),l=m?m.name:r||c,n=b=>e.some(y=>y.name.trim().toLowerCase()===b.trim().toLowerCase()),s=a.trim().length>0&&!n(a);function u(b){if(b.startsWith("id:")){const _=b.match(/^id:([^\s]+)\s?.*$/)?.[1]??"";_&&d(_)}else if(b.startsWith("create:")){const y=b.slice(7).trim();y&&d(y)}o(!1)}return p.jsxs(Ys,{open:t,onOpenChange:o,children:[p.jsx(Xs,{asChild:!0,children:p.jsxs(Ne,{variant:"outline",role:"combobox","aria-expanded":t,className:Y("w-72 justify-between",i),children:[p.jsx("span",{className:Y(!m&&!r&&"text-muted-foreground"),children:l}),p.jsx(na,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),p.jsx(ro,{className:"w-80 p-0",children:p.jsxs(Bn,{children:[p.jsx(zn,{placeholder:"Zutat suchen oder neu anlegen",value:a,onValueChange:f,className:"my-4 focus:border-primary focus:ring-primary"}),p.jsxs(Hn,{children:[s&&p.jsxs(Kt,{value:`create:${a}`,onSelect:u,children:['Neu erstellen: "',a,'"']},`create-${a}`),p.jsx(Vn,{children:"Keine Zutat gefunden."}),p.jsx($n,{children:e.map(b=>{const y=`id:${b.id} ${b.name}`,_=m?.id===b.id;return p.jsxs(Kt,{value:y,onSelect:u,children:[p.jsx(Mr,{className:Y("mr-2 h-4 w-4",_?"opacity-100":"opacity-0")}),b.name]},b.id)})})]})]})})]})}function ei(r,d){return d.forEach(function(c){c&&typeof c!="string"&&!Array.isArray(c)&&Object.keys(c).forEach(function(i){if(i!=="default"&&!(i in r)){var e=Object.getOwnPropertyDescriptor(c,i);Object.defineProperty(r,i,e.get?e:{enumerable:!0,get:function(){return c[i]}})}})}),Object.freeze(r)}function no(r,d){return new Promise(function(c,i){let e;return ti(r).then(function(t){try{return e=t,c(new Blob([d.slice(0,2),e,d.slice(2)],{type:"image/jpeg"}))}catch(o){return i(o)}},i)})}const ti=r=>new Promise((d,c)=>{const i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let o=0;if(t.getUint16(o)!==65496)return c("not a valid JPEG");for(o+=2;;){const a=t.getUint16(o);if(a===65498)break;const f=t.getUint16(o+2);if(a===65505&&t.getUint32(o+4)===1165519206){const m=o+10;let l;switch(t.getUint16(m)){case 18761:l=!0;break;case 19789:l=!1;break;default:return c("TIFF header contains invalid endian")}if(t.getUint16(m+2,l)!==42)return c("TIFF header contains invalid version");const n=t.getUint32(m+4,l),s=m+n+2+12*t.getUint16(m+n,l);for(let u=m+n+2;u<s;u+=12)if(t.getUint16(u,l)==274){if(t.getUint16(u+2,l)!==3)return c("Orientation data type is invalid");if(t.getUint32(u+4,l)!==1)return c("Orientation data count is invalid");t.setUint16(u+8,1,l);break}return d(e.slice(o,o+2+f))}o+=2+f}return d(new Blob)}),i.readAsArrayBuffer(r)});var ht={},ri={get exports(){return ht},set exports(r){ht=r}};(function(r){var d,c,i={};ri.exports=i,i.parse=function(e,t){for(var o=i.bin.readUshort,a=i.bin.readUint,f=0,m={},l=new Uint8Array(e),n=l.length-4;a(l,n)!=101010256;)n--;f=n,f+=4;var s=o(l,f+=4);o(l,f+=2);var u=a(l,f+=2),b=a(l,f+=4);f+=4,f=b;for(var y=0;y<s;y++){a(l,f),f+=4,f+=4,f+=4,a(l,f+=4),u=a(l,f+=4);var _=a(l,f+=4),S=o(l,f+=4),O=o(l,f+2),D=o(l,f+4);f+=6;var T=a(l,f+=8);f+=4,f+=S+O+D,i._readLocal(l,T,m,u,_,t)}return m},i._readLocal=function(e,t,o,a,f,m){var l=i.bin.readUshort,n=i.bin.readUint;n(e,t),l(e,t+=4),l(e,t+=2);var s=l(e,t+=2);n(e,t+=2),n(e,t+=4),t+=4;var u=l(e,t+=8),b=l(e,t+=2);t+=2;var y=i.bin.readUTF8(e,t,u);if(t+=u,t+=b,m)o[y]={size:f,csize:a};else{var _=new Uint8Array(e.buffer,t);if(s==0)o[y]=new Uint8Array(_.buffer.slice(t,t+a));else{if(s!=8)throw"unknown compression method: "+s;var S=new Uint8Array(f);i.inflateRaw(_,S),o[y]=S}}},i.inflateRaw=function(e,t){return i.F.inflate(e,t)},i.inflate=function(e,t){return e[0],e[1],i.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},i.deflate=function(e,t){t==null&&(t={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[o]=120,a[o+1]=156,o+=2,o=i.F.deflateRaw(e,a,o,t.level);var f=i.adler(e,0,e.length);return a[o+0]=f>>>24&255,a[o+1]=f>>>16&255,a[o+2]=f>>>8&255,a[o+3]=f>>>0&255,new Uint8Array(a.buffer,0,o+4)},i.deflateRaw=function(e,t){t==null&&(t={level:6});var o=new Uint8Array(50+Math.floor(1.1*e.length)),a=i.F.deflateRaw(e,o,a,t.level);return new Uint8Array(o.buffer,0,a)},i.encode=function(e,t){t==null&&(t=!1);var o=0,a=i.bin.writeUint,f=i.bin.writeUshort,m={};for(var l in e){var n=!i._noNeed(l)&&!t,s=e[l],u=i.crc.crc(s,0,s.length);m[l]={cpr:n,usize:s.length,crc:u,file:n?i.deflateRaw(s):s}}for(var l in m)o+=m[l].file.length+30+46+2*i.bin.sizeUTF8(l);o+=22;var b=new Uint8Array(o),y=0,_=[];for(var l in m){var S=m[l];_.push(y),y=i._writeHeader(b,y,l,S,0)}var O=0,D=y;for(var l in m)S=m[l],_.push(y),y=i._writeHeader(b,y,l,S,1,_[O++]);var T=y-D;return a(b,y,101010256),y+=4,f(b,y+=4,O),f(b,y+=2,O),a(b,y+=2,T),a(b,y+=4,D),y+=4,y+=2,b.buffer},i._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},i._writeHeader=function(e,t,o,a,f,m){var l=i.bin.writeUint,n=i.bin.writeUshort,s=a.file;return l(e,t,f==0?67324752:33639248),t+=4,f==1&&(t+=2),n(e,t,20),n(e,t+=2,0),n(e,t+=2,a.cpr?8:0),l(e,t+=2,0),l(e,t+=4,a.crc),l(e,t+=4,s.length),l(e,t+=4,a.usize),n(e,t+=4,i.bin.sizeUTF8(o)),n(e,t+=2,0),t+=2,f==1&&(t+=2,t+=2,l(e,t+=6,m),t+=4),t+=i.bin.writeUTF8(e,t,o),f==0&&(e.set(s,t),t+=s.length),t},i.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var o=t,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;e[t]=o}return e}(),update:function(e,t,o,a){for(var f=0;f<a;f++)e=i.crc.table[255&(e^t[o+f])]^e>>>8;return e},crc:function(e,t,o){return 4294967295^i.crc.update(4294967295,e,t,o)}},i.adler=function(e,t,o){for(var a=1,f=0,m=t,l=t+o;m<l;){for(var n=Math.min(m+5552,l);m<n;)f+=a+=e[m++];a%=65521,f%=65521}return f<<16|a},i.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,o){e[t]=255&o,e[t+1]=o>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,o){e[t]=255&o,e[t+1]=o>>8&255,e[t+2]=o>>16&255,e[t+3]=o>>24&255},readASCII:function(e,t,o){for(var a="",f=0;f<o;f++)a+=String.fromCharCode(e[t+f]);return a},writeASCII:function(e,t,o){for(var a=0;a<o.length;a++)e[t+a]=o.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,o){for(var a,f="",m=0;m<o;m++)f+="%"+i.bin.pad(e[t+m].toString(16));try{a=decodeURIComponent(f)}catch{return i.bin.readASCII(e,t,o)}return a},writeUTF8:function(e,t,o){for(var a=o.length,f=0,m=0;m<a;m++){var l=o.charCodeAt(m);if((4294967168&l)==0)e[t+f]=l,f++;else if((4294965248&l)==0)e[t+f]=192|l>>6,e[t+f+1]=128|l>>0&63,f+=2;else if((4294901760&l)==0)e[t+f]=224|l>>12,e[t+f+1]=128|l>>6&63,e[t+f+2]=128|l>>0&63,f+=3;else{if((4292870144&l)!=0)throw"e";e[t+f]=240|l>>18,e[t+f+1]=128|l>>12&63,e[t+f+2]=128|l>>6&63,e[t+f+3]=128|l>>0&63,f+=4}}return f},sizeUTF8:function(e){for(var t=e.length,o=0,a=0;a<t;a++){var f=e.charCodeAt(a);if((4294967168&f)==0)o++;else if((4294965248&f)==0)o+=2;else if((4294901760&f)==0)o+=3;else{if((4292870144&f)!=0)throw"e";o+=4}}return o}},i.F={},i.F.deflateRaw=function(e,t,o,a){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],m=i.F.U,l=i.F._goodIndex;i.F._hash;var n=i.F._putsE,s=0,u=o<<3,b=0,y=e.length;if(a==0){for(;s<y;)n(t,u,s+(E=Math.min(65535,y-s))==y?1:0),u=i.F._copyExact(e,s,E,t,u+8),s+=E;return u>>>3}var _=m.lits,S=m.strt,O=m.prev,D=0,T=0,U=0,w=0,C=0,g=0;for(y>2&&(S[g=i.F._hash(e,0)]=0),s=0;s<y;s++){if(C=g,s+1<y-2){g=i.F._hash(e,s+1);var v=s+1&32767;O[v]=S[g],S[g]=v}if(b<=s){(D>14e3||T>26697)&&y-s>100&&(b<s&&(_[D]=s-b,D+=2,b=s),u=i.F._writeBlock(s==y-1||b==y?1:0,_,D,w,e,U,s-U,t,u),D=T=w=0,U=s);var j=0;s<y-2&&(j=i.F._bestMatch(e,s,O,C,Math.min(f[2],y-s),f[3]));var E=j>>>16,R=65535&j;if(j!=0){R=65535&j;var k=l(E=j>>>16,m.of0);m.lhst[257+k]++;var N=l(R,m.df0);m.dhst[N]++,w+=m.exb[k]+m.dxb[N],_[D]=E<<23|s-b,_[D+1]=R<<16|k<<8|N,D+=2,b=s+E}else m.lhst[e[s]]++;T++}}for(U==s&&e.length!=0||(b<s&&(_[D]=s-b,D+=2,b=s),u=i.F._writeBlock(1,_,D,w,e,U,s-U,t,u),D=0,T=0,D=T=w=0,U=s);(7&u)!=0;)u++;return u>>>3},i.F._bestMatch=function(e,t,o,a,f,m){var l=32767&t,n=o[l],s=l-n+32768&32767;if(n==l||a!=i.F._hash(e,t-s))return 0;for(var u=0,b=0,y=Math.min(32767,t);s<=y&&--m!=0&&n!=l;){if(u==0||e[t+u]==e[t+u-s]){var _=i.F._howLong(e,t,s);if(_>u){if(b=s,(u=_)>=f)break;s+2<_&&(_=s+2);for(var S=0,O=0;O<_-2;O++){var D=t-s+O+32768&32767,T=D-o[D]+32768&32767;T>S&&(S=T,n=D)}}}s+=(l=n)-(n=o[l])+32768&32767}return u<<16|b},i.F._howLong=function(e,t,o){if(e[t]!=e[t-o]||e[t+1]!=e[t+1-o]||e[t+2]!=e[t+2-o])return 0;var a=t,f=Math.min(e.length,t+258);for(t+=3;t<f&&e[t]==e[t-o];)t++;return t-a},i.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(e,t,o,a,f,m,l,n,s){var u,b,y,_,S,O,D,T,U,w=i.F.U,C=i.F._putsF,g=i.F._putsE;w.lhst[256]++,b=(u=i.F.getTrees())[0],y=u[1],_=u[2],S=u[3],O=u[4],D=u[5],T=u[6],U=u[7];var v=32+((s+3&7)==0?0:8-(s+3&7))+(l<<3),j=a+i.F.contSize(w.fltree,w.lhst)+i.F.contSize(w.fdtree,w.dhst),E=a+i.F.contSize(w.ltree,w.lhst)+i.F.contSize(w.dtree,w.dhst);E+=14+3*D+i.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var R=0;R<286;R++)w.lhst[R]=0;for(R=0;R<30;R++)w.dhst[R]=0;for(R=0;R<19;R++)w.ihst[R]=0;var k=v<j&&v<E?0:j<E?1:2;if(C(n,s,e),C(n,s+1,k),s+=3,k==0){for(;(7&s)!=0;)s++;s=i.F._copyExact(f,m,l,n,s)}else{var N,M;if(k==1&&(N=w.fltree,M=w.fdtree),k==2){i.F.makeCodes(w.ltree,b),i.F.revCodes(w.ltree,b),i.F.makeCodes(w.dtree,y),i.F.revCodes(w.dtree,y),i.F.makeCodes(w.itree,_),i.F.revCodes(w.itree,_),N=w.ltree,M=w.dtree,g(n,s,S-257),g(n,s+=5,O-1),g(n,s+=5,D-4),s+=4;for(var x=0;x<D;x++)g(n,s+3*x,w.itree[1+(w.ordr[x]<<1)]);s+=3*D,s=i.F._codeTiny(T,w.itree,n,s),s=i.F._codeTiny(U,w.itree,n,s)}for(var h=m,L=0;L<o;L+=2){for(var F=t[L],z=F>>>23,G=h+(8388607&F);h<G;)s=i.F._writeLit(f[h++],N,n,s);if(z!=0){var I=t[L+1],H=I>>16,B=I>>8&255,P=255&I;g(n,s=i.F._writeLit(257+B,N,n,s),z-w.of0[B]),s+=w.exb[B],C(n,s=i.F._writeLit(P,M,n,s),H-w.df0[P]),s+=w.dxb[P],h+=z}}s=i.F._writeLit(256,N,n,s)}return s},i.F._copyExact=function(e,t,o,a,f){var m=f>>>3;return a[m]=o,a[m+1]=o>>>8,a[m+2]=255-a[m],a[m+3]=255-a[m+1],m+=4,a.set(new Uint8Array(e.buffer,t,o),m),f+(o+4<<3)},i.F.getTrees=function(){for(var e=i.F.U,t=i.F._hufTree(e.lhst,e.ltree,15),o=i.F._hufTree(e.dhst,e.dtree,15),a=[],f=i.F._lenCodes(e.ltree,a),m=[],l=i.F._lenCodes(e.dtree,m),n=0;n<a.length;n+=2)e.ihst[a[n]]++;for(n=0;n<m.length;n+=2)e.ihst[m[n]]++;for(var s=i.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[t,o,s,f,l,u,a,m]},i.F.getSecond=function(e){for(var t=[],o=0;o<e.length;o+=2)t.push(e[o+1]);return t},i.F.nonZero=function(e){for(var t="",o=0;o<e.length;o+=2)e[o+1]!=0&&(t+=(o>>1)+",");return t},i.F.contSize=function(e,t){for(var o=0,a=0;a<t.length;a++)o+=t[a]*e[1+(a<<1)];return o},i.F._codeTiny=function(e,t,o,a){for(var f=0;f<e.length;f+=2){var m=e[f],l=e[f+1];a=i.F._writeLit(m,t,o,a);var n=m==16?2:m==17?3:7;m>15&&(i.F._putsE(o,a,l,n),a+=n)}return a},i.F._lenCodes=function(e,t){for(var o=e.length;o!=2&&e[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var f=e[a+1],m=a+3<o?e[a+3]:-1,l=a+5<o?e[a+5]:-1,n=a==0?-1:e[a-1];if(f==0&&m==f&&l==f){for(var s=a+5;s+2<o&&e[s+2]==f;)s+=2;(u=Math.min(s+1-a>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),a+=2*u-2}else if(f==n&&m==f&&l==f){for(s=a+5;s+2<o&&e[s+2]==f;)s+=2;var u=Math.min(s+1-a>>>1,6);t.push(16,u-3),a+=2*u-2}else t.push(f,0)}return o>>>1},i.F._hufTree=function(e,t,o){var a=[],f=e.length,m=t.length,l=0;for(l=0;l<m;l+=2)t[l]=0,t[l+1]=0;for(l=0;l<f;l++)e[l]!=0&&a.push({lit:l,f:e[l]});var n=a.length,s=a.slice(0);if(n==0)return 0;if(n==1){var u=a[0].lit;return s=u==0?1:0,t[1+(u<<1)]=1,t[1+(s<<1)]=1,1}a.sort(function(T,U){return T.f-U.f});var b=a[0],y=a[1],_=0,S=1,O=2;for(a[0]={lit:-1,f:b.f+y.f,l:b,r:y,d:0};S!=n-1;)b=_!=S&&(O==n||a[_].f<a[O].f)?a[_++]:a[O++],y=_!=S&&(O==n||a[_].f<a[O].f)?a[_++]:a[O++],a[S++]={lit:-1,f:b.f+y.f,l:b,r:y};var D=i.F.setDepth(a[S-1],0);for(D>o&&(i.F.restrictDepth(s,o,D),D=o),l=0;l<n;l++)t[1+(s[l].lit<<1)]=s[l].d;return D},i.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(i.F.setDepth(e.l,t+1),i.F.setDepth(e.r,t+1))},i.F.restrictDepth=function(e,t,o){var a=0,f=1<<o-t,m=0;for(e.sort(function(n,s){return s.d==n.d?n.f-s.f:s.d-n.d}),a=0;a<e.length&&e[a].d>t;a++){var l=e[a].d;e[a].d=t,m+=f-(1<<o-l)}for(m>>>=o-t;m>0;)(l=e[a].d)<t?(e[a].d++,m-=1<<t-l-1):a++;for(;a>=0;a--)e[a].d==t&&m<0&&(e[a].d--,m++);m!=0&&console.log("debt left")},i.F._goodIndex=function(e,t){var o=0;return t[16|o]<=e&&(o|=16),t[8|o]<=e&&(o|=8),t[4|o]<=e&&(o|=4),t[2|o]<=e&&(o|=2),t[1|o]<=e&&(o|=1),o},i.F._writeLit=function(e,t,o,a){return i.F._putsF(o,a,t[e<<1]),a+t[1+(e<<1)]},i.F.inflate=function(e,t){var o=Uint8Array;if(e[0]==3&&e[1]==0)return t||new o(0);var a=i.F,f=a._bitsF,m=a._bitsE,l=a._decodeTiny,n=a.makeCodes,s=a.codes2map,u=a._get17,b=a.U,y=t==null;y&&(t=new o(e.length>>>2<<3));for(var _,S,O=0,D=0,T=0,U=0,w=0,C=0,g=0,v=0,j=0;O==0;)if(O=f(e,j,1),D=f(e,j+1,2),j+=3,D!=0){if(y&&(t=i.F._check(t,v+(1<<17))),D==1&&(_=b.flmap,S=b.fdmap,C=511,g=31),D==2){T=m(e,j,5)+257,U=m(e,j+5,5)+1,w=m(e,j+10,4)+4,j+=14;for(var E=0;E<38;E+=2)b.itree[E]=0,b.itree[E+1]=0;var R=1;for(E=0;E<w;E++){var k=m(e,j+3*E,3);b.itree[1+(b.ordr[E]<<1)]=k,k>R&&(R=k)}j+=3*w,n(b.itree,R),s(b.itree,R,b.imap),_=b.lmap,S=b.dmap,j=l(b.imap,(1<<R)-1,T+U,e,j,b.ttree);var N=a._copyOut(b.ttree,0,T,b.ltree);C=(1<<N)-1;var M=a._copyOut(b.ttree,T,U,b.dtree);g=(1<<M)-1,n(b.ltree,N),s(b.ltree,N,_),n(b.dtree,M),s(b.dtree,M,S)}for(;;){var x=_[u(e,j)&C];j+=15&x;var h=x>>>4;if(!(h>>>8))t[v++]=h;else{if(h==256)break;var L=v+h-254;if(h>264){var F=b.ldef[h-257];L=v+(F>>>3)+m(e,j,7&F),j+=7&F}var z=S[u(e,j)&g];j+=15&z;var G=z>>>4,I=b.ddef[G],H=(I>>>4)+f(e,j,15&I);for(j+=15&I,y&&(t=i.F._check(t,v+(1<<17)));v<L;)t[v]=t[v++-H],t[v]=t[v++-H],t[v]=t[v++-H],t[v]=t[v++-H];v=L}}}else{(7&j)!=0&&(j+=8-(7&j));var B=4+(j>>>3),P=e[B-4]|e[B-3]<<8;y&&(t=i.F._check(t,v+P)),t.set(new o(e.buffer,e.byteOffset+B,P),v),j=B+P<<3,v+=P}return t.length==v?t:t.slice(0,v)},i.F._check=function(e,t){var o=e.length;if(t<=o)return e;var a=new Uint8Array(Math.max(o<<1,t));return a.set(e,0),a},i.F._decodeTiny=function(e,t,o,a,f,m){for(var l=i.F._bitsE,n=i.F._get17,s=0;s<o;){var u=e[n(a,f)&t];f+=15&u;var b=u>>>4;if(b<=15)m[s]=b,s++;else{var y=0,_=0;b==16?(_=3+l(a,f,2),f+=2,y=m[s-1]):b==17?(_=3+l(a,f,3),f+=3):b==18&&(_=11+l(a,f,7),f+=7);for(var S=s+_;s<S;)m[s]=y,s++}}return f},i.F._copyOut=function(e,t,o,a){for(var f=0,m=0,l=a.length>>>1;m<o;){var n=e[m+t];a[m<<1]=0,a[1+(m<<1)]=n,n>f&&(f=n),m++}for(;m<l;)a[m<<1]=0,a[1+(m<<1)]=0,m++;return f},i.F.makeCodes=function(e,t){for(var o,a,f,m,l=i.F.U,n=e.length,s=l.bl_count,u=0;u<=t;u++)s[u]=0;for(u=1;u<n;u+=2)s[e[u]]++;var b=l.next_code;for(o=0,s[0]=0,a=1;a<=t;a++)o=o+s[a-1]<<1,b[a]=o;for(f=0;f<n;f+=2)(m=e[f+1])!=0&&(e[f]=b[m],b[m]++)},i.F.codes2map=function(e,t,o){for(var a=e.length,f=i.F.U.rev15,m=0;m<a;m+=2)if(e[m+1]!=0)for(var l=m>>1,n=e[m+1],s=l<<4|n,u=t-n,b=e[m]<<u,y=b+(1<<u);b!=y;)o[f[b]>>>15-t]=s,b++},i.F.revCodes=function(e,t){for(var o=i.F.U.rev15,a=15-t,f=0;f<e.length;f+=2){var m=e[f]<<t-e[f+1];e[f]=o[m]>>>a}},i.F._putsE=function(e,t,o){o<<=7&t;var a=t>>>3;e[a]|=o,e[a+1]|=o>>>8},i.F._putsF=function(e,t,o){o<<=7&t;var a=t>>>3;e[a]|=o,e[a+1]|=o>>>8,e[a+2]|=o>>>16},i.F._bitsE=function(e,t,o){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<o)-1},i.F._bitsF=function(e,t,o){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<o)-1},i.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},i.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},i.F.U=(d=Uint16Array,c=Uint32Array,{next_code:new d(16),bl_count:new d(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new d(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new c(32),flmap:new d(512),fltree:[],fdmap:new d(32),fdtree:[],lmap:new d(32768),ltree:[],ttree:[],dmap:new d(32768),dtree:[],imap:new d(512),itree:[],rev15:new d(32768),lhst:new c(286),dhst:new c(30),ihst:new c(19),lits:new c(15e3),strt:new d(65536),prev:new d(32768)}),function(){for(var e=i.F.U,t=0;t<32768;t++){var o=t;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,e.rev15[t]=(o>>>16|o<<16)>>>17}function a(f,m,l){for(;m--!=0;)f.push(0,l)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),i.F.makeCodes(e.fltree,9),i.F.codes2map(e.fltree,9,e.flmap),i.F.revCodes(e.fltree,9),a(e.fdtree,32,5),i.F.makeCodes(e.fdtree,5),i.F.codes2map(e.fdtree,5,e.fdmap),i.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()})();var ni=ei({__proto__:null,default:ht},[ht]);const Se=function(){var r={nextZero(l,n){for(;l[n]!=0;)n++;return n},readUshort:(l,n)=>l[n]<<8|l[n+1],writeUshort(l,n,s){l[n]=s>>8&255,l[n+1]=255&s},readUint:(l,n)=>16777216*l[n]+(l[n+1]<<16|l[n+2]<<8|l[n+3]),writeUint(l,n,s){l[n]=s>>24&255,l[n+1]=s>>16&255,l[n+2]=s>>8&255,l[n+3]=255&s},readASCII(l,n,s){let u="";for(let b=0;b<s;b++)u+=String.fromCharCode(l[n+b]);return u},writeASCII(l,n,s){for(let u=0;u<s.length;u++)l[n+u]=s.charCodeAt(u)},readBytes(l,n,s){const u=[];for(let b=0;b<s;b++)u.push(l[n+b]);return u},pad:l=>l.length<2?`0${l}`:l,readUTF8(l,n,s){let u,b="";for(let y=0;y<s;y++)b+=`%${r.pad(l[n+y].toString(16))}`;try{u=decodeURIComponent(b)}catch{return r.readASCII(l,n,s)}return u}};function d(l,n,s,u){const b=n*s,y=t(u),_=Math.ceil(n*y/8),S=new Uint8Array(4*b),O=new Uint32Array(S.buffer),{ctype:D}=u,{depth:T}=u,U=r.readUshort;if(D==6){const F=b<<2;if(T==8)for(var w=0;w<F;w+=4)S[w]=l[w],S[w+1]=l[w+1],S[w+2]=l[w+2],S[w+3]=l[w+3];if(T==16)for(w=0;w<F;w++)S[w]=l[w<<1]}else if(D==2){const F=u.tabs.tRNS;if(F==null){if(T==8)for(w=0;w<b;w++){var C=3*w;O[w]=255<<24|l[C+2]<<16|l[C+1]<<8|l[C]}if(T==16)for(w=0;w<b;w++)C=6*w,O[w]=255<<24|l[C+4]<<16|l[C+2]<<8|l[C]}else{var g=F[0];const z=F[1],G=F[2];if(T==8)for(w=0;w<b;w++){var v=w<<2;C=3*w,O[w]=255<<24|l[C+2]<<16|l[C+1]<<8|l[C],l[C]==g&&l[C+1]==z&&l[C+2]==G&&(S[v+3]=0)}if(T==16)for(w=0;w<b;w++)v=w<<2,C=6*w,O[w]=255<<24|l[C+4]<<16|l[C+2]<<8|l[C],U(l,C)==g&&U(l,C+2)==z&&U(l,C+4)==G&&(S[v+3]=0)}}else if(D==3){const F=u.tabs.PLTE,z=u.tabs.tRNS,G=z?z.length:0;if(T==1)for(var j=0;j<s;j++){var E=j*_,R=j*n;for(w=0;w<n;w++){v=R+w<<2;var k=3*(N=l[E+(w>>3)]>>7-((7&w)<<0)&1);S[v]=F[k],S[v+1]=F[k+1],S[v+2]=F[k+2],S[v+3]=N<G?z[N]:255}}if(T==2)for(j=0;j<s;j++)for(E=j*_,R=j*n,w=0;w<n;w++)v=R+w<<2,k=3*(N=l[E+(w>>2)]>>6-((3&w)<<1)&3),S[v]=F[k],S[v+1]=F[k+1],S[v+2]=F[k+2],S[v+3]=N<G?z[N]:255;if(T==4)for(j=0;j<s;j++)for(E=j*_,R=j*n,w=0;w<n;w++)v=R+w<<2,k=3*(N=l[E+(w>>1)]>>4-((1&w)<<2)&15),S[v]=F[k],S[v+1]=F[k+1],S[v+2]=F[k+2],S[v+3]=N<G?z[N]:255;if(T==8)for(w=0;w<b;w++){var N;v=w<<2,k=3*(N=l[w]),S[v]=F[k],S[v+1]=F[k+1],S[v+2]=F[k+2],S[v+3]=N<G?z[N]:255}}else if(D==4){if(T==8)for(w=0;w<b;w++){v=w<<2;var M=l[x=w<<1];S[v]=M,S[v+1]=M,S[v+2]=M,S[v+3]=l[x+1]}if(T==16)for(w=0;w<b;w++){var x;v=w<<2,M=l[x=w<<2],S[v]=M,S[v+1]=M,S[v+2]=M,S[v+3]=l[x+2]}}else if(D==0)for(g=u.tabs.tRNS?u.tabs.tRNS:-1,j=0;j<s;j++){const F=j*_,z=j*n;if(T==1)for(var h=0;h<n;h++){var L=(M=255*(l[F+(h>>>3)]>>>7-(7&h)&1))==255*g?0:255;O[z+h]=L<<24|M<<16|M<<8|M}else if(T==2)for(h=0;h<n;h++)L=(M=85*(l[F+(h>>>2)]>>>6-((3&h)<<1)&3))==85*g?0:255,O[z+h]=L<<24|M<<16|M<<8|M;else if(T==4)for(h=0;h<n;h++)L=(M=17*(l[F+(h>>>1)]>>>4-((1&h)<<2)&15))==17*g?0:255,O[z+h]=L<<24|M<<16|M<<8|M;else if(T==8)for(h=0;h<n;h++)L=(M=l[F+h])==g?0:255,O[z+h]=L<<24|M<<16|M<<8|M;else if(T==16)for(h=0;h<n;h++)M=l[F+(h<<1)],L=U(l,F+(h<<1))==g?0:255,O[z+h]=L<<24|M<<16|M<<8|M}return S}function c(l,n,s,u){const b=t(l),y=Math.ceil(s*b/8),_=new Uint8Array((y+1+l.interlace)*u);return n=l.tabs.CgBI?e(n,_):i(n,_),l.interlace==0?n=o(n,l,0,s,u):l.interlace==1&&(n=function(O,D){const T=D.width,U=D.height,w=t(D),C=w>>3,g=Math.ceil(T*w/8),v=new Uint8Array(U*g);let j=0;const E=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],k=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let M=0;for(;M<7;){const h=k[M],L=N[M];let F=0,z=0,G=E[M];for(;G<U;)G+=h,z++;let I=R[M];for(;I<T;)I+=L,F++;const H=Math.ceil(F*w/8);o(O,D,j,F,z);let B=0,P=E[M];for(;P<U;){let $=R[M],V=j+B*H<<3;for(;$<T;){var x;if(w==1&&(x=(x=O[V>>3])>>7-(7&V)&1,v[P*g+($>>3)]|=x<<7-((7&$)<<0)),w==2&&(x=(x=O[V>>3])>>6-(7&V)&3,v[P*g+($>>2)]|=x<<6-((3&$)<<1)),w==4&&(x=(x=O[V>>3])>>4-(7&V)&15,v[P*g+($>>1)]|=x<<4-((1&$)<<2)),w>=8){const K=P*g+$*C;for(let W=0;W<C;W++)v[K+W]=O[(V>>3)+W]}V+=w,$+=L}B++,P+=h}F*z!=0&&(j+=z*(1+H)),M+=1}return v}(n,l)),n}function i(l,n){return e(new Uint8Array(l.buffer,2,l.length-6),n)}var e=function(){const l={H:{}};return l.H.N=function(n,s){const u=Uint8Array;let b,y,_=0,S=0,O=0,D=0,T=0,U=0,w=0,C=0,g=0;if(n[0]==3&&n[1]==0)return s||new u(0);const v=l.H,j=v.b,E=v.e,R=v.R,k=v.n,N=v.A,M=v.Z,x=v.m,h=s==null;for(h&&(s=new u(n.length>>>2<<5));_==0;)if(_=j(n,g,1),S=j(n,g+1,2),g+=3,S!=0){if(h&&(s=l.H.W(s,C+(1<<17))),S==1&&(b=x.J,y=x.h,U=511,w=31),S==2){O=E(n,g,5)+257,D=E(n,g+5,5)+1,T=E(n,g+10,4)+4,g+=14;let F=1;for(var L=0;L<38;L+=2)x.Q[L]=0,x.Q[L+1]=0;for(L=0;L<T;L++){const I=E(n,g+3*L,3);x.Q[1+(x.X[L]<<1)]=I,I>F&&(F=I)}g+=3*T,k(x.Q,F),N(x.Q,F,x.u),b=x.w,y=x.d,g=R(x.u,(1<<F)-1,O+D,n,g,x.v);const z=v.V(x.v,0,O,x.C);U=(1<<z)-1;const G=v.V(x.v,O,D,x.D);w=(1<<G)-1,k(x.C,z),N(x.C,z,b),k(x.D,G),N(x.D,G,y)}for(;;){const F=b[M(n,g)&U];g+=15&F;const z=F>>>4;if(!(z>>>8))s[C++]=z;else{if(z==256)break;{let G=C+z-254;if(z>264){const $=x.q[z-257];G=C+($>>>3)+E(n,g,7&$),g+=7&$}const I=y[M(n,g)&w];g+=15&I;const H=I>>>4,B=x.c[H],P=(B>>>4)+j(n,g,15&B);for(g+=15&B;C<G;)s[C]=s[C++-P],s[C]=s[C++-P],s[C]=s[C++-P],s[C]=s[C++-P];C=G}}}}else{(7&g)!=0&&(g+=8-(7&g));const F=4+(g>>>3),z=n[F-4]|n[F-3]<<8;h&&(s=l.H.W(s,C+z)),s.set(new u(n.buffer,n.byteOffset+F,z),C),g=F+z<<3,C+=z}return s.length==C?s:s.slice(0,C)},l.H.W=function(n,s){const u=n.length;if(s<=u)return n;const b=new Uint8Array(u<<1);return b.set(n,0),b},l.H.R=function(n,s,u,b,y,_){const S=l.H.e,O=l.H.Z;let D=0;for(;D<u;){const T=n[O(b,y)&s];y+=15&T;const U=T>>>4;if(U<=15)_[D]=U,D++;else{let w=0,C=0;U==16?(C=3+S(b,y,2),y+=2,w=_[D-1]):U==17?(C=3+S(b,y,3),y+=3):U==18&&(C=11+S(b,y,7),y+=7);const g=D+C;for(;D<g;)_[D]=w,D++}}return y},l.H.V=function(n,s,u,b){let y=0,_=0;const S=b.length>>>1;for(;_<u;){const O=n[_+s];b[_<<1]=0,b[1+(_<<1)]=O,O>y&&(y=O),_++}for(;_<S;)b[_<<1]=0,b[1+(_<<1)]=0,_++;return y},l.H.n=function(n,s){const u=l.H.m,b=n.length;let y,_,S,O;const D=u.j;for(var T=0;T<=s;T++)D[T]=0;for(T=1;T<b;T+=2)D[n[T]]++;const U=u.K;for(y=0,D[0]=0,_=1;_<=s;_++)y=y+D[_-1]<<1,U[_]=y;for(S=0;S<b;S+=2)O=n[S+1],O!=0&&(n[S]=U[O],U[O]++)},l.H.A=function(n,s,u){const b=n.length,y=l.H.m.r;for(let _=0;_<b;_+=2)if(n[_+1]!=0){const S=_>>1,O=n[_+1],D=S<<4|O,T=s-O;let U=n[_]<<T;const w=U+(1<<T);for(;U!=w;)u[y[U]>>>15-s]=D,U++}},l.H.l=function(n,s){const u=l.H.m.r,b=15-s;for(let y=0;y<n.length;y+=2){const _=n[y]<<s-n[y+1];n[y]=u[_]>>>b}},l.H.M=function(n,s,u){u<<=7&s;const b=s>>>3;n[b]|=u,n[b+1]|=u>>>8},l.H.I=function(n,s,u){u<<=7&s;const b=s>>>3;n[b]|=u,n[b+1]|=u>>>8,n[b+2]|=u>>>16},l.H.e=function(n,s,u){return(n[s>>>3]|n[1+(s>>>3)]<<8)>>>(7&s)&(1<<u)-1},l.H.b=function(n,s,u){return(n[s>>>3]|n[1+(s>>>3)]<<8|n[2+(s>>>3)]<<16)>>>(7&s)&(1<<u)-1},l.H.Z=function(n,s){return(n[s>>>3]|n[1+(s>>>3)]<<8|n[2+(s>>>3)]<<16)>>>(7&s)},l.H.i=function(n,s){return(n[s>>>3]|n[1+(s>>>3)]<<8|n[2+(s>>>3)]<<16|n[3+(s>>>3)]<<24)>>>(7&s)},l.H.m=function(){const n=Uint16Array,s=Uint32Array;return{K:new n(16),j:new n(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new n(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new s(32),J:new n(512),_:[],h:new n(32),$:[],w:new n(32768),C:[],v:[],d:new n(32768),D:[],u:new n(512),Q:[],r:new n(32768),s:new s(286),Y:new s(30),a:new s(19),t:new s(15e3),k:new n(65536),g:new n(32768)}}(),function(){const n=l.H.m;for(var s=0;s<32768;s++){let b=s;b=(2863311530&b)>>>1|(1431655765&b)<<1,b=(3435973836&b)>>>2|(858993459&b)<<2,b=(4042322160&b)>>>4|(252645135&b)<<4,b=(4278255360&b)>>>8|(16711935&b)<<8,n.r[s]=(b>>>16|b<<16)>>>17}function u(b,y,_){for(;y--!=0;)b.push(0,_)}for(s=0;s<32;s++)n.q[s]=n.S[s]<<3|n.T[s],n.c[s]=n.p[s]<<4|n.z[s];u(n._,144,8),u(n._,112,9),u(n._,24,7),u(n._,8,8),l.H.n(n._,9),l.H.A(n._,9,n.J),l.H.l(n._,9),u(n.$,32,5),l.H.n(n.$,5),l.H.A(n.$,5,n.h),l.H.l(n.$,5),u(n.Q,19,0),u(n.C,286,0),u(n.D,30,0),u(n.v,320,0)}(),l.H.N}();function t(l){return[1,null,3,1,2,null,4][l.ctype]*l.depth}function o(l,n,s,u,b){let y=t(n);const _=Math.ceil(u*y/8);let S,O;y=Math.ceil(y/8);let D=l[s],T=0;if(D>1&&(l[s]=[0,0,1][D-2]),D==3)for(T=y;T<_;T++)l[T+1]=l[T+1]+(l[T+1-y]>>>1)&255;for(let U=0;U<b;U++)if(S=s+U*_,O=S+U+1,D=l[O-1],T=0,D==0)for(;T<_;T++)l[S+T]=l[O+T];else if(D==1){for(;T<y;T++)l[S+T]=l[O+T];for(;T<_;T++)l[S+T]=l[O+T]+l[S+T-y]}else if(D==2)for(;T<_;T++)l[S+T]=l[O+T]+l[S+T-_];else if(D==3){for(;T<y;T++)l[S+T]=l[O+T]+(l[S+T-_]>>>1);for(;T<_;T++)l[S+T]=l[O+T]+(l[S+T-_]+l[S+T-y]>>>1)}else{for(;T<y;T++)l[S+T]=l[O+T]+a(0,l[S+T-_],0);for(;T<_;T++)l[S+T]=l[O+T]+a(l[S+T-y],l[S+T-_],l[S+T-y-_])}return l}function a(l,n,s){const u=l+n-s,b=u-l,y=u-n,_=u-s;return b*b<=y*y&&b*b<=_*_?l:y*y<=_*_?n:s}function f(l,n,s){s.width=r.readUint(l,n),n+=4,s.height=r.readUint(l,n),n+=4,s.depth=l[n],n++,s.ctype=l[n],n++,s.compress=l[n],n++,s.filter=l[n],n++,s.interlace=l[n],n++}function m(l,n,s,u,b,y,_,S,O){const D=Math.min(n,b),T=Math.min(s,y);let U=0,w=0;for(let M=0;M<T;M++)for(let x=0;x<D;x++)if(_>=0&&S>=0?(U=M*n+x<<2,w=(S+M)*b+_+x<<2):(U=(-S+M)*n-_+x<<2,w=M*b+x<<2),O==0)u[w]=l[U],u[w+1]=l[U+1],u[w+2]=l[U+2],u[w+3]=l[U+3];else if(O==1){var C=l[U+3]*.00392156862745098,g=l[U]*C,v=l[U+1]*C,j=l[U+2]*C,E=u[w+3]*(1/255),R=u[w]*E,k=u[w+1]*E,N=u[w+2]*E;const h=1-C,L=C+E*h,F=L==0?0:1/L;u[w+3]=255*L,u[w+0]=(g+R*h)*F,u[w+1]=(v+k*h)*F,u[w+2]=(j+N*h)*F}else if(O==2)C=l[U+3],g=l[U],v=l[U+1],j=l[U+2],E=u[w+3],R=u[w],k=u[w+1],N=u[w+2],C==E&&g==R&&v==k&&j==N?(u[w]=0,u[w+1]=0,u[w+2]=0,u[w+3]=0):(u[w]=g,u[w+1]=v,u[w+2]=j,u[w+3]=C);else if(O==3){if(C=l[U+3],g=l[U],v=l[U+1],j=l[U+2],E=u[w+3],R=u[w],k=u[w+1],N=u[w+2],C==E&&g==R&&v==k&&j==N)continue;if(C<220&&E>20)return!1}return!0}return{decode:function(n){const s=new Uint8Array(n);let u=8;const b=r,y=b.readUshort,_=b.readUint,S={tabs:{},frames:[]},O=new Uint8Array(s.length);let D,T=0,U=0;const w=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(s[C]!=w[C])throw"The input is not a PNG file!";for(;u<s.length;){const M=b.readUint(s,u);u+=4;const x=b.readASCII(s,u,4);if(u+=4,x=="IHDR")f(s,u,S);else if(x=="iCCP"){for(var g=u;s[g]!=0;)g++;b.readASCII(s,u,g-u),s[g+1];const h=s.slice(g+2,u+M);let L=null;try{L=i(h)}catch{L=e(h)}S.tabs[x]=L}else if(x=="CgBI")S.tabs[x]=s.slice(u,u+4);else if(x=="IDAT"){for(C=0;C<M;C++)O[T+C]=s[u+C];T+=M}else if(x=="acTL")S.tabs[x]={num_frames:_(s,u),num_plays:_(s,u+4)},D=new Uint8Array(s.length);else if(x=="fcTL"){U!=0&&((N=S.frames[S.frames.length-1]).data=c(S,D.slice(0,U),N.rect.width,N.rect.height),U=0);const h={x:_(s,u+12),y:_(s,u+16),width:_(s,u+4),height:_(s,u+8)};let L=y(s,u+22);L=y(s,u+20)/(L==0?100:L);const F={rect:h,delay:Math.round(1e3*L),dispose:s[u+24],blend:s[u+25]};S.frames.push(F)}else if(x=="fdAT"){for(C=0;C<M-4;C++)D[U+C]=s[u+C+4];U+=M-4}else if(x=="pHYs")S.tabs[x]=[b.readUint(s,u),b.readUint(s,u+4),s[u+8]];else if(x=="cHRM")for(S.tabs[x]=[],C=0;C<8;C++)S.tabs[x].push(b.readUint(s,u+4*C));else if(x=="tEXt"||x=="zTXt"){S.tabs[x]==null&&(S.tabs[x]={});var v=b.nextZero(s,u),j=b.readASCII(s,u,v-u),E=u+M-v-1;if(x=="tEXt")k=b.readASCII(s,v+1,E);else{var R=i(s.slice(v+2,v+2+E));k=b.readUTF8(R,0,R.length)}S.tabs[x][j]=k}else if(x=="iTXt"){S.tabs[x]==null&&(S.tabs[x]={}),v=0,g=u,v=b.nextZero(s,g),j=b.readASCII(s,g,v-g);const h=s[g=v+1];var k;s[g+1],g+=2,v=b.nextZero(s,g),b.readASCII(s,g,v-g),g=v+1,v=b.nextZero(s,g),b.readUTF8(s,g,v-g),E=M-((g=v+1)-u),h==0?k=b.readUTF8(s,g,E):(R=i(s.slice(g,g+E)),k=b.readUTF8(R,0,R.length)),S.tabs[x][j]=k}else if(x=="PLTE")S.tabs[x]=b.readBytes(s,u,M);else if(x=="hIST"){const h=S.tabs.PLTE.length/3;for(S.tabs[x]=[],C=0;C<h;C++)S.tabs[x].push(y(s,u+2*C))}else if(x=="tRNS")S.ctype==3?S.tabs[x]=b.readBytes(s,u,M):S.ctype==0?S.tabs[x]=y(s,u):S.ctype==2&&(S.tabs[x]=[y(s,u),y(s,u+2),y(s,u+4)]);else if(x=="gAMA")S.tabs[x]=b.readUint(s,u)/1e5;else if(x=="sRGB")S.tabs[x]=s[u];else if(x=="bKGD")S.ctype==0||S.ctype==4?S.tabs[x]=[y(s,u)]:S.ctype==2||S.ctype==6?S.tabs[x]=[y(s,u),y(s,u+2),y(s,u+4)]:S.ctype==3&&(S.tabs[x]=s[u]);else if(x=="IEND")break;u+=M,b.readUint(s,u),u+=4}var N;return U!=0&&((N=S.frames[S.frames.length-1]).data=c(S,D.slice(0,U),N.rect.width,N.rect.height)),S.data=c(S,O,S.width,S.height),delete S.compress,delete S.interlace,delete S.filter,S},toRGBA8:function(n){const s=n.width,u=n.height;if(n.tabs.acTL==null)return[d(n.data,s,u,n).buffer];const b=[];n.frames[0].data==null&&(n.frames[0].data=n.data);const y=s*u*4,_=new Uint8Array(y),S=new Uint8Array(y),O=new Uint8Array(y);for(let T=0;T<n.frames.length;T++){const U=n.frames[T],w=U.rect.x,C=U.rect.y,g=U.rect.width,v=U.rect.height,j=d(U.data,g,v,n);if(T!=0)for(var D=0;D<y;D++)O[D]=_[D];if(U.blend==0?m(j,g,v,_,s,u,w,C,0):U.blend==1&&m(j,g,v,_,s,u,w,C,1),b.push(_.buffer.slice(0)),U.dispose!=0){if(U.dispose==1)m(S,g,v,_,s,u,w,C,0);else if(U.dispose==2)for(D=0;D<y;D++)_[D]=O[D]}}return b},_paeth:a,_copyTile:m,_bin:r}}();(function(){const{_copyTile:r}=Se,{_bin:d}=Se,c=Se._paeth;var i={table:function(){const g=new Uint32Array(256);for(let v=0;v<256;v++){let j=v;for(let E=0;E<8;E++)1&j?j=3988292384^j>>>1:j>>>=1;g[v]=j}return g}(),update(g,v,j,E){for(let R=0;R<E;R++)g=i.table[255&(g^v[j+R])]^g>>>8;return g},crc:(g,v,j)=>4294967295^i.update(4294967295,g,v,j)};function e(g,v,j,E){v[j]+=g[0]*E>>4,v[j+1]+=g[1]*E>>4,v[j+2]+=g[2]*E>>4,v[j+3]+=g[3]*E>>4}function t(g){return Math.max(0,Math.min(255,g))}function o(g,v){const j=g[0]-v[0],E=g[1]-v[1],R=g[2]-v[2],k=g[3]-v[3];return j*j+E*E+R*R+k*k}function a(g,v,j,E,R,k,N){N==null&&(N=1);const M=E.length,x=[];for(var h=0;h<M;h++){const P=E[h];x.push([P>>>0&255,P>>>8&255,P>>>16&255,P>>>24&255])}for(h=0;h<M;h++){let P=4294967295;for(var L=0,F=0;F<M;F++){var z=o(x[h],x[F]);F!=h&&z<P&&(P=z,L=F)}}const G=new Uint32Array(R.buffer),I=new Int16Array(v*j*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(h=0;h<H.length;h++)H[h]=255*((H[h]+.5)/16-.5);for(let P=0;P<j;P++)for(let $=0;$<v;$++){var B;h=4*(P*v+$),N!=2?B=[t(g[h]+I[h]),t(g[h+1]+I[h+1]),t(g[h+2]+I[h+2]),t(g[h+3]+I[h+3])]:(z=H[4*(3&P)+(3&$)],B=[t(g[h]+z),t(g[h+1]+z),t(g[h+2]+z),t(g[h+3]+z)]),L=0;let V=16777215;for(F=0;F<M;F++){const q=o(B,x[F]);q<V&&(V=q,L=F)}const K=x[L],W=[B[0]-K[0],B[1]-K[1],B[2]-K[2],B[3]-K[3]];N==1&&($!=v-1&&e(W,I,h+4,7),P!=j-1&&($!=0&&e(W,I,h+4*v-4,3),e(W,I,h+4*v,5),$!=v-1&&e(W,I,h+4*v+4,1))),k[h>>2]=L,G[h>>2]=E[L]}}function f(g,v,j,E,R){R==null&&(R={});const{crc:k}=i,N=d.writeUint,M=d.writeUshort,x=d.writeASCII;let h=8;const L=g.frames.length>1;let F,z=!1,G=33+(L?20:0);if(R.sRGB!=null&&(G+=13),R.pHYs!=null&&(G+=21),R.iCCP!=null&&(F=pako.deflate(R.iCCP),G+=21+F.length+4),g.ctype==3){for(var I=g.plte.length,H=0;H<I;H++)g.plte[H]>>>24!=255&&(z=!0);G+=8+3*I+4+(z?8+1*I+4:0)}for(var B=0;B<g.frames.length;B++)L&&(G+=38),G+=(K=g.frames[B]).cimg.length+12,B!=0&&(G+=4);G+=12;const P=new Uint8Array(G),$=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)P[H]=$[H];if(N(P,h,13),h+=4,x(P,h,"IHDR"),h+=4,N(P,h,v),h+=4,N(P,h,j),h+=4,P[h]=g.depth,h++,P[h]=g.ctype,h++,P[h]=0,h++,P[h]=0,h++,P[h]=0,h++,N(P,h,k(P,h-17,17)),h+=4,R.sRGB!=null&&(N(P,h,1),h+=4,x(P,h,"sRGB"),h+=4,P[h]=R.sRGB,h++,N(P,h,k(P,h-5,5)),h+=4),R.iCCP!=null){const W=13+F.length;N(P,h,W),h+=4,x(P,h,"iCCP"),h+=4,x(P,h,"ICC profile"),h+=11,h+=2,P.set(F,h),h+=F.length,N(P,h,k(P,h-(W+4),W+4)),h+=4}if(R.pHYs!=null&&(N(P,h,9),h+=4,x(P,h,"pHYs"),h+=4,N(P,h,R.pHYs[0]),h+=4,N(P,h,R.pHYs[1]),h+=4,P[h]=R.pHYs[2],h++,N(P,h,k(P,h-13,13)),h+=4),L&&(N(P,h,8),h+=4,x(P,h,"acTL"),h+=4,N(P,h,g.frames.length),h+=4,N(P,h,R.loop!=null?R.loop:0),h+=4,N(P,h,k(P,h-12,12)),h+=4),g.ctype==3){for(N(P,h,3*(I=g.plte.length)),h+=4,x(P,h,"PLTE"),h+=4,H=0;H<I;H++){const W=3*H,q=g.plte[H],Z=255&q,Q=q>>>8&255,fe=q>>>16&255;P[h+W+0]=Z,P[h+W+1]=Q,P[h+W+2]=fe}if(h+=3*I,N(P,h,k(P,h-3*I-4,3*I+4)),h+=4,z){for(N(P,h,I),h+=4,x(P,h,"tRNS"),h+=4,H=0;H<I;H++)P[h+H]=g.plte[H]>>>24&255;h+=I,N(P,h,k(P,h-I-4,I+4)),h+=4}}let V=0;for(B=0;B<g.frames.length;B++){var K=g.frames[B];L&&(N(P,h,26),h+=4,x(P,h,"fcTL"),h+=4,N(P,h,V++),h+=4,N(P,h,K.rect.width),h+=4,N(P,h,K.rect.height),h+=4,N(P,h,K.rect.x),h+=4,N(P,h,K.rect.y),h+=4,M(P,h,E[B]),h+=2,M(P,h,1e3),h+=2,P[h]=K.dispose,h++,P[h]=K.blend,h++,N(P,h,k(P,h-30,30)),h+=4);const W=K.cimg;N(P,h,(I=W.length)+(B==0?0:4)),h+=4;const q=h;x(P,h,B==0?"IDAT":"fdAT"),h+=4,B!=0&&(N(P,h,V++),h+=4),P.set(W,h),h+=I,N(P,h,k(P,q,h-q)),h+=4}return N(P,h,0),h+=4,x(P,h,"IEND"),h+=4,N(P,h,k(P,h-4,4)),h+=4,P.buffer}function m(g,v,j){for(let E=0;E<g.frames.length;E++){const R=g.frames[E];R.rect.width;const k=R.rect.height,N=new Uint8Array(k*R.bpl+k);R.cimg=u(R.img,k,R.bpp,R.bpl,N,v,j)}}function l(g,v,j,E,R){const k=R[0],N=R[1],M=R[2],x=R[3],h=R[4],L=R[5];let F=6,z=8,G=255;for(var I=0;I<g.length;I++){const oe=new Uint8Array(g[I]);for(var H=oe.length,B=0;B<H;B+=4)G&=oe[B+3]}const P=G!=255,$=function(ee,re,ce,pe,ae,ve){const se=[];for(var ne=0;ne<ee.length;ne++){const he=new Uint8Array(ee[ne]),ye=new Uint32Array(he.buffer);var xe;let be=0,Re=0,je=re,Be=ce,Et=pe?1:0;if(ne!=0){const Ro=ve||pe||ne==1||se[ne-2].dispose!=0?1:2;let Rt=0,ar=1e9;for(let tt=0;tt<Ro;tt++){var Pe=new Uint8Array(ee[ne-1-tt]);const Po=new Uint32Array(ee[ne-1-tt]);let Ie=re,ke=ce,qe=-1,rt=-1;for(let ze=0;ze<ce;ze++)for(let He=0;He<re;He++)ye[de=ze*re+He]!=Po[de]&&(He<Ie&&(Ie=He),He>qe&&(qe=He),ze<ke&&(ke=ze),ze>rt&&(rt=ze));qe==-1&&(Ie=ke=qe=rt=0),ae&&((1&Ie)==1&&Ie--,(1&ke)==1&&ke--);const sr=(qe-Ie+1)*(rt-ke+1);sr<ar&&(ar=sr,Rt=tt,be=Ie,Re=ke,je=qe-Ie+1,Be=rt-ke+1)}Pe=new Uint8Array(ee[ne-1-Rt]),Rt==1&&(se[ne-1].dispose=2),xe=new Uint8Array(je*Be*4),r(Pe,re,ce,xe,je,Be,-be,-Re,0),Et=r(he,re,ce,xe,je,Be,-be,-Re,3)?1:0,Et==1?s(he,re,ce,xe,{x:be,y:Re,width:je,height:Be}):r(he,re,ce,xe,je,Be,-be,-Re,0)}else xe=he.slice(0);se.push({rect:{x:be,y:Re,width:je,height:Be},img:xe,blend:Et,dispose:0})}if(pe)for(ne=0;ne<se.length;ne++){if((Le=se[ne]).blend==1)continue;const he=Le.rect,ye=se[ne-1].rect,be=Math.min(he.x,ye.x),Re=Math.min(he.y,ye.y),je={x:be,y:Re,width:Math.max(he.x+he.width,ye.x+ye.width)-be,height:Math.max(he.y+he.height,ye.y+ye.height)-Re};se[ne-1].dispose=1,ne-1!=0&&n(ee,re,ce,se,ne-1,je,ae),n(ee,re,ce,se,ne,je,ae)}let dt=0;if(ee.length!=1)for(var de=0;de<se.length;de++){var Le;dt+=(Le=se[de]).rect.width*Le.rect.height}return se}(g,v,j,k,N,M),V={},K=[],W=[];if(E!=0){const oe=[];for(B=0;B<$.length;B++)oe.push($[B].img.buffer);const ee=function(ae){let ve=0;for(var se=0;se<ae.length;se++)ve+=ae[se].byteLength;const ne=new Uint8Array(ve);let xe=0;for(se=0;se<ae.length;se++){const Pe=new Uint8Array(ae[se]),dt=Pe.length;for(let de=0;de<dt;de+=4){let Le=Pe[de],he=Pe[de+1],ye=Pe[de+2];const be=Pe[de+3];be==0&&(Le=he=ye=0),ne[xe+de]=Le,ne[xe+de+1]=he,ne[xe+de+2]=ye,ne[xe+de+3]=be}xe+=dt}return ne.buffer}(oe),re=y(ee,E);for(B=0;B<re.plte.length;B++)K.push(re.plte[B].est.rgba);let ce=0;for(B=0;B<$.length;B++){const pe=(Z=$[B]).img.length;var q=new Uint8Array(re.inds.buffer,ce>>2,pe>>2);W.push(q);const ae=new Uint8Array(re.abuf,ce,pe);L&&a(Z.img,Z.rect.width,Z.rect.height,K,ae,q),Z.img.set(ae),ce+=pe}}else for(I=0;I<$.length;I++){var Z=$[I];const oe=new Uint32Array(Z.img.buffer);var Q=Z.rect.width;for(H=oe.length,q=new Uint8Array(H),W.push(q),B=0;B<H;B++){const ee=oe[B];if(B!=0&&ee==oe[B-1])q[B]=q[B-1];else if(B>Q&&ee==oe[B-Q])q[B]=q[B-Q];else{let re=V[ee];if(re==null&&(V[ee]=re=K.length,K.push(ee),K.length>=300))break;q[B]=re}}}const fe=K.length;for(fe<=256&&h==0&&(z=fe<=2?1:fe<=4?2:fe<=16?4:8,z=Math.max(z,x)),I=0;I<$.length;I++){(Z=$[I]).rect.x,Z.rect.y,Q=Z.rect.width;const oe=Z.rect.height;let ee=Z.img;new Uint32Array(ee.buffer);let re=4*Q,ce=4;if(fe<=256&&h==0){re=Math.ceil(z*Q/8);var ie=new Uint8Array(re*oe);const pe=W[I];for(let ae=0;ae<oe;ae++){B=ae*re;const ve=ae*Q;if(z==8)for(var te=0;te<Q;te++)ie[B+te]=pe[ve+te];else if(z==4)for(te=0;te<Q;te++)ie[B+(te>>1)]|=pe[ve+te]<<4-4*(1&te);else if(z==2)for(te=0;te<Q;te++)ie[B+(te>>2)]|=pe[ve+te]<<6-2*(3&te);else if(z==1)for(te=0;te<Q;te++)ie[B+(te>>3)]|=pe[ve+te]<<7-1*(7&te)}ee=ie,F=3,ce=1}else if(P==0&&$.length==1){ie=new Uint8Array(Q*oe*3);const pe=Q*oe;for(B=0;B<pe;B++){const ae=3*B,ve=4*B;ie[ae]=ee[ve],ie[ae+1]=ee[ve+1],ie[ae+2]=ee[ve+2]}ee=ie,F=2,ce=3,re=3*Q}Z.img=ee,Z.bpl=re,Z.bpp=ce}return{ctype:F,depth:z,plte:K,frames:$}}function n(g,v,j,E,R,k,N){const M=Uint8Array,x=Uint32Array,h=new M(g[R-1]),L=new x(g[R-1]),F=R+1<g.length?new M(g[R+1]):null,z=new M(g[R]),G=new x(z.buffer);let I=v,H=j,B=-1,P=-1;for(let V=0;V<k.height;V++)for(let K=0;K<k.width;K++){const W=k.x+K,q=k.y+V,Z=q*v+W,Q=G[Z];Q==0||E[R-1].dispose==0&&L[Z]==Q&&(F==null||F[4*Z+3]!=0)||(W<I&&(I=W),W>B&&(B=W),q<H&&(H=q),q>P&&(P=q))}B==-1&&(I=H=B=P=0),N&&((1&I)==1&&I--,(1&H)==1&&H--),k={x:I,y:H,width:B-I+1,height:P-H+1};const $=E[R];$.rect=k,$.blend=1,$.img=new Uint8Array(k.width*k.height*4),E[R-1].dispose==0?(r(h,v,j,$.img,k.width,k.height,-k.x,-k.y,0),s(z,v,j,$.img,k)):r(z,v,j,$.img,k.width,k.height,-k.x,-k.y,0)}function s(g,v,j,E,R){r(g,v,j,E,R.width,R.height,-R.x,-R.y,2)}function u(g,v,j,E,R,k,N){const M=[];let x,h=[0,1,2,3,4];k!=-1?h=[k]:(v*E>5e5||j==1)&&(h=[0]),N&&(x={level:0});const L=ni;for(var F=0;F<h.length;F++){for(let I=0;I<v;I++)b(R,g,I,E,j,h[F]);M.push(L.deflate(R,x))}let z,G=1e9;for(F=0;F<M.length;F++)M[F].length<G&&(z=F,G=M[F].length);return M[z]}function b(g,v,j,E,R,k){const N=j*E;let M=N+j;if(g[M]=k,M++,k==0)if(E<500)for(var x=0;x<E;x++)g[M+x]=v[N+x];else g.set(new Uint8Array(v.buffer,N,E),M);else if(k==1){for(x=0;x<R;x++)g[M+x]=v[N+x];for(x=R;x<E;x++)g[M+x]=v[N+x]-v[N+x-R]+256&255}else if(j==0){for(x=0;x<R;x++)g[M+x]=v[N+x];if(k==2)for(x=R;x<E;x++)g[M+x]=v[N+x];if(k==3)for(x=R;x<E;x++)g[M+x]=v[N+x]-(v[N+x-R]>>1)+256&255;if(k==4)for(x=R;x<E;x++)g[M+x]=v[N+x]-c(v[N+x-R],0,0)+256&255}else{if(k==2)for(x=0;x<E;x++)g[M+x]=v[N+x]+256-v[N+x-E]&255;if(k==3){for(x=0;x<R;x++)g[M+x]=v[N+x]+256-(v[N+x-E]>>1)&255;for(x=R;x<E;x++)g[M+x]=v[N+x]+256-(v[N+x-E]+v[N+x-R]>>1)&255}if(k==4){for(x=0;x<R;x++)g[M+x]=v[N+x]+256-c(0,v[N+x-E],0)&255;for(x=R;x<E;x++)g[M+x]=v[N+x]+256-c(v[N+x-R],v[N+x-E],v[N+x-R-E])&255}}}function y(g,v){const j=new Uint8Array(g),E=j.slice(0),R=new Uint32Array(E.buffer),k=_(E,v),N=k[0],M=k[1],x=j.length,h=new Uint8Array(x>>2);let L;if(j.length<2e7)for(var F=0;F<x;F+=4)L=S(N,z=j[F]*(1/255),G=j[F+1]*(1/255),I=j[F+2]*(1/255),H=j[F+3]*(1/255)),h[F>>2]=L.ind,R[F>>2]=L.est.rgba;else for(F=0;F<x;F+=4){var z=j[F]*.00392156862745098,G=j[F+1]*(1/255),I=j[F+2]*(1/255),H=j[F+3]*(1/255);for(L=N;L.left;)L=O(L.est,z,G,I,H)<=0?L.left:L.right;h[F>>2]=L.ind,R[F>>2]=L.est.rgba}return{abuf:E.buffer,inds:h,plte:M}}function _(g,v,j){j==null&&(j=1e-4);const E=new Uint32Array(g.buffer),R={i0:0,i1:g.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=U(g,R.i0,R.i1),R.est=w(R.bst);const k=[R];for(;k.length<v;){let M=0,x=0;for(var N=0;N<k.length;N++)k[N].est.L>M&&(M=k[N].est.L,x=N);if(M<j)break;const h=k[x],L=D(g,E,h.i0,h.i1,h.est.e,h.est.eMq255);if(h.i0>=L||h.i1<=L){h.est.L=0;continue}const F={i0:h.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};F.bst=U(g,F.i0,F.i1),F.est=w(F.bst);const z={i0:L,i1:h.i1,bst:null,est:null,tdst:0,left:null,right:null};for(z.bst={R:[],m:[],N:h.bst.N-F.bst.N},N=0;N<16;N++)z.bst.R[N]=h.bst.R[N]-F.bst.R[N];for(N=0;N<4;N++)z.bst.m[N]=h.bst.m[N]-F.bst.m[N];z.est=w(z.bst),h.left=F,h.right=z,k[x]=F,k.push(z)}for(k.sort((M,x)=>x.bst.N-M.bst.N),N=0;N<k.length;N++)k[N].ind=N;return[R,k]}function S(g,v,j,E,R){if(g.left==null)return g.tdst=function(F,z,G,I,H){const B=z-F[0],P=G-F[1],$=I-F[2],V=H-F[3];return B*B+P*P+$*$+V*V}(g.est.q,v,j,E,R),g;const k=O(g.est,v,j,E,R);let N=g.left,M=g.right;k>0&&(N=g.right,M=g.left);const x=S(N,v,j,E,R);if(x.tdst<=k*k)return x;const h=S(M,v,j,E,R);return h.tdst<x.tdst?h:x}function O(g,v,j,E,R){const{e:k}=g;return k[0]*v+k[1]*j+k[2]*E+k[3]*R-g.eMq}function D(g,v,j,E,R,k){for(E-=4;j<E;){for(;T(g,j,R)<=k;)j+=4;for(;T(g,E,R)>k;)E-=4;if(j>=E)break;const N=v[j>>2];v[j>>2]=v[E>>2],v[E>>2]=N,j+=4,E-=4}for(;T(g,j,R)>k;)j-=4;return j+4}function T(g,v,j){return g[v]*j[0]+g[v+1]*j[1]+g[v+2]*j[2]+g[v+3]*j[3]}function U(g,v,j){const E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],k=j-v>>2;for(let N=v;N<j;N+=4){const M=g[N]*.00392156862745098,x=g[N+1]*(1/255),h=g[N+2]*(1/255),L=g[N+3]*(1/255);R[0]+=M,R[1]+=x,R[2]+=h,R[3]+=L,E[0]+=M*M,E[1]+=M*x,E[2]+=M*h,E[3]+=M*L,E[5]+=x*x,E[6]+=x*h,E[7]+=x*L,E[10]+=h*h,E[11]+=h*L,E[15]+=L*L}return E[4]=E[1],E[8]=E[2],E[9]=E[6],E[12]=E[3],E[13]=E[7],E[14]=E[11],{R:E,m:R,N:k}}function w(g){const{R:v}=g,{m:j}=g,{N:E}=g,R=j[0],k=j[1],N=j[2],M=j[3],x=E==0?0:1/E,h=[v[0]-R*R*x,v[1]-R*k*x,v[2]-R*N*x,v[3]-R*M*x,v[4]-k*R*x,v[5]-k*k*x,v[6]-k*N*x,v[7]-k*M*x,v[8]-N*R*x,v[9]-N*k*x,v[10]-N*N*x,v[11]-N*M*x,v[12]-M*R*x,v[13]-M*k*x,v[14]-M*N*x,v[15]-M*M*x],L=h,F=C;let z=[Math.random(),Math.random(),Math.random(),Math.random()],G=0,I=0;if(E!=0)for(let B=0;B<16&&(z=F.multVec(L,z),I=Math.sqrt(F.dot(z,z)),z=F.sml(1/I,z),!(B!=0&&Math.abs(I-G)<1e-9));B++)G=I;const H=[R*x,k*x,N*x,M*x];return{Cov:h,q:H,e:z,L:G,eMq255:F.dot(F.sml(255,H),z),eMq:F.dot(z,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var C={multVec:(g,v)=>[g[0]*v[0]+g[1]*v[1]+g[2]*v[2]+g[3]*v[3],g[4]*v[0]+g[5]*v[1]+g[6]*v[2]+g[7]*v[3],g[8]*v[0]+g[9]*v[1]+g[10]*v[2]+g[11]*v[3],g[12]*v[0]+g[13]*v[1]+g[14]*v[2]+g[15]*v[3]],dot:(g,v)=>g[0]*v[0]+g[1]*v[1]+g[2]*v[2]+g[3]*v[3],sml:(g,v)=>[g*v[0],g*v[1],g*v[2],g*v[3]]};Se.encode=function(v,j,E,R,k,N,M){R==null&&(R=0),M==null&&(M=!1);const x=l(v,j,E,R,[!1,!1,!1,0,M,!1]);return m(x,-1),f(x,j,E,k,N)},Se.encodeLL=function(v,j,E,R,k,N,M,x){const h={ctype:0+(R==1?0:2)+(k==0?0:4),depth:N,frames:[]},L=(R+k)*N,F=L*j;for(let z=0;z<v.length;z++)h.frames.push({rect:{x:0,y:0,width:j,height:E},img:new Uint8Array(v[z]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil(F/8)});return m(h,0,!0),f(h,j,E,M,x)},Se.encode.compress=l,Se.encode.dither=a,Se.quantize=y,Se.quantize.getKDtree=_,Se.quantize.getNearest=S})();const oo={toArrayBuffer(r,d){const c=r.width,i=r.height,e=c<<2,t=r.getContext("2d").getImageData(0,0,c,i),o=new Uint32Array(t.data.buffer),a=(32*c+31)/32<<2,f=a*i,m=122+f,l=new ArrayBuffer(m),n=new DataView(l),s=1<<20;let u,b,y,_,S=s,O=0,D=0,T=0;function U(g){n.setUint16(D,g,!0),D+=2}function w(g){n.setUint32(D,g,!0),D+=4}function C(g){D+=g}U(19778),w(m),C(4),w(122),w(108),w(c),w(-i>>>0),U(1),U(32),w(3),w(f),w(2835),w(2835),C(8),w(16711680),w(65280),w(255),w(4278190080),w(1466527264),function g(){for(;O<i&&S>0;){for(_=122+O*a,u=0;u<e;)S--,b=o[T++],y=b>>>24,n.setUint32(_+u,b<<8|y),u+=4;O++}T<o.length?(S=s,setTimeout(g,oo._dly)):d(l)}()},toBlob(r,d){this.toArrayBuffer(r,c=>{d(new Blob([c],{type:"image/bmp"}))})},_dly:9};var me={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},oi={[me.CHROME]:16384,[me.FIREFOX]:11180,[me.DESKTOP_SAFARI]:16384,[me.IE]:8192,[me.IOS]:4096,[me.ETC]:8192};const rr=typeof window<"u",ao=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,mt=rr&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ai=(rr||ao)&&(mt&&mt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),so=(rr||ao)&&(mt&&mt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function nr(r,d,c=Date.now()){return new Promise(i=>{const e=r.split(","),t=e[0].match(/:(.*?);/)[1],o=globalThis.atob(e[1]);let a=o.length;const f=new Uint8Array(a);for(;a--;)f[a]=o.charCodeAt(a);const m=new Blob([f],{type:t});m.name=d,m.lastModified=c,i(m)})}function io(r){return new Promise((d,c)=>{const i=new so;i.onload=()=>d(i.result),i.onerror=e=>c(e),i.readAsDataURL(r)})}function lo(r){return new Promise((d,c)=>{const i=new Image;i.onload=()=>d(i),i.onerror=e=>c(e),i.src=r})}function Ve(){if(Ve.cachedResult!==void 0)return Ve.cachedResult;let r=me.ETC;const{userAgent:d}=navigator;return/Chrom(e|ium)/i.test(d)?r=me.CHROME:/iP(ad|od|hone)/i.test(d)&&/WebKit/i.test(d)?r=me.IOS:/Safari/i.test(d)?r=me.DESKTOP_SAFARI:/Firefox/i.test(d)?r=me.FIREFOX:(/MSIE/i.test(d)||document.documentMode)&&(r=me.IE),Ve.cachedResult=r,Ve.cachedResult}function co(r,d){const c=Ve(),i=oi[c];let e=r,t=d,o=e*t;const a=e>t?t/e:e/t;for(;o>i*i;){const f=(i+e)/2,m=(i+t)/2;f<m?(t=m,e=m*a):(t=f*a,e=f),o=e*t}return{width:e,height:t}}function _t(r,d){let c,i;try{if(c=new OffscreenCanvas(r,d),i=c.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{c=document.createElement("canvas"),i=c.getContext("2d")}return c.width=r,c.height=d,[c,i]}function uo(r,d){const{width:c,height:i}=co(r.width,r.height),[e,t]=_t(c,i);return d&&/jpe?g/.test(d)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(r,0,0,e.width,e.height),e}function ut(){return ut.cachedResult!==void 0||(ut.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ut.cachedResult}function gt(r,d={}){return new Promise(function(c,i){let e,t;var o=function(){try{return t=uo(e,d.fileType||r.type),c([e,t])}catch(f){return i(f)}},a=function(f){try{var m=function(l){try{throw l}catch(n){return i(n)}};try{let l;return io(r).then(function(n){try{return l=n,lo(l).then(function(s){try{return e=s,function(){try{return o()}catch(u){return i(u)}}()}catch(u){return m(u)}},m)}catch(s){return m(s)}},m)}catch(l){m(l)}}catch(l){return i(l)}};try{if(ut()||[me.DESKTOP_SAFARI,me.MOBILE_SAFARI].includes(Ve()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(f){try{return e=f,o()}catch{return a()}},a)}catch{a()}})}function vt(r,d,c,i,e=1){return new Promise(function(t,o){let a;if(d==="image/png"){let m,l,n;return m=r.getContext("2d"),{data:l}=m.getImageData(0,0,r.width,r.height),n=Se.encode([l.buffer],r.width,r.height,4096*e),a=new Blob([n],{type:d}),a.name=c,a.lastModified=i,f.call(this)}{let m=function(){return f.call(this)};if(d==="image/bmp")return new Promise(l=>oo.toBlob(r,l)).then((function(l){try{return a=l,a.name=c,a.lastModified=i,m.call(this)}catch(n){return o(n)}}).bind(this),o);{let l=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:d,quality:e}).then((function(n){try{return a=n,a.name=c,a.lastModified=i,l.call(this)}catch(s){return o(s)}}).bind(this),o);{let n;return n=r.toDataURL(d,e),nr(n,c,i).then((function(s){try{return a=s,l.call(this)}catch(u){return o(u)}}).bind(this),o)}}}function f(){return t(a)}})}function _e(r){r.width=0,r.height=0}function Ye(){return new Promise(function(r,d){let c,i,e,t;return Ye.cachedResult!==void 0?r(Ye.cachedResult):nr("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return c=o,gt(c).then(function(a){try{return i=a[1],vt(i,c.type,c.name,c.lastModified).then(function(f){try{return e=f,_e(i),gt(e).then(function(m){try{return t=m[0],Ye.cachedResult=t.width===1&&t.height===2,r(Ye.cachedResult)}catch(l){return d(l)}},d)}catch(m){return d(m)}},d)}catch(f){return d(f)}},d)}catch(a){return d(a)}},d)})}function fo(r){return new Promise((d,c)=>{const i=new so;i.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return d(-2);const o=t.byteLength;let a=2;for(;a<o;){if(t.getUint16(a+2,!1)<=8)return d(-1);const f=t.getUint16(a,!1);if(a+=2,f==65505){if(t.getUint32(a+=2,!1)!=1165519206)return d(-1);const m=t.getUint16(a+=6,!1)==18761;a+=t.getUint32(a+4,m);const l=t.getUint16(a,m);a+=2;for(let n=0;n<l;n++)if(t.getUint16(a+12*n,m)==274)return d(t.getUint16(a+12*n+8,m))}else{if((65280&f)!=65280)break;a+=t.getUint16(a,!1)}}return d(-1)},i.onerror=e=>c(e),i.readAsArrayBuffer(r)})}function po(r,d){const{width:c}=r,{height:i}=r,{maxWidthOrHeight:e}=d;let t,o=r;return isFinite(e)&&(c>e||i>e)&&([o,t]=_t(c,i),c>i?(o.width=e,o.height=i/c*e):(o.width=c/i*e,o.height=e),t.drawImage(r,0,0,o.width,o.height),_e(r)),o}function ho(r,d){const{width:c}=r,{height:i}=r,[e,t]=_t(c,i);switch(d>4&&d<9?(e.width=i,e.height=c):(e.width=c,e.height=i),d){case 2:t.transform(-1,0,0,1,c,0);break;case 3:t.transform(-1,0,0,-1,c,i);break;case 4:t.transform(1,0,0,-1,0,i);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,i,0);break;case 7:t.transform(0,-1,-1,0,i,c);break;case 8:t.transform(0,-1,1,0,0,c)}return t.drawImage(r,0,0,c,i),_e(r),e}function xr(r,d,c=0){return new Promise(function(i,e){let t,o,a,f,m,l,n,s,u,b,y,_,S,O,D,T,U,w,C,g;function v(E=5){if(d.signal&&d.signal.aborted)throw d.signal.reason;t+=E,d.onProgress(Math.min(t,100))}function j(E){if(d.signal&&d.signal.aborted)throw d.signal.reason;t=Math.min(Math.max(E,t),100),d.onProgress(t)}return t=c,o=d.maxIteration||10,a=1024*d.maxSizeMB*1024,v(),gt(r,d).then((function(E){try{return[,f]=E,v(),m=po(f,d),v(),new Promise(function(R,k){var N;if(!(N=d.exifOrientation))return fo(r).then((function(x){try{return N=x,M.call(this)}catch(h){return k(h)}}).bind(this),k);function M(){return R(N)}return M.call(this)}).then((function(R){try{return l=R,v(),Ye().then((function(k){try{return n=k?m:ho(m,l),v(),s=d.initialQuality||1,u=d.fileType||r.type,vt(n,u,r.name,r.lastModified,s).then((function(N){try{{let x=function(){if(o--&&(D>a||D>S)){let L,F;return L=g?.95*C.width:C.width,F=g?.95*C.height:C.height,[U,w]=_t(L,F),w.drawImage(C,0,0,L,F),s*=u==="image/png"?.85:.95,vt(U,u,r.name,r.lastModified,s).then(function(z){try{return T=z,_e(C),C=U,D=T.size,j(Math.min(99,Math.floor((O-D)/(O-a)*100))),x}catch(G){return e(G)}},e)}return[1]},h=function(){return _e(C),_e(U),_e(m),_e(n),_e(f),j(100),i(T)};if(b=N,v(),y=b.size>a,_=b.size>r.size,!y&&!_)return j(100),i(b);var M;return S=r.size,O=b.size,D=O,C=n,g=!d.alwaysKeepResolution&&y,(M=(function(L){for(;L;){if(L.then)return void L.then(M,e);try{if(L.pop){if(L.length)return L.pop()?h.call(this):L;L=x}else L=L.call(this)}catch(F){return e(F)}}}).bind(this))(x)}}catch(x){return e(x)}}).bind(this),e)}catch(N){return e(N)}}).bind(this),e)}catch(k){return e(k)}}).bind(this),e)}catch(R){return e(R)}}).bind(this),e)})}const si=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Tt;function ii(r,d){return new Promise((c,i)=>{Tt||(Tt=function(o){const a=[];return a.push(o),URL.createObjectURL(new Blob(a))}(si));const e=new Worker(Tt);e.addEventListener("message",function(o){if(d.signal&&d.signal.aborted)e.terminate();else if(o.data.progress===void 0){if(o.data.error)return i(new Error(o.data.error)),void e.terminate();c(o.data.file),e.terminate()}else d.onProgress(o.data.progress)}),e.addEventListener("error",i),d.signal&&d.signal.addEventListener("abort",()=>{i(d.signal.reason),e.terminate()}),e.postMessage({file:r,imageCompressionLibUrl:d.libURL,options:{...d,onProgress:void 0,signal:void 0}})})}function ue(r,d){return new Promise(function(c,i){let e,t,o,a,f,m;if(e={...d},o=0,{onProgress:a}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=u=>{o=u,typeof a=="function"&&a(o)},!(r instanceof Blob||r instanceof ai))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return i(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||m)return xr(r,e).then((function(u){try{return t=u,s.call(this)}catch(b){return i(b)}}).bind(this),i);var l=(function(){try{return s.call(this)}catch(u){return i(u)}}).bind(this),n=function(u){try{return xr(r,e).then(function(b){try{return t=b,l()}catch(y){return i(y)}},i)}catch(b){return i(b)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ii(r,e).then(function(u){try{return t=u,l()}catch{return n()}},n)}catch{n()}function s(){try{t.name=r.name,t.lastModified=r.lastModified}catch{}try{e.preserveExif&&r.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===r.type)&&(t=no(r,t))}catch{}return c(t)}})}ue.getDataUrlFromFile=io,ue.getFilefromDataUrl=nr,ue.loadImage=lo,ue.drawImageInCanvas=uo,ue.drawFileInCanvas=gt,ue.canvasToFile=vt,ue.getExifOrientation=fo,ue.handleMaxWidthOrHeight=po,ue.followExifOrientation=ho,ue.cleanupCanvasMemory=_e,ue.isAutoOrientationInBrowser=Ye,ue.approximateBelowMaximumCanvasSizeOfBrowser=co,ue.copyExifWithoutOrientation=no,ue.getBrowserName=Ve,ue.version="2.0.2";function li({recipeId:r,pendingKey:d,onUploadedJSON:c}){const[i,e]=A.useState(null),[t,o]=A.useState(!1),[a,f]=A.useState(null),m=async n=>{if(n)try{const u=await ue(n,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0});console.log(`Original: ${(n.size/1024/1024).toFixed(2)} MB â†’ Komprimiert: ${(u.size/1024/1024).toFixed(2)} MB`),e(u)}catch(s){console.error("Fehler bei der Bildkompression:",s),f("Bild konnte nicht komprimiert werden.")}},l=async()=>{if(i){o(!0),f(null);try{const n=new FormData;n.append("file",i),n.append("collection","recipe_images"),r&&n.append("recipe_id",r),d&&n.append("pending_key",d);const s=await(window.axios?.post?.("/upload",n,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},withCredentials:!0})??fetch("/upload",{method:"POST",body:n,headers:{Accept:"application/json"},credentials:"include"}));if(s&&"data"in s)c?.(s.data.media);else if(s instanceof Response){const u=await s.json();c?.(u.media)}e(null)}catch(n){f(n?.response?.data?.message||"Upload fehlgeschlagen")}finally{o(!1)}}};return p.jsxs("div",{className:"flex flex-col gap-3",onKeyDown:n=>{n.key==="Enter"&&n.preventDefault()},tabIndex:0,children:[p.jsxs("label",{className:"relative w-full flex flex-col items-center justify-center py-6 text-center border-2 border-dashed border-primary rounded-md hover:cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:[p.jsx(Mt,{className:"text-primary text-4xl"}),p.jsx("span",{className:"mt-2 text-sm text-gray-500",children:"Bild auswÃ¤hlen"}),p.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/png,image/jpeg,image/jpg",onChange:n=>m(n.target.files?.[0]||null)})]}),i&&p.jsxs("div",{className:"text-sm text-gray-600",children:["Datei bereit: ",p.jsx("strong",{children:i.name})," (",(i.size/1024/1024).toFixed(2)," MB)"]}),p.jsx(Ne,{type:"button",onClick:l,disabled:t||!i,variant:"primary",className:"w-full hover:cursor-pointer",children:t?"LÃ¤dtâ€¦":"Bild hochladen"}),a&&p.jsx("span",{className:"text-red-500 text-sm",children:a})]})}var mo="Toggle",go=A.forwardRef((r,d)=>{const{pressed:c,defaultPressed:i,onPressedChange:e,...t}=r,[o,a]=$e({prop:c,onChange:e,defaultProp:i??!1,caller:mo});return p.jsx(X.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":r.disabled?"":void 0,...t,ref:d,onClick:J(r.onClick,()=>{r.disabled||a(!o)})})});go.displayName=mo;var Ue="ToggleGroup",[vo,Ei]=yt(Ue,[Fr]),xo=Fr(),or=Ae.forwardRef((r,d)=>{const{type:c,...i}=r;if(c==="single"){const e=i;return p.jsx(ci,{...e,ref:d})}if(c==="multiple"){const e=i;return p.jsx(di,{...e,ref:d})}throw new Error(`Missing prop \`type\` expected on \`${Ue}\``)});or.displayName=Ue;var[bo,yo]=vo(Ue),ci=Ae.forwardRef((r,d)=>{const{value:c,defaultValue:i,onValueChange:e=()=>{},...t}=r,[o,a]=$e({prop:c,defaultProp:i??"",onChange:e,caller:Ue});return p.jsx(bo,{scope:r.__scopeToggleGroup,type:"single",value:Ae.useMemo(()=>o?[o]:[],[o]),onItemActivate:a,onItemDeactivate:Ae.useCallback(()=>a(""),[a]),children:p.jsx(wo,{...t,ref:d})})}),di=Ae.forwardRef((r,d)=>{const{value:c,defaultValue:i,onValueChange:e=()=>{},...t}=r,[o,a]=$e({prop:c,defaultProp:i??[],onChange:e,caller:Ue}),f=Ae.useCallback(l=>a((n=[])=>[...n,l]),[a]),m=Ae.useCallback(l=>a((n=[])=>n.filter(s=>s!==l)),[a]);return p.jsx(bo,{scope:r.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:f,onItemDeactivate:m,children:p.jsx(wo,{...t,ref:d})})});or.displayName=Ue;var[ui,fi]=vo(Ue),wo=Ae.forwardRef((r,d)=>{const{__scopeToggleGroup:c,disabled:i=!1,rovingFocus:e=!0,orientation:t,dir:o,loop:a=!0,...f}=r,m=xo(c),l=qt(o),n={role:"group",dir:l,...f};return p.jsx(ui,{scope:c,rovingFocus:e,disabled:i,children:e?p.jsx(Lo,{asChild:!0,...m,orientation:t,dir:l,loop:a,children:p.jsx(X.div,{...n,ref:d})}):p.jsx(X.div,{...n,ref:d})})}),xt="ToggleGroupItem",So=Ae.forwardRef((r,d)=>{const c=yo(xt,r.__scopeToggleGroup),i=fi(xt,r.__scopeToggleGroup),e=xo(r.__scopeToggleGroup),t=c.value.includes(r.value),o=i.disabled||r.disabled,a={...r,pressed:t,disabled:o},f=Ae.useRef(null);return i.rovingFocus?p.jsx(Uo,{asChild:!0,...e,focusable:!o,active:t,ref:f,children:p.jsx(br,{...a,ref:d})}):p.jsx(br,{...a,ref:d})});So.displayName=xt;var br=Ae.forwardRef((r,d)=>{const{__scopeToggleGroup:c,value:i,...e}=r,t=yo(xt,c),o={role:"radio","aria-checked":r.pressed,"aria-pressed":void 0},a=t.type==="single"?o:void 0;return p.jsx(go,{...a,...e,ref:d,onPressedChange:f=>{f?t.onItemActivate(i):t.onItemDeactivate(i)}})}),Co=or,Ao=So;const pi=Mo("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),jo=A.createContext({size:"default",variant:"default"}),No=A.forwardRef(({className:r,variant:d,size:c,children:i,...e},t)=>p.jsx(Co,{ref:t,className:Y("flex items-center justify-center gap-1",r),...e,children:p.jsx(jo.Provider,{value:{variant:d,size:c},children:i})}));No.displayName=Co.displayName;const _o=A.forwardRef(({className:r,children:d,variant:c,size:i,...e},t)=>{const o=A.useContext(jo);return p.jsx(Ao,{ref:t,className:Y(pi({variant:o.variant||c,size:o.size||i}),r),...e,children:d})});_o.displayName=Ao.displayName;const yr={vorspeise:1,hauptgericht:2,nachtisch:3,cocktail:4,backen:5,snack:6};function hi({selectedCategoryId:r,onChange:d}){const{categories:c}=wr().props,i={vorspeise:p.jsx(zo,{className:"size-5"}),hauptgericht:p.jsx(cr,{className:"size-5"}),nachtisch:p.jsx(Bo,{className:"size-5"}),cocktail:p.jsx(Xo,{className:"size-5"}),snack:p.jsx(Yo,{className:"size-5"}),backen:p.jsx(Qo,{className:"size-5"})},t=[...Array.isArray(c)?c:c?.data??[]].sort((o,a)=>{const f=yr[o.slug??o.name.toLowerCase()]??999,m=yr[a.slug??a.name.toLowerCase()]??999;return f-m});return p.jsxs(p.Fragment,{children:[p.jsx(we,{className:"mb-3",htmlFor:"category",value:"Kategorie"}),p.jsx(No,{type:"single",id:"category",value:r??"",onValueChange:o=>o&&d(o),className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map(o=>{const a=r===String(o.id);return p.jsxs(_o,{value:String(o.id),className:`flex items-center justify-center p-3 rounded-lg border transition cursor-pointer 
                            hover:bg-emerald-50 hover:border-emerald-500 
                            ${a?"border-primary bg-emerald-100 text-emerald-700 shadow-sm":"border-gray-200 bg-white dark:bg-gray-900"}
                        `,children:[p.jsx("div",{className:`mb-1 transition-colors ${a?"text-emerald-700":"text-primary"}`,children:i[o.slug??o.name.toLowerCase()]??p.jsx(cr,{className:"size-5"})}),p.jsx("span",{className:"text-xs font-medium",children:o.name})]},String(o.id))})})]})}var Eo=(r=>(r.DASH="Dash/Spritzel",r.ML="ml",r.CL="cl",r.L="L",r.GR="gr",r.KG="kg",r.SP="TL",r.TS="EL",r.BT="Prise",r.CUP="Tasse",r.PIECE="StÃ¼ck",r.CAN="Dose",r.PACKAGE="Paket",r.BOTTLE="Flasche",r))(Eo||{}),Wt=(r=>(r.EINFACH="einfach",r.MITTEL="mittel",r.SCHWER="schwer",r))(Wt||{});function Ri({recipe:r,className:d}){const[c,i]=A.useState(1),e=A.useRef(null),t=()=>{if(e.current){const C=e.current.getBoundingClientRect().top+window.scrollY-20;window.scrollTo({top:C,behavior:"smooth"})}},[o]=A.useState(()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)),[a,f]=A.useState([]),[m,l]=A.useState(r?.media??[]),{data:n,setData:s,post:u,processing:b,errors:y,reset:_}=Io({id:r?.id??null,name:r?.name??"",slug:r?.slug??"",punchline:r?.punchline??"",description:r?.description??"",difficulty:r?.difficulty??"einfach",rating:Number(r?.rating??5),preparation_time:Number(r?.preparation_time??15),preparation_instructions:r?.preparation_instructions??"",pending_key:r?null:o,primary_media_id:r?.media?.find(C=>C?.pivot?.is_primary)?.id??null,recipe_ingredients:r?.ingredients?.map(C=>({ingredient_id:C.id,quantity:C.pivot?.quantity??"",unit:C.pivot?.unit??"gr"}))??[],category_id:r?.category_id??""}),S=()=>{s("recipe_ingredients",[...n.recipe_ingredients,{ingredient_id:"",quantity:"",unit:"gr"}])},O=(C,g,v)=>{const j=[...n.recipe_ingredients];j[C][g]=v,s("recipe_ingredients",j)},D=C=>{const g=[...n.recipe_ingredients];g.splice(C,1),s("recipe_ingredients",g)},T=!((n.name?.trim()?.length??0)<3),U=C=>{i(C),setTimeout(t,50)},w=C=>{C.preventDefault(),r?To.post(route("recipes.update",{recipe:r.id}),{...n,_method:"put"},{forceFormData:!0,onSuccess:()=>_(),preserveScroll:!0}):u(route("recipes.store"),{forceFormData:!0,onSuccess:()=>_(),preserveScroll:!0})};return p.jsxs("form",{onSubmit:w,className:Y("flex flex-col",d),children:[p.jsxs("ol",{className:"items-center w-full space-y-4 flex justify-between sm:space-x-8 sm:space-y-0 rtl:space-x-reverse",children:[p.jsxs("li",{className:"relative w-full mb-6 sm:mb-0",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",c===1?"bg-primary dark:bg-primary":"")}),p.jsx("span",{className:Y(" text-gray-600 dark:border-gray-600 dark:text-gray-600 rounded-full p-1",c===1?"bg-primary border-primary text-white dark:text-gray-200":""),children:p.jsx(Ho,{className:"size-4"})}),p.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",c===1?"bg-primary dark:bg-primary":"")})]}),p.jsxs("div",{className:"hidden sm:block mt-0 sm:mt-5 sm:pe-8",children:[p.jsx("h3",{className:Y("text-center md:text-left text-lg font-semibold text-gray-900 dark:text-white",c===1?"text-primary":""),children:"Basics"}),p.jsx("span",{className:"hidden lg:block  mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Name ist ein Pflichtfeld."}),p.jsx("p",{className:"hidden lg:block text-base font-normal text-gray-500 dark:text-gray-400",children:"Beschreibung und weitere Dinge sind optional."})]})]}),p.jsxs("li",{className:"relative w-full mb-6 sm:mb-0",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",c===2?"bg-primary dark:bg-primary":"")}),p.jsx("span",{className:Y(" text-gray-600 dark:border-gray-600 dark:text-gray-600 rounded-full p-1",c===2?"bg-primary text-white dark:text-gray-200":""),children:p.jsx(Vo,{className:"size-4"})}),p.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",c===2?"bg-primary dark:bg-primary":"")})]}),p.jsxs("div",{className:"hidden sm:block mt-0 sm:mt-5 sm:pe-8",children:[p.jsx("h3",{className:Y("text-lg font-semibold text-gray-900 dark:text-white",c===2?"text-primary":""),children:"Zutaten"}),p.jsx("span",{className:"hidden lg:block  mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Bearbeite die Zutatenliste."}),p.jsx("p",{className:"hidden lg:block text-base font-normal text-gray-500 dark:text-gray-400",children:"Neue oder bestehende Zutaten hinzufÃ¼gen."})]})]}),p.jsxs("li",{className:"relative w-full mb-6 sm:mb-0",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",c===3?"bg-primary dark:bg-primary":"")}),p.jsx("span",{className:Y(" text-gray-600 dark:border-gray-600 dark:text-gray-600 rounded-full p-1",c===3?"bg-primary text-white dark:text-gray-200":""),children:p.jsx($o,{className:"size-4"})}),p.jsx("div",{className:Y("flex w-full bg-gray-200 h-0.5 dark:bg-gray-700",c===3?"bg-primary dark:bg-primary":"")})]}),p.jsxs("div",{className:"hidden sm:block mt-0 sm:mt-5 sm:pe-8",children:[p.jsx("h3",{className:Y("text-lg font-semibold text-gray-900 dark:text-white",c===3?"text-primary":""),children:"Details"}),p.jsx("span",{className:"hidden lg:block  mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Bilder & Zubereitung."}),p.jsx("p",{className:"hidden lg:block text-base font-normal text-gray-500 dark:text-gray-400",children:"FÃ¼ge ein Bild hinzu, beschreibe die Zubereitung."})]})]})]}),p.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),!T&&p.jsx("div",{className:"border border-sky-400 bg-sky-200 text-sm text-sky-700 px-4 py-3 mb-4 rounded relative",role:"alert",children:p.jsx("p",{className:"text-sm",children:"Name mindestens 3 Zeichen."})}),c===1&&p.jsxs("section",{className:"space-y-4",children:[p.jsx("div",{children:p.jsx(hi,{selectedCategoryId:String(n.category_id??r?.category),onChange:C=>s("category_id",C||"")})}),p.jsxs("div",{children:[p.jsx(we,{htmlFor:"name",value:"Name"}),p.jsx(nt,{id:"name",type:"text",value:n.name,placeholder:"z.B. OfengemÃ¼se mit Kartoffeln",className:"mt-1 w-full",isFocused:!0,onChange:C=>s("name",C.target.value)}),y.name&&p.jsx("p",{className:"text-red-500",children:y.name})]}),p.jsxs("div",{children:[p.jsx(we,{htmlFor:"punchline",value:"Punchline"}),p.jsx(nt,{id:"punchline",type:"text",value:n.punchline,placeholder:"z.B. Mediterran und frisch",className:"mt-1 w-full",onChange:C=>s("punchline",C.target.value)}),y.punchline&&p.jsx("p",{className:"text-red-500",children:y.punchline})]}),p.jsxs("div",{children:[p.jsx(we,{htmlFor:"description",value:"Beschreibung"}),p.jsx(Dt,{value:n.description,rows:5,placeholder:"z.B. Schnell und lecker fÃ¼r die ganze Familie...",className:"mt-1 w-full rounded-lg border border-gray-400 px-3 py-2",onChange:C=>s("description",C.target.value)}),y.description&&p.jsx("p",{className:"text-red-500",children:y.description})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx(we,{htmlFor:"preparation_time",value:"Zubereitungszeit"}),p.jsxs("div",{className:"flex items-end",children:[p.jsx(nt,{id:"preparation_time",type:"number",min:0,step:5,max:600,value:n.preparation_time,placeholder:"0",className:"mt-1 flex-1 rounded-none border-r-0 border-gray-200 rounded-tl-lg rounded-bl-lg",onChange:C=>s("preparation_time",Number(C.target.value))}),p.jsx("span",{className:"px-3 py-2 border border-l-0 rounded-r-lg border-gray-400",children:"Minuten"})]}),p.jsx(Pn,{defaultValue:[n.preparation_time],max:240,step:5,className:"my-5",onValueChange:C=>s("preparation_time",C[0])}),y.preparation_time&&p.jsx("p",{className:"text-red-500",children:y.preparation_time})]}),p.jsxs("div",{children:[p.jsx(we,{htmlFor:"rating",value:"Bewertung"}),p.jsx(nt,{id:"rating",type:"number",min:1,max:5,value:n.rating,onChange:C=>s("rating",Number(C.target.value)),className:"mt-1 w-full"}),y.rating&&p.jsx("p",{className:"text-red-500",children:y.rating})]}),p.jsxs("div",{children:[p.jsx(we,{htmlFor:"difficulty",value:"Schwierigkeitsgrad"}),p.jsxs(dr,{name:"difficulty",value:n.difficulty??Wt.EINFACH,onValueChange:C=>s("difficulty",C),children:[p.jsx(fr,{className:"w-full mt-1 py-2",children:p.jsx(ur,{placeholder:"Schwierigkeitsgrad"})}),p.jsx(pr,{children:Object.entries(Wt).map(([C,g])=>p.jsx(hr,{value:g,children:g},C))})]}),y.difficulty&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.difficulty})]})]}),p.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),p.jsxs("div",{className:"flex justify-between gap-2",children:[p.jsx(Ne,{asChild:!0,type:"button",variant:"primaryOutline",disabled:!T,children:p.jsxs(ko,{href:route("recipes.index"),children:[p.jsx(Go,{className:"mr-1"}),"Abbrechen"]})}),p.jsxs(Ne,{type:"button",variant:"primaryOutline",onClick:()=>U(2),disabled:!T,children:["Weiter",p.jsx(ir,{className:"ml-1"})]})]})]}),c===2&&p.jsxs("section",{className:"space-y-4",children:[p.jsx(we,{htmlFor:"ingredients",value:"Zutatenliste bearbeiten"}),n.recipe_ingredients?.map((C,g)=>p.jsxs("div",{className:"md:flex gap-2",children:[p.jsxs("div",{className:"flex justify-start items-start gap-2",children:[p.jsx(nt,{placeholder:"Menge",value:C.quantity,className:"w-full md:w-32",type:"number",onChange:v=>O(g,"quantity",v.target.value)}),p.jsxs(dr,{value:C.unit,onValueChange:v=>O(g,"unit",v),children:[p.jsx(fr,{className:"w-32 mt-1 py-2",children:p.jsx(ur,{placeholder:"Einheit auswÃ¤hlen"})}),p.jsx(pr,{children:Object.entries(Eo).map(([v,j])=>p.jsx(hr,{value:j,children:j},v))})]})]}),p.jsxs("div",{className:"md:w-full flex gap-2",children:[p.jsx(Js,{value:C.ingredient_id,triggerClassName:"w-full mt-1",onChange:v=>O(g,"ingredient_id",v)}),p.jsx(Ne,{variant:"destructive",className:"mt-1.5 hover:cursor-pointer",size:"sm",type:"button",onClick:()=>D(g),children:p.jsx(Wo,{})})]})]},g)),p.jsxs(Ne,{type:"button",variant:"primaryOutline",onClick:S,className:"mt-5 hover:cursor-pointer",children:[p.jsx(Mt,{})," Zutat hinzufÃ¼gen"]}),p.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),p.jsxs("div",{className:"flex justify-between gap-2",children:[p.jsxs(Ne,{type:"button",variant:"primaryOutline",onClick:()=>U(1),children:[p.jsx(lr,{className:"ml-1"}),"ZurÃ¼ck"]}),p.jsxs(Ne,{type:"button",variant:"primaryOutline",onClick:()=>U(3),children:["Weiter",p.jsx(ir,{className:"ml-1"})]})]})]}),c===3&&p.jsxs("section",{className:"space-y-4",children:[p.jsxs("div",{className:"w-full space-y-3",children:[p.jsx(we,{htmlFor:"mediaUpload",value:"Bilder hochladen"}),p.jsx(li,{recipeId:r?.id,pendingKey:r?void 0:o,onUploadedJSON:C=>{r?l(g=>[...g,C]):f(g=>[...g,C]),n.primary_media_id||s("primary_media_id",C.id)}})]}),p.jsxs("div",{className:"w-full space-y-3",children:[p.jsx(we,{htmlFor:"media",value:"Bilder zum Gericht"}),p.jsx("div",{className:"flex flex-wrap gap-3",children:(r?m:a).length>0?(r?m:a).map(C=>p.jsxs("label",{className:"relative w-48 rounded-lg aspect-video border overflow-hidden bg-gray-100 cursor-pointer",children:[p.jsx("img",{src:C.url??`/storage/${C.path}`,alt:C.name,className:" object-cover"}),p.jsx("input",{type:"radio",name:"primary_media_id",value:C.id,checked:n.primary_media_id===C.id,onChange:()=>s("primary_media_id",C.id),className:"absolute top-1 left-1",title:"Als Hauptbild auswÃ¤hlen"}),n.primary_media_id===C.id&&p.jsx("span",{className:"absolute bottom-1 left-1 text-[10px] bg-black/60 text-white px-1 rounded",children:"Aktuell"})]},C.id)):p.jsx("p",{className:"text-sm text-gray-500",children:"Noch keine Bilder vorhanden."})})]}),p.jsxs("div",{className:"w-full space-y-3",children:[p.jsx(we,{htmlFor:"preparation_instructions",value:"Zubereitung, so geht'sâ€¦"}),p.jsx(Dt,{id:"preparation_instructions",value:n.preparation_instructions,rows:5,placeholder:"Beschreibung der Zubereitung",className:"mt-1 w-full rounded-lg border border-gray-400 px-3 py-2",onChange:C=>s("preparation_instructions",C.target.value)}),y.preparation_instructions&&p.jsx("p",{className:"text-red-500",children:y.preparation_instructions})]}),p.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),p.jsxs("div",{className:"flex justify-between gap-2",children:[p.jsxs(Ne,{type:"button",variant:"primaryOutline",onClick:()=>U(2),children:[p.jsx(lr,{className:"ml-1"}),"ZurÃ¼ck"]}),p.jsxs(Ne,{type:"submit",variant:"primary",disabled:b,className:"w-48",children:[r?p.jsx(Ko,{}):p.jsx(Mt,{}),r?"Speichern":"Erstellen"]})]})]})]})}export{Ri as R};
