import{r as C,j as y,a as No,b as Po}from"./app-ChXCPFHx.js";import{c as te,u as oe,a as Qt,b as at,B as Ne}from"./button-DG8zosPq.js";import{I as Ee}from"./InputLabel-BhcqDnLF.js";import{T as nt}from"./InputError-8oeGqNsb.js";import{r as En}from"./index-BpAf-EGT.js";import{c as bt,u as Rn,a as it,b as In,d as wt,e as ye,f as Nn,A as Zt,P as X,g as Y,h as De,i as Yt,V as jo,j as To,k as Xt,l as Jt,m as en,n as tn,D as nn,o as Pn,p as jn,q as Tn,r as Do,s as st,t as Mo}from"./Footer-DVrT6ZOA.js";import{c as lt}from"./createLucideIcon-B98GEw6S.js";import{a as Dn}from"./index-w3f5a_yL.js";import{b as ko}from"./index-hi2OFDgt.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mn=lt("chevron-down",Oo);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Uo=lt("chevron-up",Fo);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Bo=lt("chevrons-up-down",Lo);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zo=lt("search",Ho);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vo=lt("x",$o),Ot=C.forwardRef(({className:n,...d},c)=>y.jsx("textarea",{className:te("flex min-h-[60px] w-full rounded bg-transparent px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:c,...d}));Ot.displayName="Textarea";function pt(n,[d,c]){return Math.min(c,Math.max(d,n))}function kn(n){const d=C.useRef({value:n,previous:n});return C.useMemo(()=>(d.current.value!==n&&(d.current.previous=d.current.value,d.current.value=n),d.current.previous),[n])}var Ko=[" ","Enter","ArrowUp","ArrowDown"],Wo=[" ","Enter"],$e="Select",[St,Ct,Go]=Nn($e),[Xe,ps]=wt($e,[Go,bt]),At=bt(),[qo,ke]=Xe($e),[Qo,Zo]=Xe($e),On=n=>{const{__scopeSelect:d,children:c,open:r,defaultOpen:e,onOpenChange:t,value:s,defaultValue:i,onValueChange:f,dir:h,name:a,autoComplete:o,disabled:l,required:u,form:m}=n,w=At(d),[_,S]=C.useState(null),[U,k]=C.useState(null),[D,P]=C.useState(!1),b=Rn(h),[O,g]=it({prop:r,defaultProp:e??!1,onChange:t,caller:$e}),[x,R]=it({prop:s,defaultProp:i,onChange:f,caller:$e}),E=C.useRef(null),I=_?m||!!_.closest("form"):!0,[T,A]=C.useState(new Set),M=Array.from(T).map(v=>v.props.value).join(";");return y.jsx(In,{...w,children:y.jsxs(qo,{required:u,scope:d,trigger:_,onTriggerChange:S,valueNode:U,onValueNodeChange:k,valueNodeHasChildren:D,onValueNodeHasChildrenChange:P,contentId:ye(),value:x,onValueChange:R,open:O,onOpenChange:g,dir:b,triggerPointerDownPosRef:E,disabled:l,children:[y.jsx(St.Provider,{scope:d,children:y.jsx(Qo,{scope:n.__scopeSelect,onNativeOptionAdd:C.useCallback(v=>{A(p=>new Set(p).add(v))},[]),onNativeOptionRemove:C.useCallback(v=>{A(p=>{const L=new Set(p);return L.delete(v),L})},[]),children:c})}),I?y.jsxs(or,{"aria-hidden":!0,required:u,tabIndex:-1,name:a,autoComplete:o,value:x,onChange:v=>R(v.target.value),disabled:l,form:m,children:[x===void 0?y.jsx("option",{value:""}):null,Array.from(T)]},M):null]})})};On.displayName=$e;var Fn="SelectTrigger",Un=C.forwardRef((n,d)=>{const{__scopeSelect:c,disabled:r=!1,...e}=n,t=At(c),s=ke(Fn,c),i=s.disabled||r,f=oe(d,s.onTriggerChange),h=Ct(c),a=C.useRef("touch"),[o,l,u]=ir(w=>{const _=h().filter(k=>!k.disabled),S=_.find(k=>k.value===s.value),U=sr(_,w,S);U!==void 0&&s.onValueChange(U.value)}),m=w=>{i||(s.onOpenChange(!0),u()),w&&(s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return y.jsx(Zt,{asChild:!0,...t,children:y.jsx(X.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":ar(s.value)?"":void 0,...e,ref:f,onClick:Y(e.onClick,w=>{w.currentTarget.focus(),a.current!=="mouse"&&m(w)}),onPointerDown:Y(e.onPointerDown,w=>{a.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(m(w),w.preventDefault())}),onKeyDown:Y(e.onKeyDown,w=>{const _=o.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&l(w.key),!(_&&w.key===" ")&&Ko.includes(w.key)&&(m(),w.preventDefault())})})})});Un.displayName=Fn;var Ln="SelectValue",Bn=C.forwardRef((n,d)=>{const{__scopeSelect:c,className:r,style:e,children:t,placeholder:s="",...i}=n,f=ke(Ln,c),{onValueNodeHasChildrenChange:h}=f,a=t!==void 0,o=oe(d,f.onValueNodeChange);return De(()=>{h(a)},[h,a]),y.jsx(X.span,{...i,ref:o,style:{pointerEvents:"none"},children:ar(f.value)?y.jsx(y.Fragment,{children:s}):t})});Bn.displayName=Ln;var Yo="SelectIcon",Hn=C.forwardRef((n,d)=>{const{__scopeSelect:c,children:r,...e}=n;return y.jsx(X.span,{"aria-hidden":!0,...e,ref:d,children:r||"â–¼"})});Hn.displayName=Yo;var Xo="SelectPortal",zn=n=>y.jsx(Yt,{asChild:!0,...n});zn.displayName=Xo;var Ve="SelectContent",$n=C.forwardRef((n,d)=>{const c=ke(Ve,n.__scopeSelect),[r,e]=C.useState();if(De(()=>{e(new DocumentFragment)},[]),!c.open){const t=r;return t?En.createPortal(y.jsx(Vn,{scope:n.__scopeSelect,children:y.jsx(St.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),t):null}return y.jsx(Kn,{...n,ref:d})});$n.displayName=Ve;var Ce=10,[Vn,Oe]=Xe(Ve),Jo="SelectContentImpl",ea=Qt("SelectContent.RemoveScroll"),Kn=C.forwardRef((n,d)=>{const{__scopeSelect:c,position:r="item-aligned",onCloseAutoFocus:e,onEscapeKeyDown:t,onPointerDownOutside:s,side:i,sideOffset:f,align:h,alignOffset:a,arrowPadding:o,collisionBoundary:l,collisionPadding:u,sticky:m,hideWhenDetached:w,avoidCollisions:_,...S}=n,U=ke(Ve,c),[k,D]=C.useState(null),[P,b]=C.useState(null),O=oe(d,$=>D($)),[g,x]=C.useState(null),[R,E]=C.useState(null),I=Ct(c),[T,A]=C.useState(!1),M=C.useRef(!1);C.useEffect(()=>{if(k)return Xt(k)},[k]),Jt();const v=C.useCallback($=>{const[W,...G]=I().map(Z=>Z.ref.current),[q]=G.slice(-1),Q=document.activeElement;for(const Z of $)if(Z===Q||(Z?.scrollIntoView({block:"nearest"}),Z===W&&P&&(P.scrollTop=0),Z===q&&P&&(P.scrollTop=P.scrollHeight),Z?.focus(),document.activeElement!==Q))return},[I,P]),p=C.useCallback(()=>v([g,k]),[v,g,k]);C.useEffect(()=>{T&&p()},[T,p]);const{onOpenChange:L,triggerPointerDownPosRef:F}=U;C.useEffect(()=>{if(k){let $={x:0,y:0};const W=q=>{$={x:Math.abs(Math.round(q.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(q.pageY)-(F.current?.y??0))}},G=q=>{$.x<=10&&$.y<=10?q.preventDefault():k.contains(q.target)||L(!1),document.removeEventListener("pointermove",W),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",G,{capture:!0})}}},[k,L,F]),C.useEffect(()=>{const $=()=>L(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[L]);const[H,K]=ir($=>{const W=I().filter(Q=>!Q.disabled),G=W.find(Q=>Q.ref.current===document.activeElement),q=sr(W,$,G);q&&setTimeout(()=>q.ref.current.focus())}),j=C.useCallback(($,W,G)=>{const q=!M.current&&!G;(U.value!==void 0&&U.value===W||q)&&(x($),q&&(M.current=!0))},[U.value]),z=C.useCallback(()=>k?.focus(),[k]),B=C.useCallback(($,W,G)=>{const q=!M.current&&!G;(U.value!==void 0&&U.value===W||q)&&E($)},[U.value]),N=r==="popper"?Ft:Wn,V=N===Ft?{side:i,sideOffset:f,align:h,alignOffset:a,arrowPadding:o,collisionBoundary:l,collisionPadding:u,sticky:m,hideWhenDetached:w,avoidCollisions:_}:{};return y.jsx(Vn,{scope:c,content:k,viewport:P,onViewportChange:b,itemRefCallback:j,selectedItem:g,onItemLeave:z,itemTextRefCallback:B,focusSelectedItem:p,selectedItemText:R,position:r,isPositioned:T,searchRef:H,children:y.jsx(en,{as:ea,allowPinchZoom:!0,children:y.jsx(tn,{asChild:!0,trapped:U.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Y(e,$=>{U.trigger?.focus({preventScroll:!0}),$.preventDefault()}),children:y.jsx(nn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:t,onPointerDownOutside:s,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:y.jsx(N,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:$=>$.preventDefault(),...S,...V,onPlaced:()=>A(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Y(S.onKeyDown,$=>{const W=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!W&&$.key.length===1&&K($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let q=I().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes($.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const Q=$.target,Z=q.indexOf(Q);q=q.slice(Z+1)}setTimeout(()=>v(q)),$.preventDefault()}})})})})})})});Kn.displayName=Jo;var ta="SelectItemAlignedPosition",Wn=C.forwardRef((n,d)=>{const{__scopeSelect:c,onPlaced:r,...e}=n,t=ke(Ve,c),s=Oe(Ve,c),[i,f]=C.useState(null),[h,a]=C.useState(null),o=oe(d,O=>a(O)),l=Ct(c),u=C.useRef(!1),m=C.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:S,focusSelectedItem:U}=s,k=C.useCallback(()=>{if(t.trigger&&t.valueNode&&i&&h&&w&&_&&S){const O=t.trigger.getBoundingClientRect(),g=h.getBoundingClientRect(),x=t.valueNode.getBoundingClientRect(),R=S.getBoundingClientRect();if(t.dir!=="rtl"){const Q=R.left-g.left,Z=x.left-Q,fe=O.left-Z,le=O.width+fe,ee=Math.max(le,g.width),ae=window.innerWidth-Ce,J=pt(Z,[Ce,Math.max(Ce,ae-ee)]);i.style.minWidth=le+"px",i.style.left=J+"px"}else{const Q=g.right-R.right,Z=window.innerWidth-x.right-Q,fe=window.innerWidth-O.right-Z,le=O.width+fe,ee=Math.max(le,g.width),ae=window.innerWidth-Ce,J=pt(Z,[Ce,Math.max(Ce,ae-ee)]);i.style.minWidth=le+"px",i.style.right=J+"px"}const E=l(),I=window.innerHeight-Ce*2,T=w.scrollHeight,A=window.getComputedStyle(h),M=parseInt(A.borderTopWidth,10),v=parseInt(A.paddingTop,10),p=parseInt(A.borderBottomWidth,10),L=parseInt(A.paddingBottom,10),F=M+v+T+L+p,H=Math.min(_.offsetHeight*5,F),K=window.getComputedStyle(w),j=parseInt(K.paddingTop,10),z=parseInt(K.paddingBottom,10),B=O.top+O.height/2-Ce,N=I-B,V=_.offsetHeight/2,$=_.offsetTop+V,W=M+v+$,G=F-W;if(W<=B){const Q=E.length>0&&_===E[E.length-1].ref.current;i.style.bottom="0px";const Z=h.clientHeight-w.offsetTop-w.offsetHeight,fe=Math.max(N,V+(Q?z:0)+Z+p),le=W+fe;i.style.height=le+"px"}else{const Q=E.length>0&&_===E[0].ref.current;i.style.top="0px";const fe=Math.max(B,M+w.offsetTop+(Q?j:0)+V)+G;i.style.height=fe+"px",w.scrollTop=W-B+w.offsetTop}i.style.margin=`${Ce}px 0`,i.style.minHeight=H+"px",i.style.maxHeight=I+"px",r?.(),requestAnimationFrame(()=>u.current=!0)}},[l,t.trigger,t.valueNode,i,h,w,_,S,t.dir,r]);De(()=>k(),[k]);const[D,P]=C.useState();De(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);const b=C.useCallback(O=>{O&&m.current===!0&&(k(),U?.(),m.current=!1)},[k,U]);return y.jsx(ra,{scope:c,contentWrapper:i,shouldExpandOnScrollRef:u,onScrollButtonChange:b,children:y.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:y.jsx(X.div,{...e,ref:o,style:{boxSizing:"border-box",maxHeight:"100%",...e.style}})})})});Wn.displayName=ta;var na="SelectPopperPosition",Ft=C.forwardRef((n,d)=>{const{__scopeSelect:c,align:r="start",collisionPadding:e=Ce,...t}=n,s=At(c);return y.jsx(Pn,{...s,...t,ref:d,align:r,collisionPadding:e,style:{boxSizing:"border-box",...t.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ft.displayName=na;var[ra,rn]=Xe(Ve,{}),Ut="SelectViewport",Gn=C.forwardRef((n,d)=>{const{__scopeSelect:c,nonce:r,...e}=n,t=Oe(Ut,c),s=rn(Ut,c),i=oe(d,t.onViewportChange),f=C.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(St.Slot,{scope:c,children:y.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...e,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...e.style},onScroll:Y(e.onScroll,h=>{const a=h.currentTarget,{contentWrapper:o,shouldExpandOnScrollRef:l}=s;if(l?.current&&o){const u=Math.abs(f.current-a.scrollTop);if(u>0){const m=window.innerHeight-Ce*2,w=parseFloat(o.style.minHeight),_=parseFloat(o.style.height),S=Math.max(w,_);if(S<m){const U=S+u,k=Math.min(m,U),D=U-k;o.style.height=k+"px",o.style.bottom==="0px"&&(a.scrollTop=D>0?D:0,o.style.justifyContent="flex-end")}}}f.current=a.scrollTop})})})]})});Gn.displayName=Ut;var qn="SelectGroup",[oa,aa]=Xe(qn),ia=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n,e=ye();return y.jsx(oa,{scope:c,id:e,children:y.jsx(X.div,{role:"group","aria-labelledby":e,...r,ref:d})})});ia.displayName=qn;var Qn="SelectLabel",sa=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n,e=aa(Qn,c);return y.jsx(X.div,{id:e.id,...r,ref:d})});sa.displayName=Qn;var ht="SelectItem",[la,Zn]=Xe(ht),Yn=C.forwardRef((n,d)=>{const{__scopeSelect:c,value:r,disabled:e=!1,textValue:t,...s}=n,i=ke(ht,c),f=Oe(ht,c),h=i.value===r,[a,o]=C.useState(t??""),[l,u]=C.useState(!1),m=oe(d,U=>f.itemRefCallback?.(U,r,e)),w=ye(),_=C.useRef("touch"),S=()=>{e||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(la,{scope:c,value:r,disabled:e,textId:w,isSelected:h,onItemTextChange:C.useCallback(U=>{o(k=>k||(U?.textContent??"").trim())},[]),children:y.jsx(St.ItemSlot,{scope:c,value:r,disabled:e,textValue:a,children:y.jsx(X.div,{role:"option","aria-labelledby":w,"data-highlighted":l?"":void 0,"aria-selected":h&&l,"data-state":h?"checked":"unchecked","aria-disabled":e||void 0,"data-disabled":e?"":void 0,tabIndex:e?void 0:-1,...s,ref:m,onFocus:Y(s.onFocus,()=>u(!0)),onBlur:Y(s.onBlur,()=>u(!1)),onClick:Y(s.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Y(s.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Y(s.onPointerDown,U=>{_.current=U.pointerType}),onPointerMove:Y(s.onPointerMove,U=>{_.current=U.pointerType,e?f.onItemLeave?.():_.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(s.onPointerLeave,U=>{U.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Y(s.onKeyDown,U=>{f.searchRef?.current!==""&&U.key===" "||(Wo.includes(U.key)&&S(),U.key===" "&&U.preventDefault())})})})})});Yn.displayName=ht;var ot="SelectItemText",Xn=C.forwardRef((n,d)=>{const{__scopeSelect:c,className:r,style:e,...t}=n,s=ke(ot,c),i=Oe(ot,c),f=Zn(ot,c),h=Zo(ot,c),[a,o]=C.useState(null),l=oe(d,S=>o(S),f.onItemTextChange,S=>i.itemTextRefCallback?.(S,f.value,f.disabled)),u=a?.textContent,m=C.useMemo(()=>y.jsx("option",{value:f.value,disabled:f.disabled,children:u},f.value),[f.disabled,f.value,u]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return De(()=>(w(m),()=>_(m)),[w,_,m]),y.jsxs(y.Fragment,{children:[y.jsx(X.span,{id:f.textId,...t,ref:l}),f.isSelected&&s.valueNode&&!s.valueNodeHasChildren?En.createPortal(t.children,s.valueNode):null]})});Xn.displayName=ot;var Jn="SelectItemIndicator",er=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n;return Zn(Jn,c).isSelected?y.jsx(X.span,{"aria-hidden":!0,...r,ref:d}):null});er.displayName=Jn;var Lt="SelectScrollUpButton",tr=C.forwardRef((n,d)=>{const c=Oe(Lt,n.__scopeSelect),r=rn(Lt,n.__scopeSelect),[e,t]=C.useState(!1),s=oe(d,r.onScrollButtonChange);return De(()=>{if(c.viewport&&c.isPositioned){let i=function(){const h=f.scrollTop>0;t(h)};const f=c.viewport;return i(),f.addEventListener("scroll",i),()=>f.removeEventListener("scroll",i)}},[c.viewport,c.isPositioned]),e?y.jsx(rr,{...n,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:f}=c;i&&f&&(i.scrollTop=i.scrollTop-f.offsetHeight)}}):null});tr.displayName=Lt;var Bt="SelectScrollDownButton",nr=C.forwardRef((n,d)=>{const c=Oe(Bt,n.__scopeSelect),r=rn(Bt,n.__scopeSelect),[e,t]=C.useState(!1),s=oe(d,r.onScrollButtonChange);return De(()=>{if(c.viewport&&c.isPositioned){let i=function(){const h=f.scrollHeight-f.clientHeight,a=Math.ceil(f.scrollTop)<h;t(a)};const f=c.viewport;return i(),f.addEventListener("scroll",i),()=>f.removeEventListener("scroll",i)}},[c.viewport,c.isPositioned]),e?y.jsx(rr,{...n,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:f}=c;i&&f&&(i.scrollTop=i.scrollTop+f.offsetHeight)}}):null});nr.displayName=Bt;var rr=C.forwardRef((n,d)=>{const{__scopeSelect:c,onAutoScroll:r,...e}=n,t=Oe("SelectScrollButton",c),s=C.useRef(null),i=Ct(c),f=C.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return C.useEffect(()=>()=>f(),[f]),De(()=>{i().find(a=>a.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[i]),y.jsx(X.div,{"aria-hidden":!0,...e,ref:d,style:{flexShrink:0,...e.style},onPointerDown:Y(e.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Y(e.onPointerMove,()=>{t.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Y(e.onPointerLeave,()=>{f()})})}),ca="SelectSeparator",da=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n;return y.jsx(X.div,{"aria-hidden":!0,...r,ref:d})});da.displayName=ca;var Ht="SelectArrow",ua=C.forwardRef((n,d)=>{const{__scopeSelect:c,...r}=n,e=At(c),t=ke(Ht,c),s=Oe(Ht,c);return t.open&&s.position==="popper"?y.jsx(jn,{...e,...r,ref:d}):null});ua.displayName=Ht;var fa="SelectBubbleInput",or=C.forwardRef(({__scopeSelect:n,value:d,...c},r)=>{const e=C.useRef(null),t=oe(r,e),s=kn(d);return C.useEffect(()=>{const i=e.current;if(!i)return;const f=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(f,"value").set;if(s!==d&&a){const o=new Event("change",{bubbles:!0});a.call(i,d),i.dispatchEvent(o)}},[s,d]),y.jsx(X.select,{...c,style:{...jo,...c.style},ref:t,defaultValue:d})});or.displayName=fa;function ar(n){return n===""||n===void 0}function ir(n){const d=To(n),c=C.useRef(""),r=C.useRef(0),e=C.useCallback(s=>{const i=c.current+s;d(i),function f(h){c.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(i)},[d]),t=C.useCallback(()=>{c.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[c,e,t]}function sr(n,d,c){const e=d.length>1&&Array.from(d).every(h=>h===d[0])?d[0]:d,t=c?n.indexOf(c):-1;let s=pa(n,Math.max(t,0));e.length===1&&(s=s.filter(h=>h!==c));const f=s.find(h=>h.textValue.toLowerCase().startsWith(e.toLowerCase()));return f!==c?f:void 0}function pa(n,d){return n.map((c,r)=>n[(d+r)%n.length])}var ha=On,ma=Un,ga=Bn,va=Hn,xa=zn,ya=$n,ba=Gn,wa=Yn,Sa=Xn,Ca=er,Aa=tr,_a=nr;function vn({...n}){return y.jsx(ha,{"data-slot":"select",...n})}function xn({...n}){return y.jsx(ga,{"data-slot":"select-value",...n})}function yn({className:n,size:d="default",children:c,...r}){return y.jsxs(ma,{"data-slot":"select-trigger","data-size":d,className:te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-12 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[c,y.jsx(va,{asChild:!0,children:y.jsx(Mn,{className:"size-4 opacity-50"})})]})}function bn({className:n,children:d,position:c="popper",...r}){return y.jsx(xa,{children:y.jsxs(ya,{"data-slot":"select-content",className:te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",c==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:c,...r,children:[y.jsx(Ea,{}),y.jsx(ba,{className:te("p-1",c==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:d}),y.jsx(Ra,{})]})})}function wn({className:n,children:d,...c}){return y.jsxs(wa,{"data-slot":"select-item",className:te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...c,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(Ca,{children:y.jsx(Tn,{className:"size-4"})})}),y.jsx(Sa,{children:d})]})}function Ea({className:n,...d}){return y.jsx(Aa,{"data-slot":"select-scroll-up-button",className:te("flex cursor-default items-center justify-center py-1",n),...d,children:y.jsx(Uo,{className:"size-4"})})}function Ra({className:n,...d}){return y.jsx(_a,{"data-slot":"select-scroll-down-button",className:te("flex cursor-default items-center justify-center py-1",n),...d,children:y.jsx(Mn,{className:"size-4"})})}var lr=["PageUp","PageDown"],cr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],dr={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Je="Slider",[zt,Ia,Na]=Nn(Je),[ur,hs]=wt(Je,[Na]),[Pa,_t]=ur(Je),fr=C.forwardRef((n,d)=>{const{name:c,min:r=0,max:e=100,step:t=1,orientation:s="horizontal",disabled:i=!1,minStepsBetweenThumbs:f=0,defaultValue:h=[r],value:a,onValueChange:o=()=>{},onValueCommit:l=()=>{},inverted:u=!1,form:m,...w}=n,_=C.useRef(new Set),S=C.useRef(0),k=s==="horizontal"?ja:Ta,[D=[],P]=it({prop:a,defaultProp:h,onChange:E=>{[..._.current][S.current]?.focus(),o(E)}}),b=C.useRef(D);function O(E){const I=Fa(D,E);R(E,I)}function g(E){R(E,S.current)}function x(){const E=b.current[S.current];D[S.current]!==E&&l(D)}function R(E,I,{commit:T}={commit:!1}){const A=Ha(t),M=za(Math.round((E-r)/t)*t+r,A),v=pt(M,[r,e]);P((p=[])=>{const L=ka(p,v,I);if(Ba(L,f*t)){S.current=L.indexOf(v);const F=String(L)!==String(p);return F&&T&&l(L),F?L:p}else return p})}return y.jsx(Pa,{scope:n.__scopeSlider,name:c,disabled:i,min:r,max:e,valueIndexToChangeRef:S,thumbs:_.current,values:D,orientation:s,form:m,children:y.jsx(zt.Provider,{scope:n.__scopeSlider,children:y.jsx(zt.Slot,{scope:n.__scopeSlider,children:y.jsx(k,{"aria-disabled":i,"data-disabled":i?"":void 0,...w,ref:d,onPointerDown:Y(w.onPointerDown,()=>{i||(b.current=D)}),min:r,max:e,inverted:u,onSlideStart:i?void 0:O,onSlideMove:i?void 0:g,onSlideEnd:i?void 0:x,onHomeKeyDown:()=>!i&&R(r,0,{commit:!0}),onEndKeyDown:()=>!i&&R(e,D.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:I})=>{if(!i){const M=lr.includes(E.key)||E.shiftKey&&cr.includes(E.key)?10:1,v=S.current,p=D[v],L=t*M*I;R(p+L,v,{commit:!0})}}})})})})});fr.displayName=Je;var[pr,hr]=ur(Je,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ja=C.forwardRef((n,d)=>{const{min:c,max:r,dir:e,inverted:t,onSlideStart:s,onSlideMove:i,onSlideEnd:f,onStepKeyDown:h,...a}=n,[o,l]=C.useState(null),u=oe(d,k=>l(k)),m=C.useRef(void 0),w=Rn(e),_=w==="ltr",S=_&&!t||!_&&t;function U(k){const D=m.current||o.getBoundingClientRect(),P=[0,D.width],O=on(P,S?[c,r]:[r,c]);return m.current=D,O(k-D.left)}return y.jsx(pr,{scope:n.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:y.jsx(mr,{dir:w,"data-orientation":"horizontal",...a,ref:u,style:{...a.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const D=U(k.clientX);s?.(D)},onSlideMove:k=>{const D=U(k.clientX);i?.(D)},onSlideEnd:()=>{m.current=void 0,f?.()},onStepKeyDown:k=>{const P=dr[S?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:P?-1:1})}})})}),Ta=C.forwardRef((n,d)=>{const{min:c,max:r,inverted:e,onSlideStart:t,onSlideMove:s,onSlideEnd:i,onStepKeyDown:f,...h}=n,a=C.useRef(null),o=oe(d,a),l=C.useRef(void 0),u=!e;function m(w){const _=l.current||a.current.getBoundingClientRect(),S=[0,_.height],k=on(S,u?[r,c]:[c,r]);return l.current=_,k(w-_.top)}return y.jsx(pr,{scope:n.__scopeSlider,startEdge:u?"bottom":"top",endEdge:u?"top":"bottom",size:"height",direction:u?1:-1,children:y.jsx(mr,{"data-orientation":"vertical",...h,ref:o,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const _=m(w.clientY);t?.(_)},onSlideMove:w=>{const _=m(w.clientY);s?.(_)},onSlideEnd:()=>{l.current=void 0,i?.()},onStepKeyDown:w=>{const S=dr[u?"from-bottom":"from-top"].includes(w.key);f?.({event:w,direction:S?-1:1})}})})}),mr=C.forwardRef((n,d)=>{const{__scopeSlider:c,onSlideStart:r,onSlideMove:e,onSlideEnd:t,onHomeKeyDown:s,onEndKeyDown:i,onStepKeyDown:f,...h}=n,a=_t(Je,c);return y.jsx(X.span,{...h,ref:d,onKeyDown:Y(n.onKeyDown,o=>{o.key==="Home"?(s(o),o.preventDefault()):o.key==="End"?(i(o),o.preventDefault()):lr.concat(cr).includes(o.key)&&(f(o),o.preventDefault())}),onPointerDown:Y(n.onPointerDown,o=>{const l=o.target;l.setPointerCapture(o.pointerId),o.preventDefault(),a.thumbs.has(l)?l.focus():r(o)}),onPointerMove:Y(n.onPointerMove,o=>{o.target.hasPointerCapture(o.pointerId)&&e(o)}),onPointerUp:Y(n.onPointerUp,o=>{const l=o.target;l.hasPointerCapture(o.pointerId)&&(l.releasePointerCapture(o.pointerId),t(o))})})}),gr="SliderTrack",vr=C.forwardRef((n,d)=>{const{__scopeSlider:c,...r}=n,e=_t(gr,c);return y.jsx(X.span,{"data-disabled":e.disabled?"":void 0,"data-orientation":e.orientation,...r,ref:d})});vr.displayName=gr;var $t="SliderRange",xr=C.forwardRef((n,d)=>{const{__scopeSlider:c,...r}=n,e=_t($t,c),t=hr($t,c),s=C.useRef(null),i=oe(d,s),f=e.values.length,h=e.values.map(l=>wr(l,e.min,e.max)),a=f>1?Math.min(...h):0,o=100-Math.max(...h);return y.jsx(X.span,{"data-orientation":e.orientation,"data-disabled":e.disabled?"":void 0,...r,ref:i,style:{...n.style,[t.startEdge]:a+"%",[t.endEdge]:o+"%"}})});xr.displayName=$t;var Vt="SliderThumb",yr=C.forwardRef((n,d)=>{const c=Ia(n.__scopeSlider),[r,e]=C.useState(null),t=oe(d,i=>e(i)),s=C.useMemo(()=>r?c().findIndex(i=>i.ref.current===r):-1,[c,r]);return y.jsx(Da,{...n,ref:t,index:s})}),Da=C.forwardRef((n,d)=>{const{__scopeSlider:c,index:r,name:e,...t}=n,s=_t(Vt,c),i=hr(Vt,c),[f,h]=C.useState(null),a=oe(d,U=>h(U)),o=f?s.form||!!f.closest("form"):!0,l=Do(f),u=s.values[r],m=u===void 0?0:wr(u,s.min,s.max),w=Oa(r,s.values.length),_=l?.[i.size],S=_?Ua(_,m,i.direction):0;return C.useEffect(()=>{if(f)return s.thumbs.add(f),()=>{s.thumbs.delete(f)}},[f,s.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${m}% + ${S}px)`},children:[y.jsx(zt.ItemSlot,{scope:n.__scopeSlider,children:y.jsx(X.span,{role:"slider","aria-label":n["aria-label"]||w,"aria-valuemin":s.min,"aria-valuenow":u,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...t,ref:a,style:u===void 0?{display:"none"}:n.style,onFocus:Y(n.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),o&&y.jsx(br,{name:e??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:u},r)]})});yr.displayName=Vt;var Ma="RadioBubbleInput",br=C.forwardRef(({__scopeSlider:n,value:d,...c},r)=>{const e=C.useRef(null),t=oe(e,r),s=kn(d);return C.useEffect(()=>{const i=e.current;if(!i)return;const f=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(f,"value").set;if(s!==d&&a){const o=new Event("input",{bubbles:!0});a.call(i,d),i.dispatchEvent(o)}},[s,d]),y.jsx(X.input,{style:{display:"none"},...c,ref:t,defaultValue:d})});br.displayName=Ma;function ka(n=[],d,c){const r=[...n];return r[c]=d,r.sort((e,t)=>e-t)}function wr(n,d,c){const t=100/(c-d)*(n-d);return pt(t,[0,100])}function Oa(n,d){return d>2?`Value ${n+1} of ${d}`:d===2?["Minimum","Maximum"][n]:void 0}function Fa(n,d){if(n.length===1)return 0;const c=n.map(e=>Math.abs(e-d)),r=Math.min(...c);return c.indexOf(r)}function Ua(n,d,c){const r=n/2,t=on([0,50],[0,r]);return(r-t(d)*c)*c}function La(n){return n.slice(0,-1).map((d,c)=>n[c+1]-d)}function Ba(n,d){if(d>0){const c=La(n);return Math.min(...c)>=d}return!0}function on(n,d){return c=>{if(n[0]===n[1]||d[0]===d[1])return d[0];const r=(d[1]-d[0])/(n[1]-n[0]);return d[0]+r*(c-n[0])}}function Ha(n){return(String(n).split(".")[1]||"").length}function za(n,d){const c=Math.pow(10,d);return Math.round(n*c)/c}var Sr=fr,$a=vr,Va=xr,Ka=yr;const Cr=C.forwardRef(({className:n,...d},c)=>y.jsxs(Sr,{ref:c,className:te("relative flex w-full touch-none select-none items-center",n),...d,children:[y.jsx($a,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:y.jsx(Va,{className:"absolute h-full bg-primary"})}),y.jsx(Ka,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Cr.displayName=Sr.displayName;var Sn=1,Wa=.9,Ga=.8,qa=.17,Tt=.1,Dt=.999,Qa=.9999,Za=.99,Ya=/[\\\/_+.#"@\[\(\{&]/,Xa=/[\\\/_+.#"@\[\(\{&]/g,Ja=/[\s-]/,Ar=/[\s-]/g;function Kt(n,d,c,r,e,t,s){if(t===d.length)return e===n.length?Sn:Za;var i=`${e},${t}`;if(s[i]!==void 0)return s[i];for(var f=r.charAt(t),h=c.indexOf(f,e),a=0,o,l,u,m;h>=0;)o=Kt(n,d,c,r,h+1,t+1,s),o>a&&(h===e?o*=Sn:Ya.test(n.charAt(h-1))?(o*=Ga,u=n.slice(e,h-1).match(Xa),u&&e>0&&(o*=Math.pow(Dt,u.length))):Ja.test(n.charAt(h-1))?(o*=Wa,m=n.slice(e,h-1).match(Ar),m&&e>0&&(o*=Math.pow(Dt,m.length))):(o*=qa,e>0&&(o*=Math.pow(Dt,h-e))),n.charAt(h)!==d.charAt(t)&&(o*=Qa)),(o<Tt&&c.charAt(h-1)===r.charAt(t+1)||r.charAt(t+1)===r.charAt(t)&&c.charAt(h-1)!==r.charAt(t))&&(l=Kt(n,d,c,r,h+1,t+2,s),l*Tt>o&&(o=l*Tt)),o>a&&(a=o),h=c.indexOf(f,h+1);return s[i]=a,a}function Cn(n){return n.toLowerCase().replace(Ar," ")}function ei(n,d,c){return n=c&&c.length>0?`${n+" "+c.join(" ")}`:n,Kt(n,d,Cn(n),Cn(d),0,0,{})}var Et="Dialog",[_r,ms]=wt(Et),[ti,Ae]=_r(Et),Er=n=>{const{__scopeDialog:d,children:c,open:r,defaultOpen:e,onOpenChange:t,modal:s=!0}=n,i=C.useRef(null),f=C.useRef(null),[h,a]=it({prop:r,defaultProp:e??!1,onChange:t,caller:Et});return y.jsx(ti,{scope:d,triggerRef:i,contentRef:f,contentId:ye(),titleId:ye(),descriptionId:ye(),open:h,onOpenChange:a,onOpenToggle:C.useCallback(()=>a(o=>!o),[a]),modal:s,children:c})};Er.displayName=Et;var Rr="DialogTrigger",ni=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(Rr,c),t=oe(d,e.triggerRef);return y.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":ln(e.open),...r,ref:t,onClick:Y(n.onClick,e.onOpenToggle)})});ni.displayName=Rr;var an="DialogPortal",[ri,Ir]=_r(an,{forceMount:void 0}),Nr=n=>{const{__scopeDialog:d,forceMount:c,children:r,container:e}=n,t=Ae(an,d);return y.jsx(ri,{scope:d,forceMount:c,children:C.Children.map(r,s=>y.jsx(st,{present:c||t.open,children:y.jsx(Yt,{asChild:!0,container:e,children:s})}))})};Nr.displayName=an;var mt="DialogOverlay",Pr=C.forwardRef((n,d)=>{const c=Ir(mt,n.__scopeDialog),{forceMount:r=c.forceMount,...e}=n,t=Ae(mt,n.__scopeDialog);return t.modal?y.jsx(st,{present:r||t.open,children:y.jsx(ai,{...e,ref:d})}):null});Pr.displayName=mt;var oi=Qt("DialogOverlay.RemoveScroll"),ai=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(mt,c);return y.jsx(en,{as:oi,allowPinchZoom:!0,shards:[e.contentRef],children:y.jsx(X.div,{"data-state":ln(e.open),...r,ref:d,style:{pointerEvents:"auto",...r.style}})})}),Ke="DialogContent",jr=C.forwardRef((n,d)=>{const c=Ir(Ke,n.__scopeDialog),{forceMount:r=c.forceMount,...e}=n,t=Ae(Ke,n.__scopeDialog);return y.jsx(st,{present:r||t.open,children:t.modal?y.jsx(ii,{...e,ref:d}):y.jsx(si,{...e,ref:d})})});jr.displayName=Ke;var ii=C.forwardRef((n,d)=>{const c=Ae(Ke,n.__scopeDialog),r=C.useRef(null),e=oe(d,c.contentRef,r);return C.useEffect(()=>{const t=r.current;if(t)return Xt(t)},[]),y.jsx(Tr,{...n,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(n.onCloseAutoFocus,t=>{t.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:Y(n.onPointerDownOutside,t=>{const s=t.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&t.preventDefault()}),onFocusOutside:Y(n.onFocusOutside,t=>t.preventDefault())})}),si=C.forwardRef((n,d)=>{const c=Ae(Ke,n.__scopeDialog),r=C.useRef(!1),e=C.useRef(!1);return y.jsx(Tr,{...n,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{n.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||c.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,e.current=!1},onInteractOutside:t=>{n.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,t.detail.originalEvent.type==="pointerdown"&&(e.current=!0));const s=t.target;c.triggerRef.current?.contains(s)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&e.current&&t.preventDefault()}})}),Tr=C.forwardRef((n,d)=>{const{__scopeDialog:c,trapFocus:r,onOpenAutoFocus:e,onCloseAutoFocus:t,...s}=n,i=Ae(Ke,c),f=C.useRef(null),h=oe(d,f);return Jt(),y.jsxs(y.Fragment,{children:[y.jsx(tn,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:e,onUnmountAutoFocus:t,children:y.jsx(nn,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":ln(i.open),...s,ref:h,onDismiss:()=>i.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(li,{titleId:i.titleId}),y.jsx(di,{contentRef:f,descriptionId:i.descriptionId})]})]})}),sn="DialogTitle",Dr=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(sn,c);return y.jsx(X.h2,{id:e.titleId,...r,ref:d})});Dr.displayName=sn;var Mr="DialogDescription",kr=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(Mr,c);return y.jsx(X.p,{id:e.descriptionId,...r,ref:d})});kr.displayName=Mr;var Or="DialogClose",Fr=C.forwardRef((n,d)=>{const{__scopeDialog:c,...r}=n,e=Ae(Or,c);return y.jsx(X.button,{type:"button",...r,ref:d,onClick:Y(n.onClick,()=>e.onOpenChange(!1))})});Fr.displayName=Or;function ln(n){return n?"open":"closed"}var Ur="DialogTitleWarning",[gs,Lr]=Mo(Ur,{contentName:Ke,titleName:sn,docsSlug:"dialog"}),li=({titleId:n})=>{const d=Lr(Ur),c=`\`${d.contentName}\` requires a \`${d.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${d.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${d.docsSlug}`;return C.useEffect(()=>{n&&(document.getElementById(n)||console.error(c))},[c,n]),null},ci="DialogDescriptionWarning",di=({contentRef:n,descriptionId:d})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lr(ci).contentName}}.`;return C.useEffect(()=>{const e=n.current?.getAttribute("aria-describedby");d&&e&&(document.getElementById(d)||console.warn(r))},[r,n,d]),null},ui=Er,Br=Nr,cn=Pr,dn=jr,Hr=Dr,zr=kr,fi=Fr,rt='[cmdk-group=""]',Mt='[cmdk-group-items=""]',pi='[cmdk-group-heading=""]',$r='[cmdk-item=""]',An=`${$r}:not([aria-disabled="true"])`,Wt="cmdk-item-select",qe="data-value",hi=(n,d,c)=>ei(n,d,c),Vr=C.createContext(void 0),ct=()=>C.useContext(Vr),Kr=C.createContext(void 0),un=()=>C.useContext(Kr),Wr=C.createContext(void 0),Gr=C.forwardRef((n,d)=>{let c=Qe(()=>{var j,z;return{search:"",value:(z=(j=n.value)!=null?j:n.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Qe(()=>new Set),e=Qe(()=>new Map),t=Qe(()=>new Map),s=Qe(()=>new Set),i=qr(n),{label:f,children:h,value:a,onValueChange:o,filter:l,shouldFilter:u,loop:m,disablePointerSelection:w=!1,vimBindings:_=!0,...S}=n,U=ye(),k=ye(),D=ye(),P=C.useRef(null),b=_i();We(()=>{if(a!==void 0){let j=a.trim();c.current.value=j,O.emit()}},[a]),We(()=>{b(6,T)},[]);let O=C.useMemo(()=>({subscribe:j=>(s.current.add(j),()=>s.current.delete(j)),snapshot:()=>c.current,setState:(j,z,B)=>{var N,V,$,W;if(!Object.is(c.current[j],z)){if(c.current[j]=z,j==="search")I(),R(),b(1,E);else if(j==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let G=document.getElementById(D);G?G.focus():(N=document.getElementById(U))==null||N.focus()}if(b(7,()=>{var G;c.current.selectedItemId=(G=A())==null?void 0:G.id,O.emit()}),B||b(5,T),((V=i.current)==null?void 0:V.value)!==void 0){let G=z??"";(W=($=i.current).onValueChange)==null||W.call($,G);return}}O.emit()}},emit:()=>{s.current.forEach(j=>j())}}),[]),g=C.useMemo(()=>({value:(j,z,B)=>{var N;z!==((N=t.current.get(j))==null?void 0:N.value)&&(t.current.set(j,{value:z,keywords:B}),c.current.filtered.items.set(j,x(z,B)),b(2,()=>{R(),O.emit()}))},item:(j,z)=>(r.current.add(j),z&&(e.current.has(z)?e.current.get(z).add(j):e.current.set(z,new Set([j]))),b(3,()=>{I(),R(),c.current.value||E(),O.emit()}),()=>{t.current.delete(j),r.current.delete(j),c.current.filtered.items.delete(j);let B=A();b(4,()=>{I(),B?.getAttribute("id")===j&&E(),O.emit()})}),group:j=>(e.current.has(j)||e.current.set(j,new Set),()=>{t.current.delete(j),e.current.delete(j)}),filter:()=>i.current.shouldFilter,label:f||n["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:U,inputId:D,labelId:k,listInnerRef:P}),[]);function x(j,z){var B,N;let V=(N=(B=i.current)==null?void 0:B.filter)!=null?N:hi;return j?V(j,c.current.search,z):0}function R(){if(!c.current.search||i.current.shouldFilter===!1)return;let j=c.current.filtered.items,z=[];c.current.filtered.groups.forEach(N=>{let V=e.current.get(N),$=0;V.forEach(W=>{let G=j.get(W);$=Math.max(G,$)}),z.push([N,$])});let B=P.current;M().sort((N,V)=>{var $,W;let G=N.getAttribute("id"),q=V.getAttribute("id");return(($=j.get(q))!=null?$:0)-((W=j.get(G))!=null?W:0)}).forEach(N=>{let V=N.closest(Mt);V?V.appendChild(N.parentElement===V?N:N.closest(`${Mt} > *`)):B.appendChild(N.parentElement===B?N:N.closest(`${Mt} > *`))}),z.sort((N,V)=>V[1]-N[1]).forEach(N=>{var V;let $=(V=P.current)==null?void 0:V.querySelector(`${rt}[${qe}="${encodeURIComponent(N[0])}"]`);$?.parentElement.appendChild($)})}function E(){let j=M().find(B=>B.getAttribute("aria-disabled")!=="true"),z=j?.getAttribute(qe);O.setState("value",z||void 0)}function I(){var j,z,B,N;if(!c.current.search||i.current.shouldFilter===!1){c.current.filtered.count=r.current.size;return}c.current.filtered.groups=new Set;let V=0;for(let $ of r.current){let W=(z=(j=t.current.get($))==null?void 0:j.value)!=null?z:"",G=(N=(B=t.current.get($))==null?void 0:B.keywords)!=null?N:[],q=x(W,G);c.current.filtered.items.set($,q),q>0&&V++}for(let[$,W]of e.current)for(let G of W)if(c.current.filtered.items.get(G)>0){c.current.filtered.groups.add($);break}c.current.filtered.count=V}function T(){var j,z,B;let N=A();N&&(((j=N.parentElement)==null?void 0:j.firstChild)===N&&((B=(z=N.closest(rt))==null?void 0:z.querySelector(pi))==null||B.scrollIntoView({block:"nearest"})),N.scrollIntoView({block:"nearest"}))}function A(){var j;return(j=P.current)==null?void 0:j.querySelector(`${$r}[aria-selected="true"]`)}function M(){var j;return Array.from(((j=P.current)==null?void 0:j.querySelectorAll(An))||[])}function v(j){let z=M()[j];z&&O.setState("value",z.getAttribute(qe))}function p(j){var z;let B=A(),N=M(),V=N.findIndex(W=>W===B),$=N[V+j];(z=i.current)!=null&&z.loop&&($=V+j<0?N[N.length-1]:V+j===N.length?N[0]:N[V+j]),$&&O.setState("value",$.getAttribute(qe))}function L(j){let z=A(),B=z?.closest(rt),N;for(;B&&!N;)B=j>0?Ci(B,rt):Ai(B,rt),N=B?.querySelector(An);N?O.setState("value",N.getAttribute(qe)):p(j)}let F=()=>v(M().length-1),H=j=>{j.preventDefault(),j.metaKey?F():j.altKey?L(1):p(1)},K=j=>{j.preventDefault(),j.metaKey?v(0):j.altKey?L(-1):p(-1)};return C.createElement(X.div,{ref:d,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:j=>{var z;(z=S.onKeyDown)==null||z.call(S,j);let B=j.nativeEvent.isComposing||j.keyCode===229;if(!(j.defaultPrevented||B))switch(j.key){case"n":case"j":{_&&j.ctrlKey&&H(j);break}case"ArrowDown":{H(j);break}case"p":case"k":{_&&j.ctrlKey&&K(j);break}case"ArrowUp":{K(j);break}case"Home":{j.preventDefault(),v(0);break}case"End":{j.preventDefault(),F();break}case"Enter":{j.preventDefault();let N=A();if(N){let V=new Event(Wt);N.dispatchEvent(V)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:g.inputId,id:g.labelId,style:Ri},f),Rt(n,j=>C.createElement(Kr.Provider,{value:O},C.createElement(Vr.Provider,{value:g},j))))}),mi=C.forwardRef((n,d)=>{var c,r;let e=ye(),t=C.useRef(null),s=C.useContext(Wr),i=ct(),f=qr(n),h=(r=(c=f.current)==null?void 0:c.forceMount)!=null?r:s?.forceMount;We(()=>{if(!h)return i.item(e,s?.id)},[h]);let a=Qr(e,t,[n.value,n.children,t],n.keywords),o=un(),l=Me(b=>b.value&&b.value===a.current),u=Me(b=>h||i.filter()===!1?!0:b.search?b.filtered.items.get(e)>0:!0);C.useEffect(()=>{let b=t.current;if(!(!b||n.disabled))return b.addEventListener(Wt,m),()=>b.removeEventListener(Wt,m)},[u,n.onSelect,n.disabled]);function m(){var b,O;w(),(O=(b=f.current).onSelect)==null||O.call(b,a.current)}function w(){o.setState("value",a.current,!0)}if(!u)return null;let{disabled:_,value:S,onSelect:U,forceMount:k,keywords:D,...P}=n;return C.createElement(X.div,{ref:at(t,d),...P,id:e,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!l,"data-disabled":!!_,"data-selected":!!l,onPointerMove:_||i.getDisablePointerSelection()?void 0:w,onClick:_?void 0:m},n.children)}),gi=C.forwardRef((n,d)=>{let{heading:c,children:r,forceMount:e,...t}=n,s=ye(),i=C.useRef(null),f=C.useRef(null),h=ye(),a=ct(),o=Me(u=>e||a.filter()===!1?!0:u.search?u.filtered.groups.has(s):!0);We(()=>a.group(s),[]),Qr(s,i,[n.value,n.heading,f]);let l=C.useMemo(()=>({id:s,forceMount:e}),[e]);return C.createElement(X.div,{ref:at(i,d),...t,"cmdk-group":"",role:"presentation",hidden:o?void 0:!0},c&&C.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},c),Rt(n,u=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":c?h:void 0},C.createElement(Wr.Provider,{value:l},u))))}),vi=C.forwardRef((n,d)=>{let{alwaysRender:c,...r}=n,e=C.useRef(null),t=Me(s=>!s.search);return!c&&!t?null:C.createElement(X.div,{ref:at(e,d),...r,"cmdk-separator":"",role:"separator"})}),xi=C.forwardRef((n,d)=>{let{onValueChange:c,...r}=n,e=n.value!=null,t=un(),s=Me(h=>h.search),i=Me(h=>h.selectedItemId),f=ct();return C.useEffect(()=>{n.value!=null&&t.setState("search",n.value)},[n.value]),C.createElement(X.input,{ref:d,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":i,id:f.inputId,type:"text",value:e?n.value:s,onChange:h=>{e||t.setState("search",h.target.value),c?.(h.target.value)}})}),yi=C.forwardRef((n,d)=>{let{children:c,label:r="Suggestions",...e}=n,t=C.useRef(null),s=C.useRef(null),i=Me(h=>h.selectedItemId),f=ct();return C.useEffect(()=>{if(s.current&&t.current){let h=s.current,a=t.current,o,l=new ResizeObserver(()=>{o=requestAnimationFrame(()=>{let u=h.offsetHeight;a.style.setProperty("--cmdk-list-height",u.toFixed(1)+"px")})});return l.observe(h),()=>{cancelAnimationFrame(o),l.unobserve(h)}}},[]),C.createElement(X.div,{ref:at(t,d),...e,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":r,id:f.listId},Rt(n,h=>C.createElement("div",{ref:at(s,f.listInnerRef),"cmdk-list-sizer":""},h)))}),bi=C.forwardRef((n,d)=>{let{open:c,onOpenChange:r,overlayClassName:e,contentClassName:t,container:s,...i}=n;return C.createElement(ui,{open:c,onOpenChange:r},C.createElement(Br,{container:s},C.createElement(cn,{"cmdk-overlay":"",className:e}),C.createElement(dn,{"aria-label":n.label,"cmdk-dialog":"",className:t},C.createElement(Gr,{ref:d,...i}))))}),wi=C.forwardRef((n,d)=>Me(c=>c.filtered.count===0)?C.createElement(X.div,{ref:d,...n,"cmdk-empty":"",role:"presentation"}):null),Si=C.forwardRef((n,d)=>{let{progress:c,children:r,label:e="Loading...",...t}=n;return C.createElement(X.div,{ref:d,...t,"cmdk-loading":"",role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100,"aria-label":e},Rt(n,s=>C.createElement("div",{"aria-hidden":!0},s)))}),ge=Object.assign(Gr,{List:yi,Item:mi,Input:xi,Group:gi,Separator:vi,Dialog:bi,Empty:wi,Loading:Si});function Ci(n,d){let c=n.nextElementSibling;for(;c;){if(c.matches(d))return c;c=c.nextElementSibling}}function Ai(n,d){let c=n.previousElementSibling;for(;c;){if(c.matches(d))return c;c=c.previousElementSibling}}function qr(n){let d=C.useRef(n);return We(()=>{d.current=n}),d}var We=typeof window>"u"?C.useEffect:C.useLayoutEffect;function Qe(n){let d=C.useRef();return d.current===void 0&&(d.current=n()),d}function Me(n){let d=un(),c=()=>n(d.snapshot());return C.useSyncExternalStore(d.subscribe,c,c)}function Qr(n,d,c,r=[]){let e=C.useRef(),t=ct();return We(()=>{var s;let i=(()=>{var h;for(let a of c){if(typeof a=="string")return a.trim();if(typeof a=="object"&&"current"in a)return a.current?(h=a.current.textContent)==null?void 0:h.trim():e.current}})(),f=r.map(h=>h.trim());t.value(n,i,f),(s=d.current)==null||s.setAttribute(qe,i),e.current=i}),e}var _i=()=>{let[n,d]=C.useState(),c=Qe(()=>new Map);return We(()=>{c.current.forEach(r=>r()),c.current=new Map},[n]),(r,e)=>{c.current.set(r,e),d({})}};function Ei(n){let d=n.type;return typeof d=="function"?d(n.props):"render"in d?d.render(n.props):n}function Rt({asChild:n,children:d},c){return n&&C.isValidElement(d)?C.cloneElement(Ei(d),{ref:d.ref},c(d.props.children)):c(d)}var Ri={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ii=Br,Zr=C.forwardRef(({className:n,...d},c)=>y.jsx(cn,{ref:c,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...d}));Zr.displayName=cn.displayName;const Ni=C.forwardRef(({className:n,children:d,...c},r)=>y.jsxs(Ii,{children:[y.jsx(Zr,{}),y.jsxs(dn,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[12%] data-[state=open]:slide-in-from-top-[12%] sm:rounded-lg",n),...c,children:[d,y.jsxs(fi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(Vo,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ni.displayName=dn.displayName;const Pi=C.forwardRef(({className:n,...d},c)=>y.jsx(Hr,{ref:c,className:te("text-lg font-semibold leading-none tracking-tight",n),...d}));Pi.displayName=Hr.displayName;const ji=C.forwardRef(({className:n,...d},c)=>y.jsx(zr,{ref:c,className:te("text-sm text-muted-foreground",n),...d}));ji.displayName=zr.displayName;const Yr=C.forwardRef(({className:n,...d},c)=>y.jsx(ge,{ref:c,className:te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...d}));Yr.displayName=ge.displayName;const Xr=C.forwardRef(({className:n,...d},c)=>y.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[y.jsx(zo,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),y.jsx(ge.Input,{ref:c,className:te("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...d})]}));Xr.displayName=ge.Input.displayName;const Jr=C.forwardRef(({className:n,...d},c)=>y.jsx(ge.List,{ref:c,className:te("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...d}));Jr.displayName=ge.List.displayName;const eo=C.forwardRef((n,d)=>y.jsx(ge.Empty,{ref:d,className:"py-6 text-center text-sm",...n}));eo.displayName=ge.Empty.displayName;const to=C.forwardRef(({className:n,...d},c)=>y.jsx(ge.Group,{ref:c,className:te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...d}));to.displayName=ge.Group.displayName;const Ti=C.forwardRef(({className:n,...d},c)=>y.jsx(ge.Separator,{ref:c,className:te("-mx-1 h-px bg-border",n),...d}));Ti.displayName=ge.Separator.displayName;const Gt=C.forwardRef(({className:n,...d},c)=>y.jsx(ge.Item,{ref:c,className:te("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n),...d}));Gt.displayName=ge.Item.displayName;var It="Popover",[no,vs]=wt(It,[bt]),dt=bt(),[Di,Fe]=no(It),ro=n=>{const{__scopePopover:d,children:c,open:r,defaultOpen:e,onOpenChange:t,modal:s=!1}=n,i=dt(d),f=C.useRef(null),[h,a]=C.useState(!1),[o,l]=it({prop:r,defaultProp:e??!1,onChange:t,caller:It});return y.jsx(In,{...i,children:y.jsx(Di,{scope:d,contentId:ye(),triggerRef:f,open:o,onOpenChange:l,onOpenToggle:C.useCallback(()=>l(u=>!u),[l]),hasCustomAnchor:h,onCustomAnchorAdd:C.useCallback(()=>a(!0),[]),onCustomAnchorRemove:C.useCallback(()=>a(!1),[]),modal:s,children:c})})};ro.displayName=It;var oo="PopoverAnchor",Mi=C.forwardRef((n,d)=>{const{__scopePopover:c,...r}=n,e=Fe(oo,c),t=dt(c),{onCustomAnchorAdd:s,onCustomAnchorRemove:i}=e;return C.useEffect(()=>(s(),()=>i()),[s,i]),y.jsx(Zt,{...t,...r,ref:d})});Mi.displayName=oo;var ao="PopoverTrigger",io=C.forwardRef((n,d)=>{const{__scopePopover:c,...r}=n,e=Fe(ao,c),t=dt(c),s=oe(d,e.triggerRef),i=y.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":fo(e.open),...r,ref:s,onClick:Y(n.onClick,e.onOpenToggle)});return e.hasCustomAnchor?i:y.jsx(Zt,{asChild:!0,...t,children:i})});io.displayName=ao;var fn="PopoverPortal",[ki,Oi]=no(fn,{forceMount:void 0}),so=n=>{const{__scopePopover:d,forceMount:c,children:r,container:e}=n,t=Fe(fn,d);return y.jsx(ki,{scope:d,forceMount:c,children:y.jsx(st,{present:c||t.open,children:y.jsx(Yt,{asChild:!0,container:e,children:r})})})};so.displayName=fn;var Ye="PopoverContent",lo=C.forwardRef((n,d)=>{const c=Oi(Ye,n.__scopePopover),{forceMount:r=c.forceMount,...e}=n,t=Fe(Ye,n.__scopePopover);return y.jsx(st,{present:r||t.open,children:t.modal?y.jsx(Ui,{...e,ref:d}):y.jsx(Li,{...e,ref:d})})});lo.displayName=Ye;var Fi=Qt("PopoverContent.RemoveScroll"),Ui=C.forwardRef((n,d)=>{const c=Fe(Ye,n.__scopePopover),r=C.useRef(null),e=oe(d,r),t=C.useRef(!1);return C.useEffect(()=>{const s=r.current;if(s)return Xt(s)},[]),y.jsx(en,{as:Fi,allowPinchZoom:!0,children:y.jsx(co,{...n,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(n.onCloseAutoFocus,s=>{s.preventDefault(),t.current||c.triggerRef.current?.focus()}),onPointerDownOutside:Y(n.onPointerDownOutside,s=>{const i=s.detail.originalEvent,f=i.button===0&&i.ctrlKey===!0,h=i.button===2||f;t.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Y(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Li=C.forwardRef((n,d)=>{const c=Fe(Ye,n.__scopePopover),r=C.useRef(!1),e=C.useRef(!1);return y.jsx(co,{...n,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{n.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||c.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,e.current=!1},onInteractOutside:t=>{n.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,t.detail.originalEvent.type==="pointerdown"&&(e.current=!0));const s=t.target;c.triggerRef.current?.contains(s)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&e.current&&t.preventDefault()}})}),co=C.forwardRef((n,d)=>{const{__scopePopover:c,trapFocus:r,onOpenAutoFocus:e,onCloseAutoFocus:t,disableOutsidePointerEvents:s,onEscapeKeyDown:i,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:a,...o}=n,l=Fe(Ye,c),u=dt(c);return Jt(),y.jsx(tn,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:e,onUnmountAutoFocus:t,children:y.jsx(nn,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:a,onEscapeKeyDown:i,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>l.onOpenChange(!1),children:y.jsx(Pn,{"data-state":fo(l.open),role:"dialog",id:l.contentId,...u,...o,ref:d,style:{...o.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),uo="PopoverClose",Bi=C.forwardRef((n,d)=>{const{__scopePopover:c,...r}=n,e=Fe(uo,c);return y.jsx(X.button,{type:"button",...r,ref:d,onClick:Y(n.onClick,()=>e.onOpenChange(!1))})});Bi.displayName=uo;var Hi="PopoverArrow",zi=C.forwardRef((n,d)=>{const{__scopePopover:c,...r}=n,e=dt(c);return y.jsx(jn,{...e,...r,ref:d})});zi.displayName=Hi;function fo(n){return n?"open":"closed"}var $i=ro,Vi=io,Ki=so,po=lo;const Wi=$i,Gi=Vi,ho=C.forwardRef(({className:n,align:d="center",sideOffset:c=4,...r},e)=>y.jsx(Ki,{children:y.jsx(po,{ref:e,align:d,sideOffset:c,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",n),...r})}));ho.displayName=po.displayName;function qi({options:n,value:d,onChange:c,placeholder:r="Zutat auswÃ¤hlen oder neu anlegen",triggerClassName:e}){const[t,s]=C.useState(!1),[i,f]=C.useState(""),h=C.useMemo(()=>n.find(m=>m.id===d)??null,[n,d]),a=h?h.name:d||r,o=m=>n.some(w=>w.name.trim().toLowerCase()===m.trim().toLowerCase()),l=i.trim().length>0&&!o(i);function u(m){if(m.startsWith("id:")){const _=m.match(/^id:([^\s]+)\s?.*$/)?.[1]??"";_&&c(_)}else if(m.startsWith("create:")){const w=m.slice(7).trim();w&&c(w)}s(!1)}return y.jsxs(Wi,{open:t,onOpenChange:s,children:[y.jsx(Gi,{asChild:!0,children:y.jsxs(Ne,{variant:"outline",role:"combobox","aria-expanded":t,className:te("w-72 justify-between",e),children:[y.jsx("span",{className:te(!h&&!d&&"text-muted-foreground"),children:a}),y.jsx(Bo,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),y.jsx(ho,{className:"w-80 p-0",children:y.jsxs(Yr,{children:[y.jsx(Xr,{placeholder:"Zutat suchen oder neu anlegen",value:i,onValueChange:f,className:"my-4 focus:border-primary focus:ring-primary"}),y.jsxs(Jr,{children:[l&&y.jsxs(Gt,{value:`create:${i}`,onSelect:u,children:['Neu erstellen: "',i,'"']},`create-${i}`),y.jsx(eo,{children:"Keine Zutat gefunden."}),y.jsx(to,{children:n.map(m=>{const w=`id:${m.id} ${m.name}`,_=h?.id===m.id;return y.jsxs(Gt,{value:w,onSelect:u,children:[y.jsx(Tn,{className:te("mr-2 h-4 w-4",_?"opacity-100":"opacity-0")}),m.name]},m.id)})})]})]})})]})}function Qi(n,d){return d.forEach(function(c){c&&typeof c!="string"&&!Array.isArray(c)&&Object.keys(c).forEach(function(r){if(r!=="default"&&!(r in n)){var e=Object.getOwnPropertyDescriptor(c,r);Object.defineProperty(n,r,e.get?e:{enumerable:!0,get:function(){return c[r]}})}})}),Object.freeze(n)}function mo(n,d){return new Promise(function(c,r){let e;return Zi(n).then(function(t){try{return e=t,c(new Blob([d.slice(0,2),e,d.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const Zi=n=>new Promise((d,c)=>{const r=new FileReader;r.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let s=0;if(t.getUint16(s)!==65496)return c("not a valid JPEG");for(s+=2;;){const i=t.getUint16(s);if(i===65498)break;const f=t.getUint16(s+2);if(i===65505&&t.getUint32(s+4)===1165519206){const h=s+10;let a;switch(t.getUint16(h)){case 18761:a=!0;break;case 19789:a=!1;break;default:return c("TIFF header contains invalid endian")}if(t.getUint16(h+2,a)!==42)return c("TIFF header contains invalid version");const o=t.getUint32(h+4,a),l=h+o+2+12*t.getUint16(h+o,a);for(let u=h+o+2;u<l;u+=12)if(t.getUint16(u,a)==274){if(t.getUint16(u+2,a)!==3)return c("Orientation data type is invalid");if(t.getUint32(u+4,a)!==1)return c("Orientation data count is invalid");t.setUint16(u+8,1,a);break}return d(e.slice(s,s+2+f))}s+=2+f}return d(new Blob)}),r.readAsArrayBuffer(n)});var gt={},Yi={get exports(){return gt},set exports(n){gt=n}};(function(n){var d,c,r={};Yi.exports=r,r.parse=function(e,t){for(var s=r.bin.readUshort,i=r.bin.readUint,f=0,h={},a=new Uint8Array(e),o=a.length-4;i(a,o)!=101010256;)o--;f=o,f+=4;var l=s(a,f+=4);s(a,f+=2);var u=i(a,f+=2),m=i(a,f+=4);f+=4,f=m;for(var w=0;w<l;w++){i(a,f),f+=4,f+=4,f+=4,i(a,f+=4),u=i(a,f+=4);var _=i(a,f+=4),S=s(a,f+=4),U=s(a,f+2),k=s(a,f+4);f+=6;var D=i(a,f+=8);f+=4,f+=S+U+k,r._readLocal(a,D,h,u,_,t)}return h},r._readLocal=function(e,t,s,i,f,h){var a=r.bin.readUshort,o=r.bin.readUint;o(e,t),a(e,t+=4),a(e,t+=2);var l=a(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var u=a(e,t+=8),m=a(e,t+=2);t+=2;var w=r.bin.readUTF8(e,t,u);if(t+=u,t+=m,h)s[w]={size:f,csize:i};else{var _=new Uint8Array(e.buffer,t);if(l==0)s[w]=new Uint8Array(_.buffer.slice(t,t+i));else{if(l!=8)throw"unknown compression method: "+l;var S=new Uint8Array(f);r.inflateRaw(_,S),s[w]=S}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){t==null&&(t={level:6});var s=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[s]=120,i[s+1]=156,s+=2,s=r.F.deflateRaw(e,i,s,t.level);var f=r.adler(e,0,e.length);return i[s+0]=f>>>24&255,i[s+1]=f>>>16&255,i[s+2]=f>>>8&255,i[s+3]=f>>>0&255,new Uint8Array(i.buffer,0,s+4)},r.deflateRaw=function(e,t){t==null&&(t={level:6});var s=new Uint8Array(50+Math.floor(1.1*e.length)),i=r.F.deflateRaw(e,s,i,t.level);return new Uint8Array(s.buffer,0,i)},r.encode=function(e,t){t==null&&(t=!1);var s=0,i=r.bin.writeUint,f=r.bin.writeUshort,h={};for(var a in e){var o=!r._noNeed(a)&&!t,l=e[a],u=r.crc.crc(l,0,l.length);h[a]={cpr:o,usize:l.length,crc:u,file:o?r.deflateRaw(l):l}}for(var a in h)s+=h[a].file.length+30+46+2*r.bin.sizeUTF8(a);s+=22;var m=new Uint8Array(s),w=0,_=[];for(var a in h){var S=h[a];_.push(w),w=r._writeHeader(m,w,a,S,0)}var U=0,k=w;for(var a in h)S=h[a],_.push(w),w=r._writeHeader(m,w,a,S,1,_[U++]);var D=w-k;return i(m,w,101010256),w+=4,f(m,w+=4,U),f(m,w+=2,U),i(m,w+=2,D),i(m,w+=4,k),w+=4,w+=2,m.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},r._writeHeader=function(e,t,s,i,f,h){var a=r.bin.writeUint,o=r.bin.writeUshort,l=i.file;return a(e,t,f==0?67324752:33639248),t+=4,f==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,i.cpr?8:0),a(e,t+=2,0),a(e,t+=4,i.crc),a(e,t+=4,l.length),a(e,t+=4,i.usize),o(e,t+=4,r.bin.sizeUTF8(s)),o(e,t+=2,0),t+=2,f==1&&(t+=2,t+=2,a(e,t+=6,h),t+=4),t+=r.bin.writeUTF8(e,t,s),f==0&&(e.set(l,t),t+=l.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var s=t,i=0;i<8;i++)1&s?s=3988292384^s>>>1:s>>>=1;e[t]=s}return e}(),update:function(e,t,s,i){for(var f=0;f<i;f++)e=r.crc.table[255&(e^t[s+f])]^e>>>8;return e},crc:function(e,t,s){return 4294967295^r.crc.update(4294967295,e,t,s)}},r.adler=function(e,t,s){for(var i=1,f=0,h=t,a=t+s;h<a;){for(var o=Math.min(h+5552,a);h<o;)f+=i+=e[h++];i%=65521,f%=65521}return f<<16|i},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255,e[t+2]=s>>16&255,e[t+3]=s>>24&255},readASCII:function(e,t,s){for(var i="",f=0;f<s;f++)i+=String.fromCharCode(e[t+f]);return i},writeASCII:function(e,t,s){for(var i=0;i<s.length;i++)e[t+i]=s.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,s){for(var i,f="",h=0;h<s;h++)f+="%"+r.bin.pad(e[t+h].toString(16));try{i=decodeURIComponent(f)}catch{return r.bin.readASCII(e,t,s)}return i},writeUTF8:function(e,t,s){for(var i=s.length,f=0,h=0;h<i;h++){var a=s.charCodeAt(h);if((4294967168&a)==0)e[t+f]=a,f++;else if((4294965248&a)==0)e[t+f]=192|a>>6,e[t+f+1]=128|a>>0&63,f+=2;else if((4294901760&a)==0)e[t+f]=224|a>>12,e[t+f+1]=128|a>>6&63,e[t+f+2]=128|a>>0&63,f+=3;else{if((4292870144&a)!=0)throw"e";e[t+f]=240|a>>18,e[t+f+1]=128|a>>12&63,e[t+f+2]=128|a>>6&63,e[t+f+3]=128|a>>0&63,f+=4}}return f},sizeUTF8:function(e){for(var t=e.length,s=0,i=0;i<t;i++){var f=e.charCodeAt(i);if((4294967168&f)==0)s++;else if((4294965248&f)==0)s+=2;else if((4294901760&f)==0)s+=3;else{if((4292870144&f)!=0)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(e,t,s,i){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],h=r.F.U,a=r.F._goodIndex;r.F._hash;var o=r.F._putsE,l=0,u=s<<3,m=0,w=e.length;if(i==0){for(;l<w;)o(t,u,l+(E=Math.min(65535,w-l))==w?1:0),u=r.F._copyExact(e,l,E,t,u+8),l+=E;return u>>>3}var _=h.lits,S=h.strt,U=h.prev,k=0,D=0,P=0,b=0,O=0,g=0;for(w>2&&(S[g=r.F._hash(e,0)]=0),l=0;l<w;l++){if(O=g,l+1<w-2){g=r.F._hash(e,l+1);var x=l+1&32767;U[x]=S[g],S[g]=x}if(m<=l){(k>14e3||D>26697)&&w-l>100&&(m<l&&(_[k]=l-m,k+=2,m=l),u=r.F._writeBlock(l==w-1||m==w?1:0,_,k,b,e,P,l-P,t,u),k=D=b=0,P=l);var R=0;l<w-2&&(R=r.F._bestMatch(e,l,U,O,Math.min(f[2],w-l),f[3]));var E=R>>>16,I=65535&R;if(R!=0){I=65535&R;var T=a(E=R>>>16,h.of0);h.lhst[257+T]++;var A=a(I,h.df0);h.dhst[A]++,b+=h.exb[T]+h.dxb[A],_[k]=E<<23|l-m,_[k+1]=I<<16|T<<8|A,k+=2,m=l+E}else h.lhst[e[l]]++;D++}}for(P==l&&e.length!=0||(m<l&&(_[k]=l-m,k+=2,m=l),u=r.F._writeBlock(1,_,k,b,e,P,l-P,t,u),k=0,D=0,k=D=b=0,P=l);(7&u)!=0;)u++;return u>>>3},r.F._bestMatch=function(e,t,s,i,f,h){var a=32767&t,o=s[a],l=a-o+32768&32767;if(o==a||i!=r.F._hash(e,t-l))return 0;for(var u=0,m=0,w=Math.min(32767,t);l<=w&&--h!=0&&o!=a;){if(u==0||e[t+u]==e[t+u-l]){var _=r.F._howLong(e,t,l);if(_>u){if(m=l,(u=_)>=f)break;l+2<_&&(_=l+2);for(var S=0,U=0;U<_-2;U++){var k=t-l+U+32768&32767,D=k-s[k]+32768&32767;D>S&&(S=D,o=k)}}}l+=(a=o)-(o=s[a])+32768&32767}return u<<16|m},r.F._howLong=function(e,t,s){if(e[t]!=e[t-s]||e[t+1]!=e[t+1-s]||e[t+2]!=e[t+2-s])return 0;var i=t,f=Math.min(e.length,t+258);for(t+=3;t<f&&e[t]==e[t-s];)t++;return t-i},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,s,i,f,h,a,o,l){var u,m,w,_,S,U,k,D,P,b=r.F.U,O=r.F._putsF,g=r.F._putsE;b.lhst[256]++,m=(u=r.F.getTrees())[0],w=u[1],_=u[2],S=u[3],U=u[4],k=u[5],D=u[6],P=u[7];var x=32+((l+3&7)==0?0:8-(l+3&7))+(a<<3),R=i+r.F.contSize(b.fltree,b.lhst)+r.F.contSize(b.fdtree,b.dhst),E=i+r.F.contSize(b.ltree,b.lhst)+r.F.contSize(b.dtree,b.dhst);E+=14+3*k+r.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var I=0;I<286;I++)b.lhst[I]=0;for(I=0;I<30;I++)b.dhst[I]=0;for(I=0;I<19;I++)b.ihst[I]=0;var T=x<R&&x<E?0:R<E?1:2;if(O(o,l,e),O(o,l+1,T),l+=3,T==0){for(;(7&l)!=0;)l++;l=r.F._copyExact(f,h,a,o,l)}else{var A,M;if(T==1&&(A=b.fltree,M=b.fdtree),T==2){r.F.makeCodes(b.ltree,m),r.F.revCodes(b.ltree,m),r.F.makeCodes(b.dtree,w),r.F.revCodes(b.dtree,w),r.F.makeCodes(b.itree,_),r.F.revCodes(b.itree,_),A=b.ltree,M=b.dtree,g(o,l,S-257),g(o,l+=5,U-1),g(o,l+=5,k-4),l+=4;for(var v=0;v<k;v++)g(o,l+3*v,b.itree[1+(b.ordr[v]<<1)]);l+=3*k,l=r.F._codeTiny(D,b.itree,o,l),l=r.F._codeTiny(P,b.itree,o,l)}for(var p=h,L=0;L<s;L+=2){for(var F=t[L],H=F>>>23,K=p+(8388607&F);p<K;)l=r.F._writeLit(f[p++],A,o,l);if(H!=0){var j=t[L+1],z=j>>16,B=j>>8&255,N=255&j;g(o,l=r.F._writeLit(257+B,A,o,l),H-b.of0[B]),l+=b.exb[B],O(o,l=r.F._writeLit(N,M,o,l),z-b.df0[N]),l+=b.dxb[N],p+=H}}l=r.F._writeLit(256,A,o,l)}return l},r.F._copyExact=function(e,t,s,i,f){var h=f>>>3;return i[h]=s,i[h+1]=s>>>8,i[h+2]=255-i[h],i[h+3]=255-i[h+1],h+=4,i.set(new Uint8Array(e.buffer,t,s),h),f+(s+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),s=r.F._hufTree(e.dhst,e.dtree,15),i=[],f=r.F._lenCodes(e.ltree,i),h=[],a=r.F._lenCodes(e.dtree,h),o=0;o<i.length;o+=2)e.ihst[i[o]]++;for(o=0;o<h.length;o+=2)e.ihst[h[o]]++;for(var l=r.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[t,s,l,f,a,u,i,h]},r.F.getSecond=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(e[s+1]);return t},r.F.nonZero=function(e){for(var t="",s=0;s<e.length;s+=2)e[s+1]!=0&&(t+=(s>>1)+",");return t},r.F.contSize=function(e,t){for(var s=0,i=0;i<t.length;i++)s+=t[i]*e[1+(i<<1)];return s},r.F._codeTiny=function(e,t,s,i){for(var f=0;f<e.length;f+=2){var h=e[f],a=e[f+1];i=r.F._writeLit(h,t,s,i);var o=h==16?2:h==17?3:7;h>15&&(r.F._putsE(s,i,a,o),i+=o)}return i},r.F._lenCodes=function(e,t){for(var s=e.length;s!=2&&e[s-1]==0;)s-=2;for(var i=0;i<s;i+=2){var f=e[i+1],h=i+3<s?e[i+3]:-1,a=i+5<s?e[i+5]:-1,o=i==0?-1:e[i-1];if(f==0&&h==f&&a==f){for(var l=i+5;l+2<s&&e[l+2]==f;)l+=2;(u=Math.min(l+1-i>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),i+=2*u-2}else if(f==o&&h==f&&a==f){for(l=i+5;l+2<s&&e[l+2]==f;)l+=2;var u=Math.min(l+1-i>>>1,6);t.push(16,u-3),i+=2*u-2}else t.push(f,0)}return s>>>1},r.F._hufTree=function(e,t,s){var i=[],f=e.length,h=t.length,a=0;for(a=0;a<h;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<f;a++)e[a]!=0&&i.push({lit:a,f:e[a]});var o=i.length,l=i.slice(0);if(o==0)return 0;if(o==1){var u=i[0].lit;return l=u==0?1:0,t[1+(u<<1)]=1,t[1+(l<<1)]=1,1}i.sort(function(D,P){return D.f-P.f});var m=i[0],w=i[1],_=0,S=1,U=2;for(i[0]={lit:-1,f:m.f+w.f,l:m,r:w,d:0};S!=o-1;)m=_!=S&&(U==o||i[_].f<i[U].f)?i[_++]:i[U++],w=_!=S&&(U==o||i[_].f<i[U].f)?i[_++]:i[U++],i[S++]={lit:-1,f:m.f+w.f,l:m,r:w};var k=r.F.setDepth(i[S-1],0);for(k>s&&(r.F.restrictDepth(l,s,k),k=s),a=0;a<o;a++)t[1+(l[a].lit<<1)]=l[a].d;return k},r.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,s){var i=0,f=1<<s-t,h=0;for(e.sort(function(o,l){return l.d==o.d?o.f-l.f:l.d-o.d}),i=0;i<e.length&&e[i].d>t;i++){var a=e[i].d;e[i].d=t,h+=f-(1<<s-a)}for(h>>>=s-t;h>0;)(a=e[i].d)<t?(e[i].d++,h-=1<<t-a-1):i++;for(;i>=0;i--)e[i].d==t&&h<0&&(e[i].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(e,t){var s=0;return t[16|s]<=e&&(s|=16),t[8|s]<=e&&(s|=8),t[4|s]<=e&&(s|=4),t[2|s]<=e&&(s|=2),t[1|s]<=e&&(s|=1),s},r.F._writeLit=function(e,t,s,i){return r.F._putsF(s,i,t[e<<1]),i+t[1+(e<<1)]},r.F.inflate=function(e,t){var s=Uint8Array;if(e[0]==3&&e[1]==0)return t||new s(0);var i=r.F,f=i._bitsF,h=i._bitsE,a=i._decodeTiny,o=i.makeCodes,l=i.codes2map,u=i._get17,m=i.U,w=t==null;w&&(t=new s(e.length>>>2<<3));for(var _,S,U=0,k=0,D=0,P=0,b=0,O=0,g=0,x=0,R=0;U==0;)if(U=f(e,R,1),k=f(e,R+1,2),R+=3,k!=0){if(w&&(t=r.F._check(t,x+(1<<17))),k==1&&(_=m.flmap,S=m.fdmap,O=511,g=31),k==2){D=h(e,R,5)+257,P=h(e,R+5,5)+1,b=h(e,R+10,4)+4,R+=14;for(var E=0;E<38;E+=2)m.itree[E]=0,m.itree[E+1]=0;var I=1;for(E=0;E<b;E++){var T=h(e,R+3*E,3);m.itree[1+(m.ordr[E]<<1)]=T,T>I&&(I=T)}R+=3*b,o(m.itree,I),l(m.itree,I,m.imap),_=m.lmap,S=m.dmap,R=a(m.imap,(1<<I)-1,D+P,e,R,m.ttree);var A=i._copyOut(m.ttree,0,D,m.ltree);O=(1<<A)-1;var M=i._copyOut(m.ttree,D,P,m.dtree);g=(1<<M)-1,o(m.ltree,A),l(m.ltree,A,_),o(m.dtree,M),l(m.dtree,M,S)}for(;;){var v=_[u(e,R)&O];R+=15&v;var p=v>>>4;if(!(p>>>8))t[x++]=p;else{if(p==256)break;var L=x+p-254;if(p>264){var F=m.ldef[p-257];L=x+(F>>>3)+h(e,R,7&F),R+=7&F}var H=S[u(e,R)&g];R+=15&H;var K=H>>>4,j=m.ddef[K],z=(j>>>4)+f(e,R,15&j);for(R+=15&j,w&&(t=r.F._check(t,x+(1<<17)));x<L;)t[x]=t[x++-z],t[x]=t[x++-z],t[x]=t[x++-z],t[x]=t[x++-z];x=L}}}else{(7&R)!=0&&(R+=8-(7&R));var B=4+(R>>>3),N=e[B-4]|e[B-3]<<8;w&&(t=r.F._check(t,x+N)),t.set(new s(e.buffer,e.byteOffset+B,N),x),R=B+N<<3,x+=N}return t.length==x?t:t.slice(0,x)},r.F._check=function(e,t){var s=e.length;if(t<=s)return e;var i=new Uint8Array(Math.max(s<<1,t));return i.set(e,0),i},r.F._decodeTiny=function(e,t,s,i,f,h){for(var a=r.F._bitsE,o=r.F._get17,l=0;l<s;){var u=e[o(i,f)&t];f+=15&u;var m=u>>>4;if(m<=15)h[l]=m,l++;else{var w=0,_=0;m==16?(_=3+a(i,f,2),f+=2,w=h[l-1]):m==17?(_=3+a(i,f,3),f+=3):m==18&&(_=11+a(i,f,7),f+=7);for(var S=l+_;l<S;)h[l]=w,l++}}return f},r.F._copyOut=function(e,t,s,i){for(var f=0,h=0,a=i.length>>>1;h<s;){var o=e[h+t];i[h<<1]=0,i[1+(h<<1)]=o,o>f&&(f=o),h++}for(;h<a;)i[h<<1]=0,i[1+(h<<1)]=0,h++;return f},r.F.makeCodes=function(e,t){for(var s,i,f,h,a=r.F.U,o=e.length,l=a.bl_count,u=0;u<=t;u++)l[u]=0;for(u=1;u<o;u+=2)l[e[u]]++;var m=a.next_code;for(s=0,l[0]=0,i=1;i<=t;i++)s=s+l[i-1]<<1,m[i]=s;for(f=0;f<o;f+=2)(h=e[f+1])!=0&&(e[f]=m[h],m[h]++)},r.F.codes2map=function(e,t,s){for(var i=e.length,f=r.F.U.rev15,h=0;h<i;h+=2)if(e[h+1]!=0)for(var a=h>>1,o=e[h+1],l=a<<4|o,u=t-o,m=e[h]<<u,w=m+(1<<u);m!=w;)s[f[m]>>>15-t]=l,m++},r.F.revCodes=function(e,t){for(var s=r.F.U.rev15,i=15-t,f=0;f<e.length;f+=2){var h=e[f]<<t-e[f+1];e[f]=s[h]>>>i}},r.F._putsE=function(e,t,s){s<<=7&t;var i=t>>>3;e[i]|=s,e[i+1]|=s>>>8},r.F._putsF=function(e,t,s){s<<=7&t;var i=t>>>3;e[i]|=s,e[i+1]|=s>>>8,e[i+2]|=s>>>16},r.F._bitsE=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<s)-1},r.F._bitsF=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<s)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(d=Uint16Array,c=Uint32Array,{next_code:new d(16),bl_count:new d(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new d(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new c(32),flmap:new d(512),fltree:[],fdmap:new d(32),fdtree:[],lmap:new d(32768),ltree:[],ttree:[],dmap:new d(32768),dtree:[],imap:new d(512),itree:[],rev15:new d(32768),lhst:new c(286),dhst:new c(30),ihst:new c(19),lits:new c(15e3),strt:new d(65536),prev:new d(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var s=t;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,e.rev15[t]=(s>>>16|s<<16)>>>17}function i(f,h,a){for(;h--!=0;)f.push(0,a)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),i(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}()})();var Xi=Qi({__proto__:null,default:gt},[gt]);const Se=function(){var n={nextZero(a,o){for(;a[o]!=0;)o++;return o},readUshort:(a,o)=>a[o]<<8|a[o+1],writeUshort(a,o,l){a[o]=l>>8&255,a[o+1]=255&l},readUint:(a,o)=>16777216*a[o]+(a[o+1]<<16|a[o+2]<<8|a[o+3]),writeUint(a,o,l){a[o]=l>>24&255,a[o+1]=l>>16&255,a[o+2]=l>>8&255,a[o+3]=255&l},readASCII(a,o,l){let u="";for(let m=0;m<l;m++)u+=String.fromCharCode(a[o+m]);return u},writeASCII(a,o,l){for(let u=0;u<l.length;u++)a[o+u]=l.charCodeAt(u)},readBytes(a,o,l){const u=[];for(let m=0;m<l;m++)u.push(a[o+m]);return u},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,o,l){let u,m="";for(let w=0;w<l;w++)m+=`%${n.pad(a[o+w].toString(16))}`;try{u=decodeURIComponent(m)}catch{return n.readASCII(a,o,l)}return u}};function d(a,o,l,u){const m=o*l,w=t(u),_=Math.ceil(o*w/8),S=new Uint8Array(4*m),U=new Uint32Array(S.buffer),{ctype:k}=u,{depth:D}=u,P=n.readUshort;if(k==6){const F=m<<2;if(D==8)for(var b=0;b<F;b+=4)S[b]=a[b],S[b+1]=a[b+1],S[b+2]=a[b+2],S[b+3]=a[b+3];if(D==16)for(b=0;b<F;b++)S[b]=a[b<<1]}else if(k==2){const F=u.tabs.tRNS;if(F==null){if(D==8)for(b=0;b<m;b++){var O=3*b;U[b]=255<<24|a[O+2]<<16|a[O+1]<<8|a[O]}if(D==16)for(b=0;b<m;b++)O=6*b,U[b]=255<<24|a[O+4]<<16|a[O+2]<<8|a[O]}else{var g=F[0];const H=F[1],K=F[2];if(D==8)for(b=0;b<m;b++){var x=b<<2;O=3*b,U[b]=255<<24|a[O+2]<<16|a[O+1]<<8|a[O],a[O]==g&&a[O+1]==H&&a[O+2]==K&&(S[x+3]=0)}if(D==16)for(b=0;b<m;b++)x=b<<2,O=6*b,U[b]=255<<24|a[O+4]<<16|a[O+2]<<8|a[O],P(a,O)==g&&P(a,O+2)==H&&P(a,O+4)==K&&(S[x+3]=0)}}else if(k==3){const F=u.tabs.PLTE,H=u.tabs.tRNS,K=H?H.length:0;if(D==1)for(var R=0;R<l;R++){var E=R*_,I=R*o;for(b=0;b<o;b++){x=I+b<<2;var T=3*(A=a[E+(b>>3)]>>7-((7&b)<<0)&1);S[x]=F[T],S[x+1]=F[T+1],S[x+2]=F[T+2],S[x+3]=A<K?H[A]:255}}if(D==2)for(R=0;R<l;R++)for(E=R*_,I=R*o,b=0;b<o;b++)x=I+b<<2,T=3*(A=a[E+(b>>2)]>>6-((3&b)<<1)&3),S[x]=F[T],S[x+1]=F[T+1],S[x+2]=F[T+2],S[x+3]=A<K?H[A]:255;if(D==4)for(R=0;R<l;R++)for(E=R*_,I=R*o,b=0;b<o;b++)x=I+b<<2,T=3*(A=a[E+(b>>1)]>>4-((1&b)<<2)&15),S[x]=F[T],S[x+1]=F[T+1],S[x+2]=F[T+2],S[x+3]=A<K?H[A]:255;if(D==8)for(b=0;b<m;b++){var A;x=b<<2,T=3*(A=a[b]),S[x]=F[T],S[x+1]=F[T+1],S[x+2]=F[T+2],S[x+3]=A<K?H[A]:255}}else if(k==4){if(D==8)for(b=0;b<m;b++){x=b<<2;var M=a[v=b<<1];S[x]=M,S[x+1]=M,S[x+2]=M,S[x+3]=a[v+1]}if(D==16)for(b=0;b<m;b++){var v;x=b<<2,M=a[v=b<<2],S[x]=M,S[x+1]=M,S[x+2]=M,S[x+3]=a[v+2]}}else if(k==0)for(g=u.tabs.tRNS?u.tabs.tRNS:-1,R=0;R<l;R++){const F=R*_,H=R*o;if(D==1)for(var p=0;p<o;p++){var L=(M=255*(a[F+(p>>>3)]>>>7-(7&p)&1))==255*g?0:255;U[H+p]=L<<24|M<<16|M<<8|M}else if(D==2)for(p=0;p<o;p++)L=(M=85*(a[F+(p>>>2)]>>>6-((3&p)<<1)&3))==85*g?0:255,U[H+p]=L<<24|M<<16|M<<8|M;else if(D==4)for(p=0;p<o;p++)L=(M=17*(a[F+(p>>>1)]>>>4-((1&p)<<2)&15))==17*g?0:255,U[H+p]=L<<24|M<<16|M<<8|M;else if(D==8)for(p=0;p<o;p++)L=(M=a[F+p])==g?0:255,U[H+p]=L<<24|M<<16|M<<8|M;else if(D==16)for(p=0;p<o;p++)M=a[F+(p<<1)],L=P(a,F+(p<<1))==g?0:255,U[H+p]=L<<24|M<<16|M<<8|M}return S}function c(a,o,l,u){const m=t(a),w=Math.ceil(l*m/8),_=new Uint8Array((w+1+a.interlace)*u);return o=a.tabs.CgBI?e(o,_):r(o,_),a.interlace==0?o=s(o,a,0,l,u):a.interlace==1&&(o=function(U,k){const D=k.width,P=k.height,b=t(k),O=b>>3,g=Math.ceil(D*b/8),x=new Uint8Array(P*g);let R=0;const E=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],T=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let M=0;for(;M<7;){const p=T[M],L=A[M];let F=0,H=0,K=E[M];for(;K<P;)K+=p,H++;let j=I[M];for(;j<D;)j+=L,F++;const z=Math.ceil(F*b/8);s(U,k,R,F,H);let B=0,N=E[M];for(;N<P;){let V=I[M],$=R+B*z<<3;for(;V<D;){var v;if(b==1&&(v=(v=U[$>>3])>>7-(7&$)&1,x[N*g+(V>>3)]|=v<<7-((7&V)<<0)),b==2&&(v=(v=U[$>>3])>>6-(7&$)&3,x[N*g+(V>>2)]|=v<<6-((3&V)<<1)),b==4&&(v=(v=U[$>>3])>>4-(7&$)&15,x[N*g+(V>>1)]|=v<<4-((1&V)<<2)),b>=8){const W=N*g+V*O;for(let G=0;G<O;G++)x[W+G]=U[($>>3)+G]}$+=b,V+=L}B++,N+=p}F*H!=0&&(R+=H*(1+z)),M+=1}return x}(o,a)),o}function r(a,o){return e(new Uint8Array(a.buffer,2,a.length-6),o)}var e=function(){const a={H:{}};return a.H.N=function(o,l){const u=Uint8Array;let m,w,_=0,S=0,U=0,k=0,D=0,P=0,b=0,O=0,g=0;if(o[0]==3&&o[1]==0)return l||new u(0);const x=a.H,R=x.b,E=x.e,I=x.R,T=x.n,A=x.A,M=x.Z,v=x.m,p=l==null;for(p&&(l=new u(o.length>>>2<<5));_==0;)if(_=R(o,g,1),S=R(o,g+1,2),g+=3,S!=0){if(p&&(l=a.H.W(l,O+(1<<17))),S==1&&(m=v.J,w=v.h,P=511,b=31),S==2){U=E(o,g,5)+257,k=E(o,g+5,5)+1,D=E(o,g+10,4)+4,g+=14;let F=1;for(var L=0;L<38;L+=2)v.Q[L]=0,v.Q[L+1]=0;for(L=0;L<D;L++){const j=E(o,g+3*L,3);v.Q[1+(v.X[L]<<1)]=j,j>F&&(F=j)}g+=3*D,T(v.Q,F),A(v.Q,F,v.u),m=v.w,w=v.d,g=I(v.u,(1<<F)-1,U+k,o,g,v.v);const H=x.V(v.v,0,U,v.C);P=(1<<H)-1;const K=x.V(v.v,U,k,v.D);b=(1<<K)-1,T(v.C,H),A(v.C,H,m),T(v.D,K),A(v.D,K,w)}for(;;){const F=m[M(o,g)&P];g+=15&F;const H=F>>>4;if(!(H>>>8))l[O++]=H;else{if(H==256)break;{let K=O+H-254;if(H>264){const V=v.q[H-257];K=O+(V>>>3)+E(o,g,7&V),g+=7&V}const j=w[M(o,g)&b];g+=15&j;const z=j>>>4,B=v.c[z],N=(B>>>4)+R(o,g,15&B);for(g+=15&B;O<K;)l[O]=l[O++-N],l[O]=l[O++-N],l[O]=l[O++-N],l[O]=l[O++-N];O=K}}}}else{(7&g)!=0&&(g+=8-(7&g));const F=4+(g>>>3),H=o[F-4]|o[F-3]<<8;p&&(l=a.H.W(l,O+H)),l.set(new u(o.buffer,o.byteOffset+F,H),O),g=F+H<<3,O+=H}return l.length==O?l:l.slice(0,O)},a.H.W=function(o,l){const u=o.length;if(l<=u)return o;const m=new Uint8Array(u<<1);return m.set(o,0),m},a.H.R=function(o,l,u,m,w,_){const S=a.H.e,U=a.H.Z;let k=0;for(;k<u;){const D=o[U(m,w)&l];w+=15&D;const P=D>>>4;if(P<=15)_[k]=P,k++;else{let b=0,O=0;P==16?(O=3+S(m,w,2),w+=2,b=_[k-1]):P==17?(O=3+S(m,w,3),w+=3):P==18&&(O=11+S(m,w,7),w+=7);const g=k+O;for(;k<g;)_[k]=b,k++}}return w},a.H.V=function(o,l,u,m){let w=0,_=0;const S=m.length>>>1;for(;_<u;){const U=o[_+l];m[_<<1]=0,m[1+(_<<1)]=U,U>w&&(w=U),_++}for(;_<S;)m[_<<1]=0,m[1+(_<<1)]=0,_++;return w},a.H.n=function(o,l){const u=a.H.m,m=o.length;let w,_,S,U;const k=u.j;for(var D=0;D<=l;D++)k[D]=0;for(D=1;D<m;D+=2)k[o[D]]++;const P=u.K;for(w=0,k[0]=0,_=1;_<=l;_++)w=w+k[_-1]<<1,P[_]=w;for(S=0;S<m;S+=2)U=o[S+1],U!=0&&(o[S]=P[U],P[U]++)},a.H.A=function(o,l,u){const m=o.length,w=a.H.m.r;for(let _=0;_<m;_+=2)if(o[_+1]!=0){const S=_>>1,U=o[_+1],k=S<<4|U,D=l-U;let P=o[_]<<D;const b=P+(1<<D);for(;P!=b;)u[w[P]>>>15-l]=k,P++}},a.H.l=function(o,l){const u=a.H.m.r,m=15-l;for(let w=0;w<o.length;w+=2){const _=o[w]<<l-o[w+1];o[w]=u[_]>>>m}},a.H.M=function(o,l,u){u<<=7&l;const m=l>>>3;o[m]|=u,o[m+1]|=u>>>8},a.H.I=function(o,l,u){u<<=7&l;const m=l>>>3;o[m]|=u,o[m+1]|=u>>>8,o[m+2]|=u>>>16},a.H.e=function(o,l,u){return(o[l>>>3]|o[1+(l>>>3)]<<8)>>>(7&l)&(1<<u)-1},a.H.b=function(o,l,u){return(o[l>>>3]|o[1+(l>>>3)]<<8|o[2+(l>>>3)]<<16)>>>(7&l)&(1<<u)-1},a.H.Z=function(o,l){return(o[l>>>3]|o[1+(l>>>3)]<<8|o[2+(l>>>3)]<<16)>>>(7&l)},a.H.i=function(o,l){return(o[l>>>3]|o[1+(l>>>3)]<<8|o[2+(l>>>3)]<<16|o[3+(l>>>3)]<<24)>>>(7&l)},a.H.m=function(){const o=Uint16Array,l=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new l(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new l(286),Y:new l(30),a:new l(19),t:new l(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=a.H.m;for(var l=0;l<32768;l++){let m=l;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,o.r[l]=(m>>>16|m<<16)>>>17}function u(m,w,_){for(;w--!=0;)m.push(0,_)}for(l=0;l<32;l++)o.q[l]=o.S[l]<<3|o.T[l],o.c[l]=o.p[l]<<4|o.z[l];u(o._,144,8),u(o._,112,9),u(o._,24,7),u(o._,8,8),a.H.n(o._,9),a.H.A(o._,9,o.J),a.H.l(o._,9),u(o.$,32,5),a.H.n(o.$,5),a.H.A(o.$,5,o.h),a.H.l(o.$,5),u(o.Q,19,0),u(o.C,286,0),u(o.D,30,0),u(o.v,320,0)}(),a.H.N}();function t(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function s(a,o,l,u,m){let w=t(o);const _=Math.ceil(u*w/8);let S,U;w=Math.ceil(w/8);let k=a[l],D=0;if(k>1&&(a[l]=[0,0,1][k-2]),k==3)for(D=w;D<_;D++)a[D+1]=a[D+1]+(a[D+1-w]>>>1)&255;for(let P=0;P<m;P++)if(S=l+P*_,U=S+P+1,k=a[U-1],D=0,k==0)for(;D<_;D++)a[S+D]=a[U+D];else if(k==1){for(;D<w;D++)a[S+D]=a[U+D];for(;D<_;D++)a[S+D]=a[U+D]+a[S+D-w]}else if(k==2)for(;D<_;D++)a[S+D]=a[U+D]+a[S+D-_];else if(k==3){for(;D<w;D++)a[S+D]=a[U+D]+(a[S+D-_]>>>1);for(;D<_;D++)a[S+D]=a[U+D]+(a[S+D-_]+a[S+D-w]>>>1)}else{for(;D<w;D++)a[S+D]=a[U+D]+i(0,a[S+D-_],0);for(;D<_;D++)a[S+D]=a[U+D]+i(a[S+D-w],a[S+D-_],a[S+D-w-_])}return a}function i(a,o,l){const u=a+o-l,m=u-a,w=u-o,_=u-l;return m*m<=w*w&&m*m<=_*_?a:w*w<=_*_?o:l}function f(a,o,l){l.width=n.readUint(a,o),o+=4,l.height=n.readUint(a,o),o+=4,l.depth=a[o],o++,l.ctype=a[o],o++,l.compress=a[o],o++,l.filter=a[o],o++,l.interlace=a[o],o++}function h(a,o,l,u,m,w,_,S,U){const k=Math.min(o,m),D=Math.min(l,w);let P=0,b=0;for(let M=0;M<D;M++)for(let v=0;v<k;v++)if(_>=0&&S>=0?(P=M*o+v<<2,b=(S+M)*m+_+v<<2):(P=(-S+M)*o-_+v<<2,b=M*m+v<<2),U==0)u[b]=a[P],u[b+1]=a[P+1],u[b+2]=a[P+2],u[b+3]=a[P+3];else if(U==1){var O=a[P+3]*.00392156862745098,g=a[P]*O,x=a[P+1]*O,R=a[P+2]*O,E=u[b+3]*(1/255),I=u[b]*E,T=u[b+1]*E,A=u[b+2]*E;const p=1-O,L=O+E*p,F=L==0?0:1/L;u[b+3]=255*L,u[b+0]=(g+I*p)*F,u[b+1]=(x+T*p)*F,u[b+2]=(R+A*p)*F}else if(U==2)O=a[P+3],g=a[P],x=a[P+1],R=a[P+2],E=u[b+3],I=u[b],T=u[b+1],A=u[b+2],O==E&&g==I&&x==T&&R==A?(u[b]=0,u[b+1]=0,u[b+2]=0,u[b+3]=0):(u[b]=g,u[b+1]=x,u[b+2]=R,u[b+3]=O);else if(U==3){if(O=a[P+3],g=a[P],x=a[P+1],R=a[P+2],E=u[b+3],I=u[b],T=u[b+1],A=u[b+2],O==E&&g==I&&x==T&&R==A)continue;if(O<220&&E>20)return!1}return!0}return{decode:function(o){const l=new Uint8Array(o);let u=8;const m=n,w=m.readUshort,_=m.readUint,S={tabs:{},frames:[]},U=new Uint8Array(l.length);let k,D=0,P=0;const b=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(l[O]!=b[O])throw"The input is not a PNG file!";for(;u<l.length;){const M=m.readUint(l,u);u+=4;const v=m.readASCII(l,u,4);if(u+=4,v=="IHDR")f(l,u,S);else if(v=="iCCP"){for(var g=u;l[g]!=0;)g++;m.readASCII(l,u,g-u),l[g+1];const p=l.slice(g+2,u+M);let L=null;try{L=r(p)}catch{L=e(p)}S.tabs[v]=L}else if(v=="CgBI")S.tabs[v]=l.slice(u,u+4);else if(v=="IDAT"){for(O=0;O<M;O++)U[D+O]=l[u+O];D+=M}else if(v=="acTL")S.tabs[v]={num_frames:_(l,u),num_plays:_(l,u+4)},k=new Uint8Array(l.length);else if(v=="fcTL"){P!=0&&((A=S.frames[S.frames.length-1]).data=c(S,k.slice(0,P),A.rect.width,A.rect.height),P=0);const p={x:_(l,u+12),y:_(l,u+16),width:_(l,u+4),height:_(l,u+8)};let L=w(l,u+22);L=w(l,u+20)/(L==0?100:L);const F={rect:p,delay:Math.round(1e3*L),dispose:l[u+24],blend:l[u+25]};S.frames.push(F)}else if(v=="fdAT"){for(O=0;O<M-4;O++)k[P+O]=l[u+O+4];P+=M-4}else if(v=="pHYs")S.tabs[v]=[m.readUint(l,u),m.readUint(l,u+4),l[u+8]];else if(v=="cHRM")for(S.tabs[v]=[],O=0;O<8;O++)S.tabs[v].push(m.readUint(l,u+4*O));else if(v=="tEXt"||v=="zTXt"){S.tabs[v]==null&&(S.tabs[v]={});var x=m.nextZero(l,u),R=m.readASCII(l,u,x-u),E=u+M-x-1;if(v=="tEXt")T=m.readASCII(l,x+1,E);else{var I=r(l.slice(x+2,x+2+E));T=m.readUTF8(I,0,I.length)}S.tabs[v][R]=T}else if(v=="iTXt"){S.tabs[v]==null&&(S.tabs[v]={}),x=0,g=u,x=m.nextZero(l,g),R=m.readASCII(l,g,x-g);const p=l[g=x+1];var T;l[g+1],g+=2,x=m.nextZero(l,g),m.readASCII(l,g,x-g),g=x+1,x=m.nextZero(l,g),m.readUTF8(l,g,x-g),E=M-((g=x+1)-u),p==0?T=m.readUTF8(l,g,E):(I=r(l.slice(g,g+E)),T=m.readUTF8(I,0,I.length)),S.tabs[v][R]=T}else if(v=="PLTE")S.tabs[v]=m.readBytes(l,u,M);else if(v=="hIST"){const p=S.tabs.PLTE.length/3;for(S.tabs[v]=[],O=0;O<p;O++)S.tabs[v].push(w(l,u+2*O))}else if(v=="tRNS")S.ctype==3?S.tabs[v]=m.readBytes(l,u,M):S.ctype==0?S.tabs[v]=w(l,u):S.ctype==2&&(S.tabs[v]=[w(l,u),w(l,u+2),w(l,u+4)]);else if(v=="gAMA")S.tabs[v]=m.readUint(l,u)/1e5;else if(v=="sRGB")S.tabs[v]=l[u];else if(v=="bKGD")S.ctype==0||S.ctype==4?S.tabs[v]=[w(l,u)]:S.ctype==2||S.ctype==6?S.tabs[v]=[w(l,u),w(l,u+2),w(l,u+4)]:S.ctype==3&&(S.tabs[v]=l[u]);else if(v=="IEND")break;u+=M,m.readUint(l,u),u+=4}var A;return P!=0&&((A=S.frames[S.frames.length-1]).data=c(S,k.slice(0,P),A.rect.width,A.rect.height)),S.data=c(S,U,S.width,S.height),delete S.compress,delete S.interlace,delete S.filter,S},toRGBA8:function(o){const l=o.width,u=o.height;if(o.tabs.acTL==null)return[d(o.data,l,u,o).buffer];const m=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const w=l*u*4,_=new Uint8Array(w),S=new Uint8Array(w),U=new Uint8Array(w);for(let D=0;D<o.frames.length;D++){const P=o.frames[D],b=P.rect.x,O=P.rect.y,g=P.rect.width,x=P.rect.height,R=d(P.data,g,x,o);if(D!=0)for(var k=0;k<w;k++)U[k]=_[k];if(P.blend==0?h(R,g,x,_,l,u,b,O,0):P.blend==1&&h(R,g,x,_,l,u,b,O,1),m.push(_.buffer.slice(0)),P.dispose!=0){if(P.dispose==1)h(S,g,x,_,l,u,b,O,0);else if(P.dispose==2)for(k=0;k<w;k++)_[k]=U[k]}}return m},_paeth:i,_copyTile:h,_bin:n}}();(function(){const{_copyTile:n}=Se,{_bin:d}=Se,c=Se._paeth;var r={table:function(){const g=new Uint32Array(256);for(let x=0;x<256;x++){let R=x;for(let E=0;E<8;E++)1&R?R=3988292384^R>>>1:R>>>=1;g[x]=R}return g}(),update(g,x,R,E){for(let I=0;I<E;I++)g=r.table[255&(g^x[R+I])]^g>>>8;return g},crc:(g,x,R)=>4294967295^r.update(4294967295,g,x,R)};function e(g,x,R,E){x[R]+=g[0]*E>>4,x[R+1]+=g[1]*E>>4,x[R+2]+=g[2]*E>>4,x[R+3]+=g[3]*E>>4}function t(g){return Math.max(0,Math.min(255,g))}function s(g,x){const R=g[0]-x[0],E=g[1]-x[1],I=g[2]-x[2],T=g[3]-x[3];return R*R+E*E+I*I+T*T}function i(g,x,R,E,I,T,A){A==null&&(A=1);const M=E.length,v=[];for(var p=0;p<M;p++){const N=E[p];v.push([N>>>0&255,N>>>8&255,N>>>16&255,N>>>24&255])}for(p=0;p<M;p++){let N=4294967295;for(var L=0,F=0;F<M;F++){var H=s(v[p],v[F]);F!=p&&H<N&&(N=H,L=F)}}const K=new Uint32Array(I.buffer),j=new Int16Array(x*R*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<z.length;p++)z[p]=255*((z[p]+.5)/16-.5);for(let N=0;N<R;N++)for(let V=0;V<x;V++){var B;p=4*(N*x+V),A!=2?B=[t(g[p]+j[p]),t(g[p+1]+j[p+1]),t(g[p+2]+j[p+2]),t(g[p+3]+j[p+3])]:(H=z[4*(3&N)+(3&V)],B=[t(g[p]+H),t(g[p+1]+H),t(g[p+2]+H),t(g[p+3]+H)]),L=0;let $=16777215;for(F=0;F<M;F++){const q=s(B,v[F]);q<$&&($=q,L=F)}const W=v[L],G=[B[0]-W[0],B[1]-W[1],B[2]-W[2],B[3]-W[3]];A==1&&(V!=x-1&&e(G,j,p+4,7),N!=R-1&&(V!=0&&e(G,j,p+4*x-4,3),e(G,j,p+4*x,5),V!=x-1&&e(G,j,p+4*x+4,1))),T[p>>2]=L,K[p>>2]=E[L]}}function f(g,x,R,E,I){I==null&&(I={});const{crc:T}=r,A=d.writeUint,M=d.writeUshort,v=d.writeASCII;let p=8;const L=g.frames.length>1;let F,H=!1,K=33+(L?20:0);if(I.sRGB!=null&&(K+=13),I.pHYs!=null&&(K+=21),I.iCCP!=null&&(F=pako.deflate(I.iCCP),K+=21+F.length+4),g.ctype==3){for(var j=g.plte.length,z=0;z<j;z++)g.plte[z]>>>24!=255&&(H=!0);K+=8+3*j+4+(H?8+1*j+4:0)}for(var B=0;B<g.frames.length;B++)L&&(K+=38),K+=(W=g.frames[B]).cimg.length+12,B!=0&&(K+=4);K+=12;const N=new Uint8Array(K),V=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)N[z]=V[z];if(A(N,p,13),p+=4,v(N,p,"IHDR"),p+=4,A(N,p,x),p+=4,A(N,p,R),p+=4,N[p]=g.depth,p++,N[p]=g.ctype,p++,N[p]=0,p++,N[p]=0,p++,N[p]=0,p++,A(N,p,T(N,p-17,17)),p+=4,I.sRGB!=null&&(A(N,p,1),p+=4,v(N,p,"sRGB"),p+=4,N[p]=I.sRGB,p++,A(N,p,T(N,p-5,5)),p+=4),I.iCCP!=null){const G=13+F.length;A(N,p,G),p+=4,v(N,p,"iCCP"),p+=4,v(N,p,"ICC profile"),p+=11,p+=2,N.set(F,p),p+=F.length,A(N,p,T(N,p-(G+4),G+4)),p+=4}if(I.pHYs!=null&&(A(N,p,9),p+=4,v(N,p,"pHYs"),p+=4,A(N,p,I.pHYs[0]),p+=4,A(N,p,I.pHYs[1]),p+=4,N[p]=I.pHYs[2],p++,A(N,p,T(N,p-13,13)),p+=4),L&&(A(N,p,8),p+=4,v(N,p,"acTL"),p+=4,A(N,p,g.frames.length),p+=4,A(N,p,I.loop!=null?I.loop:0),p+=4,A(N,p,T(N,p-12,12)),p+=4),g.ctype==3){for(A(N,p,3*(j=g.plte.length)),p+=4,v(N,p,"PLTE"),p+=4,z=0;z<j;z++){const G=3*z,q=g.plte[z],Q=255&q,Z=q>>>8&255,fe=q>>>16&255;N[p+G+0]=Q,N[p+G+1]=Z,N[p+G+2]=fe}if(p+=3*j,A(N,p,T(N,p-3*j-4,3*j+4)),p+=4,H){for(A(N,p,j),p+=4,v(N,p,"tRNS"),p+=4,z=0;z<j;z++)N[p+z]=g.plte[z]>>>24&255;p+=j,A(N,p,T(N,p-j-4,j+4)),p+=4}}let $=0;for(B=0;B<g.frames.length;B++){var W=g.frames[B];L&&(A(N,p,26),p+=4,v(N,p,"fcTL"),p+=4,A(N,p,$++),p+=4,A(N,p,W.rect.width),p+=4,A(N,p,W.rect.height),p+=4,A(N,p,W.rect.x),p+=4,A(N,p,W.rect.y),p+=4,M(N,p,E[B]),p+=2,M(N,p,1e3),p+=2,N[p]=W.dispose,p++,N[p]=W.blend,p++,A(N,p,T(N,p-30,30)),p+=4);const G=W.cimg;A(N,p,(j=G.length)+(B==0?0:4)),p+=4;const q=p;v(N,p,B==0?"IDAT":"fdAT"),p+=4,B!=0&&(A(N,p,$++),p+=4),N.set(G,p),p+=j,A(N,p,T(N,q,p-q)),p+=4}return A(N,p,0),p+=4,v(N,p,"IEND"),p+=4,A(N,p,T(N,p-4,4)),p+=4,N.buffer}function h(g,x,R){for(let E=0;E<g.frames.length;E++){const I=g.frames[E];I.rect.width;const T=I.rect.height,A=new Uint8Array(T*I.bpl+T);I.cimg=u(I.img,T,I.bpp,I.bpl,A,x,R)}}function a(g,x,R,E,I){const T=I[0],A=I[1],M=I[2],v=I[3],p=I[4],L=I[5];let F=6,H=8,K=255;for(var j=0;j<g.length;j++){const ae=new Uint8Array(g[j]);for(var z=ae.length,B=0;B<z;B+=4)K&=ae[B+3]}const N=K!=255,V=function(J,ne,ce,pe,ie,ve){const se=[];for(var re=0;re<J.length;re++){const he=new Uint8Array(J[re]),we=new Uint32Array(he.buffer);var xe;let be=0,Ie=0,_e=ne,Le=ce,Pt=pe?1:0;if(re!=0){const Ro=ve||pe||re==1||se[re-2].dispose!=0?1:2;let jt=0,mn=1e9;for(let et=0;et<Ro;et++){var Pe=new Uint8Array(J[re-1-et]);const Io=new Uint32Array(J[re-1-et]);let je=ne,Te=ce,Ge=-1,tt=-1;for(let Be=0;Be<ce;Be++)for(let He=0;He<ne;He++)we[de=Be*ne+He]!=Io[de]&&(He<je&&(je=He),He>Ge&&(Ge=He),Be<Te&&(Te=Be),Be>tt&&(tt=Be));Ge==-1&&(je=Te=Ge=tt=0),ie&&((1&je)==1&&je--,(1&Te)==1&&Te--);const gn=(Ge-je+1)*(tt-Te+1);gn<mn&&(mn=gn,jt=et,be=je,Ie=Te,_e=Ge-je+1,Le=tt-Te+1)}Pe=new Uint8Array(J[re-1-jt]),jt==1&&(se[re-1].dispose=2),xe=new Uint8Array(_e*Le*4),n(Pe,ne,ce,xe,_e,Le,-be,-Ie,0),Pt=n(he,ne,ce,xe,_e,Le,-be,-Ie,3)?1:0,Pt==1?l(he,ne,ce,xe,{x:be,y:Ie,width:_e,height:Le}):n(he,ne,ce,xe,_e,Le,-be,-Ie,0)}else xe=he.slice(0);se.push({rect:{x:be,y:Ie,width:_e,height:Le},img:xe,blend:Pt,dispose:0})}if(pe)for(re=0;re<se.length;re++){if((Ue=se[re]).blend==1)continue;const he=Ue.rect,we=se[re-1].rect,be=Math.min(he.x,we.x),Ie=Math.min(he.y,we.y),_e={x:be,y:Ie,width:Math.max(he.x+he.width,we.x+we.width)-be,height:Math.max(he.y+he.height,we.y+we.height)-Ie};se[re-1].dispose=1,re-1!=0&&o(J,ne,ce,se,re-1,_e,ie),o(J,ne,ce,se,re,_e,ie)}let ut=0;if(J.length!=1)for(var de=0;de<se.length;de++){var Ue;ut+=(Ue=se[de]).rect.width*Ue.rect.height}return se}(g,x,R,T,A,M),$={},W=[],G=[];if(E!=0){const ae=[];for(B=0;B<V.length;B++)ae.push(V[B].img.buffer);const J=function(ie){let ve=0;for(var se=0;se<ie.length;se++)ve+=ie[se].byteLength;const re=new Uint8Array(ve);let xe=0;for(se=0;se<ie.length;se++){const Pe=new Uint8Array(ie[se]),ut=Pe.length;for(let de=0;de<ut;de+=4){let Ue=Pe[de],he=Pe[de+1],we=Pe[de+2];const be=Pe[de+3];be==0&&(Ue=he=we=0),re[xe+de]=Ue,re[xe+de+1]=he,re[xe+de+2]=we,re[xe+de+3]=be}xe+=ut}return re.buffer}(ae),ne=w(J,E);for(B=0;B<ne.plte.length;B++)W.push(ne.plte[B].est.rgba);let ce=0;for(B=0;B<V.length;B++){const pe=(Q=V[B]).img.length;var q=new Uint8Array(ne.inds.buffer,ce>>2,pe>>2);G.push(q);const ie=new Uint8Array(ne.abuf,ce,pe);L&&i(Q.img,Q.rect.width,Q.rect.height,W,ie,q),Q.img.set(ie),ce+=pe}}else for(j=0;j<V.length;j++){var Q=V[j];const ae=new Uint32Array(Q.img.buffer);var Z=Q.rect.width;for(z=ae.length,q=new Uint8Array(z),G.push(q),B=0;B<z;B++){const J=ae[B];if(B!=0&&J==ae[B-1])q[B]=q[B-1];else if(B>Z&&J==ae[B-Z])q[B]=q[B-Z];else{let ne=$[J];if(ne==null&&($[J]=ne=W.length,W.push(J),W.length>=300))break;q[B]=ne}}}const fe=W.length;for(fe<=256&&p==0&&(H=fe<=2?1:fe<=4?2:fe<=16?4:8,H=Math.max(H,v)),j=0;j<V.length;j++){(Q=V[j]).rect.x,Q.rect.y,Z=Q.rect.width;const ae=Q.rect.height;let J=Q.img;new Uint32Array(J.buffer);let ne=4*Z,ce=4;if(fe<=256&&p==0){ne=Math.ceil(H*Z/8);var le=new Uint8Array(ne*ae);const pe=G[j];for(let ie=0;ie<ae;ie++){B=ie*ne;const ve=ie*Z;if(H==8)for(var ee=0;ee<Z;ee++)le[B+ee]=pe[ve+ee];else if(H==4)for(ee=0;ee<Z;ee++)le[B+(ee>>1)]|=pe[ve+ee]<<4-4*(1&ee);else if(H==2)for(ee=0;ee<Z;ee++)le[B+(ee>>2)]|=pe[ve+ee]<<6-2*(3&ee);else if(H==1)for(ee=0;ee<Z;ee++)le[B+(ee>>3)]|=pe[ve+ee]<<7-1*(7&ee)}J=le,F=3,ce=1}else if(N==0&&V.length==1){le=new Uint8Array(Z*ae*3);const pe=Z*ae;for(B=0;B<pe;B++){const ie=3*B,ve=4*B;le[ie]=J[ve],le[ie+1]=J[ve+1],le[ie+2]=J[ve+2]}J=le,F=2,ce=3,ne=3*Z}Q.img=J,Q.bpl=ne,Q.bpp=ce}return{ctype:F,depth:H,plte:W,frames:V}}function o(g,x,R,E,I,T,A){const M=Uint8Array,v=Uint32Array,p=new M(g[I-1]),L=new v(g[I-1]),F=I+1<g.length?new M(g[I+1]):null,H=new M(g[I]),K=new v(H.buffer);let j=x,z=R,B=-1,N=-1;for(let $=0;$<T.height;$++)for(let W=0;W<T.width;W++){const G=T.x+W,q=T.y+$,Q=q*x+G,Z=K[Q];Z==0||E[I-1].dispose==0&&L[Q]==Z&&(F==null||F[4*Q+3]!=0)||(G<j&&(j=G),G>B&&(B=G),q<z&&(z=q),q>N&&(N=q))}B==-1&&(j=z=B=N=0),A&&((1&j)==1&&j--,(1&z)==1&&z--),T={x:j,y:z,width:B-j+1,height:N-z+1};const V=E[I];V.rect=T,V.blend=1,V.img=new Uint8Array(T.width*T.height*4),E[I-1].dispose==0?(n(p,x,R,V.img,T.width,T.height,-T.x,-T.y,0),l(H,x,R,V.img,T)):n(H,x,R,V.img,T.width,T.height,-T.x,-T.y,0)}function l(g,x,R,E,I){n(g,x,R,E,I.width,I.height,-I.x,-I.y,2)}function u(g,x,R,E,I,T,A){const M=[];let v,p=[0,1,2,3,4];T!=-1?p=[T]:(x*E>5e5||R==1)&&(p=[0]),A&&(v={level:0});const L=Xi;for(var F=0;F<p.length;F++){for(let j=0;j<x;j++)m(I,g,j,E,R,p[F]);M.push(L.deflate(I,v))}let H,K=1e9;for(F=0;F<M.length;F++)M[F].length<K&&(H=F,K=M[F].length);return M[H]}function m(g,x,R,E,I,T){const A=R*E;let M=A+R;if(g[M]=T,M++,T==0)if(E<500)for(var v=0;v<E;v++)g[M+v]=x[A+v];else g.set(new Uint8Array(x.buffer,A,E),M);else if(T==1){for(v=0;v<I;v++)g[M+v]=x[A+v];for(v=I;v<E;v++)g[M+v]=x[A+v]-x[A+v-I]+256&255}else if(R==0){for(v=0;v<I;v++)g[M+v]=x[A+v];if(T==2)for(v=I;v<E;v++)g[M+v]=x[A+v];if(T==3)for(v=I;v<E;v++)g[M+v]=x[A+v]-(x[A+v-I]>>1)+256&255;if(T==4)for(v=I;v<E;v++)g[M+v]=x[A+v]-c(x[A+v-I],0,0)+256&255}else{if(T==2)for(v=0;v<E;v++)g[M+v]=x[A+v]+256-x[A+v-E]&255;if(T==3){for(v=0;v<I;v++)g[M+v]=x[A+v]+256-(x[A+v-E]>>1)&255;for(v=I;v<E;v++)g[M+v]=x[A+v]+256-(x[A+v-E]+x[A+v-I]>>1)&255}if(T==4){for(v=0;v<I;v++)g[M+v]=x[A+v]+256-c(0,x[A+v-E],0)&255;for(v=I;v<E;v++)g[M+v]=x[A+v]+256-c(x[A+v-I],x[A+v-E],x[A+v-I-E])&255}}}function w(g,x){const R=new Uint8Array(g),E=R.slice(0),I=new Uint32Array(E.buffer),T=_(E,x),A=T[0],M=T[1],v=R.length,p=new Uint8Array(v>>2);let L;if(R.length<2e7)for(var F=0;F<v;F+=4)L=S(A,H=R[F]*(1/255),K=R[F+1]*(1/255),j=R[F+2]*(1/255),z=R[F+3]*(1/255)),p[F>>2]=L.ind,I[F>>2]=L.est.rgba;else for(F=0;F<v;F+=4){var H=R[F]*.00392156862745098,K=R[F+1]*(1/255),j=R[F+2]*(1/255),z=R[F+3]*(1/255);for(L=A;L.left;)L=U(L.est,H,K,j,z)<=0?L.left:L.right;p[F>>2]=L.ind,I[F>>2]=L.est.rgba}return{abuf:E.buffer,inds:p,plte:M}}function _(g,x,R){R==null&&(R=1e-4);const E=new Uint32Array(g.buffer),I={i0:0,i1:g.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=P(g,I.i0,I.i1),I.est=b(I.bst);const T=[I];for(;T.length<x;){let M=0,v=0;for(var A=0;A<T.length;A++)T[A].est.L>M&&(M=T[A].est.L,v=A);if(M<R)break;const p=T[v],L=k(g,E,p.i0,p.i1,p.est.e,p.est.eMq255);if(p.i0>=L||p.i1<=L){p.est.L=0;continue}const F={i0:p.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};F.bst=P(g,F.i0,F.i1),F.est=b(F.bst);const H={i0:L,i1:p.i1,bst:null,est:null,tdst:0,left:null,right:null};for(H.bst={R:[],m:[],N:p.bst.N-F.bst.N},A=0;A<16;A++)H.bst.R[A]=p.bst.R[A]-F.bst.R[A];for(A=0;A<4;A++)H.bst.m[A]=p.bst.m[A]-F.bst.m[A];H.est=b(H.bst),p.left=F,p.right=H,T[v]=F,T.push(H)}for(T.sort((M,v)=>v.bst.N-M.bst.N),A=0;A<T.length;A++)T[A].ind=A;return[I,T]}function S(g,x,R,E,I){if(g.left==null)return g.tdst=function(F,H,K,j,z){const B=H-F[0],N=K-F[1],V=j-F[2],$=z-F[3];return B*B+N*N+V*V+$*$}(g.est.q,x,R,E,I),g;const T=U(g.est,x,R,E,I);let A=g.left,M=g.right;T>0&&(A=g.right,M=g.left);const v=S(A,x,R,E,I);if(v.tdst<=T*T)return v;const p=S(M,x,R,E,I);return p.tdst<v.tdst?p:v}function U(g,x,R,E,I){const{e:T}=g;return T[0]*x+T[1]*R+T[2]*E+T[3]*I-g.eMq}function k(g,x,R,E,I,T){for(E-=4;R<E;){for(;D(g,R,I)<=T;)R+=4;for(;D(g,E,I)>T;)E-=4;if(R>=E)break;const A=x[R>>2];x[R>>2]=x[E>>2],x[E>>2]=A,R+=4,E-=4}for(;D(g,R,I)>T;)R-=4;return R+4}function D(g,x,R){return g[x]*R[0]+g[x+1]*R[1]+g[x+2]*R[2]+g[x+3]*R[3]}function P(g,x,R){const E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],T=R-x>>2;for(let A=x;A<R;A+=4){const M=g[A]*.00392156862745098,v=g[A+1]*(1/255),p=g[A+2]*(1/255),L=g[A+3]*(1/255);I[0]+=M,I[1]+=v,I[2]+=p,I[3]+=L,E[0]+=M*M,E[1]+=M*v,E[2]+=M*p,E[3]+=M*L,E[5]+=v*v,E[6]+=v*p,E[7]+=v*L,E[10]+=p*p,E[11]+=p*L,E[15]+=L*L}return E[4]=E[1],E[8]=E[2],E[9]=E[6],E[12]=E[3],E[13]=E[7],E[14]=E[11],{R:E,m:I,N:T}}function b(g){const{R:x}=g,{m:R}=g,{N:E}=g,I=R[0],T=R[1],A=R[2],M=R[3],v=E==0?0:1/E,p=[x[0]-I*I*v,x[1]-I*T*v,x[2]-I*A*v,x[3]-I*M*v,x[4]-T*I*v,x[5]-T*T*v,x[6]-T*A*v,x[7]-T*M*v,x[8]-A*I*v,x[9]-A*T*v,x[10]-A*A*v,x[11]-A*M*v,x[12]-M*I*v,x[13]-M*T*v,x[14]-M*A*v,x[15]-M*M*v],L=p,F=O;let H=[Math.random(),Math.random(),Math.random(),Math.random()],K=0,j=0;if(E!=0)for(let B=0;B<16&&(H=F.multVec(L,H),j=Math.sqrt(F.dot(H,H)),H=F.sml(1/j,H),!(B!=0&&Math.abs(j-K)<1e-9));B++)K=j;const z=[I*v,T*v,A*v,M*v];return{Cov:p,q:z,e:H,L:K,eMq255:F.dot(F.sml(255,z),H),eMq:F.dot(H,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var O={multVec:(g,x)=>[g[0]*x[0]+g[1]*x[1]+g[2]*x[2]+g[3]*x[3],g[4]*x[0]+g[5]*x[1]+g[6]*x[2]+g[7]*x[3],g[8]*x[0]+g[9]*x[1]+g[10]*x[2]+g[11]*x[3],g[12]*x[0]+g[13]*x[1]+g[14]*x[2]+g[15]*x[3]],dot:(g,x)=>g[0]*x[0]+g[1]*x[1]+g[2]*x[2]+g[3]*x[3],sml:(g,x)=>[g*x[0],g*x[1],g*x[2],g*x[3]]};Se.encode=function(x,R,E,I,T,A,M){I==null&&(I=0),M==null&&(M=!1);const v=a(x,R,E,I,[!1,!1,!1,0,M,!1]);return h(v,-1),f(v,R,E,T,A)},Se.encodeLL=function(x,R,E,I,T,A,M,v){const p={ctype:0+(I==1?0:2)+(T==0?0:4),depth:A,frames:[]},L=(I+T)*A,F=L*R;for(let H=0;H<x.length;H++)p.frames.push({rect:{x:0,y:0,width:R,height:E},img:new Uint8Array(x[H]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil(F/8)});return h(p,0,!0),f(p,R,E,M,v)},Se.encode.compress=a,Se.encode.dither=i,Se.quantize=w,Se.quantize.getKDtree=_,Se.quantize.getNearest=S})();const go={toArrayBuffer(n,d){const c=n.width,r=n.height,e=c<<2,t=n.getContext("2d").getImageData(0,0,c,r),s=new Uint32Array(t.data.buffer),i=(32*c+31)/32<<2,f=i*r,h=122+f,a=new ArrayBuffer(h),o=new DataView(a),l=1<<20;let u,m,w,_,S=l,U=0,k=0,D=0;function P(g){o.setUint16(k,g,!0),k+=2}function b(g){o.setUint32(k,g,!0),k+=4}function O(g){k+=g}P(19778),b(h),O(4),b(122),b(108),b(c),b(-r>>>0),P(1),P(32),b(3),b(f),b(2835),b(2835),O(8),b(16711680),b(65280),b(255),b(4278190080),b(1466527264),function g(){for(;U<r&&S>0;){for(_=122+U*i,u=0;u<e;)S--,m=s[D++],w=m>>>24,o.setUint32(_+u,m<<8|w),u+=4;U++}D<s.length?(S=l,setTimeout(g,go._dly)):d(a)}()},toBlob(n,d){this.toArrayBuffer(n,c=>{d(new Blob([c],{type:"image/bmp"}))})},_dly:9};var me={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ji={[me.CHROME]:16384,[me.FIREFOX]:11180,[me.DESKTOP_SAFARI]:16384,[me.IE]:8192,[me.IOS]:4096,[me.ETC]:8192};const pn=typeof window<"u",vo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,vt=pn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),es=(pn||vo)&&(vt&&vt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),xo=(pn||vo)&&(vt&&vt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function hn(n,d,c=Date.now()){return new Promise(r=>{const e=n.split(","),t=e[0].match(/:(.*?);/)[1],s=globalThis.atob(e[1]);let i=s.length;const f=new Uint8Array(i);for(;i--;)f[i]=s.charCodeAt(i);const h=new Blob([f],{type:t});h.name=d,h.lastModified=c,r(h)})}function yo(n){return new Promise((d,c)=>{const r=new xo;r.onload=()=>d(r.result),r.onerror=e=>c(e),r.readAsDataURL(n)})}function bo(n){return new Promise((d,c)=>{const r=new Image;r.onload=()=>d(r),r.onerror=e=>c(e),r.src=n})}function ze(){if(ze.cachedResult!==void 0)return ze.cachedResult;let n=me.ETC;const{userAgent:d}=navigator;return/Chrom(e|ium)/i.test(d)?n=me.CHROME:/iP(ad|od|hone)/i.test(d)&&/WebKit/i.test(d)?n=me.IOS:/Safari/i.test(d)?n=me.DESKTOP_SAFARI:/Firefox/i.test(d)?n=me.FIREFOX:(/MSIE/i.test(d)||document.documentMode)&&(n=me.IE),ze.cachedResult=n,ze.cachedResult}function wo(n,d){const c=ze(),r=Ji[c];let e=n,t=d,s=e*t;const i=e>t?t/e:e/t;for(;s>r*r;){const f=(r+e)/2,h=(r+t)/2;f<h?(t=h,e=h*i):(t=f*i,e=f),s=e*t}return{width:e,height:t}}function Nt(n,d){let c,r;try{if(c=new OffscreenCanvas(n,d),r=c.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{c=document.createElement("canvas"),r=c.getContext("2d")}return c.width=n,c.height=d,[c,r]}function So(n,d){const{width:c,height:r}=wo(n.width,n.height),[e,t]=Nt(c,r);return d&&/jpe?g/.test(d)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(n,0,0,e.width,e.height),e}function ft(){return ft.cachedResult!==void 0||(ft.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ft.cachedResult}function xt(n,d={}){return new Promise(function(c,r){let e,t;var s=function(){try{return t=So(e,d.fileType||n.type),c([e,t])}catch(f){return r(f)}},i=function(f){try{var h=function(a){try{throw a}catch(o){return r(o)}};try{let a;return yo(n).then(function(o){try{return a=o,bo(a).then(function(l){try{return e=l,function(){try{return s()}catch(u){return r(u)}}()}catch(u){return h(u)}},h)}catch(l){return h(l)}},h)}catch(a){h(a)}}catch(a){return r(a)}};try{if(ft()||[me.DESKTOP_SAFARI,me.MOBILE_SAFARI].includes(ze()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(f){try{return e=f,s()}catch{return i()}},i)}catch{i()}})}function yt(n,d,c,r,e=1){return new Promise(function(t,s){let i;if(d==="image/png"){let h,a,o;return h=n.getContext("2d"),{data:a}=h.getImageData(0,0,n.width,n.height),o=Se.encode([a.buffer],n.width,n.height,4096*e),i=new Blob([o],{type:d}),i.name=c,i.lastModified=r,f.call(this)}{let h=function(){return f.call(this)};if(d==="image/bmp")return new Promise(a=>go.toBlob(n,a)).then((function(a){try{return i=a,i.name=c,i.lastModified=r,h.call(this)}catch(o){return s(o)}}).bind(this),s);{let a=function(){return h.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:d,quality:e}).then((function(o){try{return i=o,i.name=c,i.lastModified=r,a.call(this)}catch(l){return s(l)}}).bind(this),s);{let o;return o=n.toDataURL(d,e),hn(o,c,r).then((function(l){try{return i=l,a.call(this)}catch(u){return s(u)}}).bind(this),s)}}}function f(){return t(i)}})}function Re(n){n.width=0,n.height=0}function Ze(){return new Promise(function(n,d){let c,r,e,t;return Ze.cachedResult!==void 0?n(Ze.cachedResult):hn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return c=s,xt(c).then(function(i){try{return r=i[1],yt(r,c.type,c.name,c.lastModified).then(function(f){try{return e=f,Re(r),xt(e).then(function(h){try{return t=h[0],Ze.cachedResult=t.width===1&&t.height===2,n(Ze.cachedResult)}catch(a){return d(a)}},d)}catch(h){return d(h)}},d)}catch(f){return d(f)}},d)}catch(i){return d(i)}},d)})}function Co(n){return new Promise((d,c)=>{const r=new xo;r.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return d(-2);const s=t.byteLength;let i=2;for(;i<s;){if(t.getUint16(i+2,!1)<=8)return d(-1);const f=t.getUint16(i,!1);if(i+=2,f==65505){if(t.getUint32(i+=2,!1)!=1165519206)return d(-1);const h=t.getUint16(i+=6,!1)==18761;i+=t.getUint32(i+4,h);const a=t.getUint16(i,h);i+=2;for(let o=0;o<a;o++)if(t.getUint16(i+12*o,h)==274)return d(t.getUint16(i+12*o+8,h))}else{if((65280&f)!=65280)break;i+=t.getUint16(i,!1)}}return d(-1)},r.onerror=e=>c(e),r.readAsArrayBuffer(n)})}function Ao(n,d){const{width:c}=n,{height:r}=n,{maxWidthOrHeight:e}=d;let t,s=n;return isFinite(e)&&(c>e||r>e)&&([s,t]=Nt(c,r),c>r?(s.width=e,s.height=r/c*e):(s.width=c/r*e,s.height=e),t.drawImage(n,0,0,s.width,s.height),Re(n)),s}function _o(n,d){const{width:c}=n,{height:r}=n,[e,t]=Nt(c,r);switch(d>4&&d<9?(e.width=r,e.height=c):(e.width=c,e.height=r),d){case 2:t.transform(-1,0,0,1,c,0);break;case 3:t.transform(-1,0,0,-1,c,r);break;case 4:t.transform(1,0,0,-1,0,r);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,r,0);break;case 7:t.transform(0,-1,-1,0,r,c);break;case 8:t.transform(0,-1,1,0,0,c)}return t.drawImage(n,0,0,c,r),Re(n),e}function _n(n,d,c=0){return new Promise(function(r,e){let t,s,i,f,h,a,o,l,u,m,w,_,S,U,k,D,P,b,O,g;function x(E=5){if(d.signal&&d.signal.aborted)throw d.signal.reason;t+=E,d.onProgress(Math.min(t,100))}function R(E){if(d.signal&&d.signal.aborted)throw d.signal.reason;t=Math.min(Math.max(E,t),100),d.onProgress(t)}return t=c,s=d.maxIteration||10,i=1024*d.maxSizeMB*1024,x(),xt(n,d).then((function(E){try{return[,f]=E,x(),h=Ao(f,d),x(),new Promise(function(I,T){var A;if(!(A=d.exifOrientation))return Co(n).then((function(v){try{return A=v,M.call(this)}catch(p){return T(p)}}).bind(this),T);function M(){return I(A)}return M.call(this)}).then((function(I){try{return a=I,x(),Ze().then((function(T){try{return o=T?h:_o(h,a),x(),l=d.initialQuality||1,u=d.fileType||n.type,yt(o,u,n.name,n.lastModified,l).then((function(A){try{{let v=function(){if(s--&&(k>i||k>S)){let L,F;return L=g?.95*O.width:O.width,F=g?.95*O.height:O.height,[P,b]=Nt(L,F),b.drawImage(O,0,0,L,F),l*=u==="image/png"?.85:.95,yt(P,u,n.name,n.lastModified,l).then(function(H){try{return D=H,Re(O),O=P,k=D.size,R(Math.min(99,Math.floor((U-k)/(U-i)*100))),v}catch(K){return e(K)}},e)}return[1]},p=function(){return Re(O),Re(P),Re(h),Re(o),Re(f),R(100),r(D)};if(m=A,x(),w=m.size>i,_=m.size>n.size,!w&&!_)return R(100),r(m);var M;return S=n.size,U=m.size,k=U,O=o,g=!d.alwaysKeepResolution&&w,(M=(function(L){for(;L;){if(L.then)return void L.then(M,e);try{if(L.pop){if(L.length)return L.pop()?p.call(this):L;L=v}else L=L.call(this)}catch(F){return e(F)}}}).bind(this))(v)}}catch(v){return e(v)}}).bind(this),e)}catch(A){return e(A)}}).bind(this),e)}catch(T){return e(T)}}).bind(this),e)}catch(I){return e(I)}}).bind(this),e)})}const ts=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let kt;function ns(n,d){return new Promise((c,r)=>{kt||(kt=function(s){const i=[];return i.push(s),URL.createObjectURL(new Blob(i))}(ts));const e=new Worker(kt);e.addEventListener("message",function(s){if(d.signal&&d.signal.aborted)e.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void e.terminate();c(s.data.file),e.terminate()}else d.onProgress(s.data.progress)}),e.addEventListener("error",r),d.signal&&d.signal.addEventListener("abort",()=>{r(d.signal.reason),e.terminate()}),e.postMessage({file:n,imageCompressionLibUrl:d.libURL,options:{...d,onProgress:void 0,signal:void 0}})})}function ue(n,d){return new Promise(function(c,r){let e,t,s,i,f,h;if(e={...d},s=0,{onProgress:i}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=u=>{s=u,typeof i=="function"&&i(s)},!(n instanceof Blob||n instanceof es))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||h)return _n(n,e).then((function(u){try{return t=u,l.call(this)}catch(m){return r(m)}}).bind(this),r);var a=(function(){try{return l.call(this)}catch(u){return r(u)}}).bind(this),o=function(u){try{return _n(n,e).then(function(m){try{return t=m,a()}catch(w){return r(w)}},r)}catch(m){return r(m)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ns(n,e).then(function(u){try{return t=u,a()}catch{return o()}},o)}catch{o()}function l(){try{t.name=n.name,t.lastModified=n.lastModified}catch{}try{e.preserveExif&&n.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===n.type)&&(t=mo(n,t))}catch{}return c(t)}})}ue.getDataUrlFromFile=yo,ue.getFilefromDataUrl=hn,ue.loadImage=bo,ue.drawImageInCanvas=So,ue.drawFileInCanvas=xt,ue.canvasToFile=yt,ue.getExifOrientation=Co,ue.handleMaxWidthOrHeight=Ao,ue.followExifOrientation=_o,ue.cleanupCanvasMemory=Re,ue.isAutoOrientationInBrowser=Ze,ue.approximateBelowMaximumCanvasSizeOfBrowser=wo,ue.copyExifWithoutOrientation=mo,ue.getBrowserName=ze,ue.version="2.0.2";function rs({recipeId:n,pendingKey:d,onUploadedJSON:c}){const[r,e]=C.useState(null),[t,s]=C.useState(!1),[i,f]=C.useState(null),h=async o=>{if(o)try{const u=await ue(o,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0});console.log(`Original: ${(o.size/1024/1024).toFixed(2)} MB â†’ Komprimiert: ${(u.size/1024/1024).toFixed(2)} MB`),e(u)}catch(l){console.error("Fehler bei der Bildkompression:",l),f("Bild konnte nicht komprimiert werden.")}},a=async()=>{if(r){s(!0),f(null);try{const o=new FormData;o.append("file",r),o.append("collection","recipe_images"),n&&o.append("recipe_id",n),d&&o.append("pending_key",d);const l=await(window.axios?.post?.("/upload",o,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},withCredentials:!0})??fetch("/upload",{method:"POST",body:o,headers:{Accept:"application/json"},credentials:"include"}));if(l&&"data"in l)c?.(l.data.media);else if(l instanceof Response){const u=await l.json();c?.(u.media)}e(null)}catch(o){f(o?.response?.data?.message||"Upload fehlgeschlagen")}finally{s(!1)}}};return y.jsxs("div",{className:"flex flex-col gap-3",onKeyDown:o=>{o.key==="Enter"&&o.preventDefault()},tabIndex:0,children:[y.jsxs("label",{className:"relative w-full flex flex-col items-center justify-center py-6 text-center border-2 border-dashed border-primary rounded-md hover:cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:[y.jsx(Dn,{className:"text-primary text-4xl"}),y.jsx("span",{className:"mt-2 text-sm text-gray-500",children:"Bild auswÃ¤hlen"}),y.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/png,image/jpeg,image/jpg",onChange:o=>h(o.target.files?.[0]||null)})]}),r&&y.jsxs("div",{className:"text-sm text-gray-600",children:["Datei bereit: ",y.jsx("strong",{children:r.name})," (",(r.size/1024/1024).toFixed(2)," MB)"]}),y.jsx(Ne,{type:"button",onClick:a,disabled:t||!r,variant:"primary",className:"w-full hover:cursor-pointer",children:t?"LÃ¤dtâ€¦":"Bild hochladen"}),i&&y.jsx("span",{className:"text-red-500 text-sm",children:i})]})}var qt=(n=>(n.EINFACH="einfach",n.MITTEL="mittel",n.SCHWER="schwer",n))(qt||{}),Eo=(n=>(n.DASH="Dash/Spritzel",n.ML="ml",n.CL="cl",n.L="L",n.GR="gr",n.KG="kg",n.SP="TL",n.TS="EL",n.BT="Prise",n.CUP="Tasse",n.PIECE="StÃ¼ck",n.CAN="Dose",n.PACKAGE="Paket",n.BOTTLE="Flasche",n))(Eo||{});function xs({recipe:n,ingredients:d,className:c}){const[r,e]=C.useState(1),[t]=C.useState(()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)),[s,i]=C.useState([]),[f,h]=C.useState(n?.media??[]),{data:a,setData:o,post:l,processing:u,errors:m,reset:w}=No({id:n?.id??null,name:n?.name??"",slug:n?.slug??"",punchline:n?.punchline??"",description:n?.description??"",difficulty:n?.difficulty??"einfach",rating:Number(n?.rating??5),preparation_time:Number(n?.preparation_time??15),preparation_instructions:n?.preparation_instructions??"",pending_key:n?null:t,primary_media_id:n?.media?.find(P=>P?.pivot?.is_primary)?.id??null,recipe_ingredients:n?.ingredients?.map(P=>({ingredient_id:P.id,quantity:P.pivot?.quantity??"",unit:P.pivot?.unit??"gr"}))??[]}),_=()=>{o("recipe_ingredients",[...a.recipe_ingredients,{ingredient_id:"",quantity:"",unit:"gr"}])},S=(P,b,O)=>{const g=[...a.recipe_ingredients];g[P][b]=O,o("recipe_ingredients",g)},U=P=>{const b=[...a.recipe_ingredients];b.splice(P,1),o("recipe_ingredients",b)},k=!((a.name?.trim()?.length??0)<3||(a.description?.trim()?.length??0)<10),D=P=>{P.preventDefault(),n?Po.post(route("recipes.update",{recipe:n.id}),{...a,_method:"put"},{forceFormData:!0,onSuccess:()=>w(),preserveScroll:!0}):l(route("recipes.store"),{forceFormData:!0,onSuccess:()=>w(),preserveScroll:!0})};return y.jsxs("form",{onSubmit:D,className:te("flex flex-col",c),children:[y.jsxs("ol",{className:"flex items-center justify-between text-sm",children:[y.jsx("li",{className:te("flex-1",r>=1?"font-semibold text-primary":"text-slate-400"),children:"1 Â· Basics"}),y.jsx("li",{className:te("flex-1 text-center",r>=2?"font-semibold text-primary":"text-slate-400"),children:"2 Â· Zutaten"}),y.jsx("li",{className:te("flex-1 text-right",r>=3?"font-semibold text-primary":"text-slate-400"),children:"3 Â· Bilder & Abschluss"})]}),y.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),!k&&y.jsx("div",{className:"border border-sky-400 bg-sky-200 text-sm text-sky-700 px-4 py-3 mb-4 rounded relative",role:"alert",children:y.jsx("p",{className:"text-sm",children:"Bitte bei Name mindestens 3 Zeichen und Beschreibung mindestens 10 Zeichen ausfÃ¼llen."})}),r===1&&y.jsxs("section",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(Ee,{htmlFor:"name",value:"Name"}),y.jsx(nt,{id:"name",type:"text",value:a.name,placeholder:"z.B. OfengemÃ¼se mit Kartoffeln",className:"mt-1 w-full",isFocused:!0,onChange:P=>o("name",P.target.value)}),m.name&&y.jsx("p",{className:"text-red-500",children:m.name})]}),y.jsxs("div",{children:[y.jsx(Ee,{htmlFor:"punchline",value:"Punchline"}),y.jsx(nt,{id:"punchline",type:"text",value:a.punchline,placeholder:"z.B. Mediterran und frisch",className:"mt-1 w-full",onChange:P=>o("punchline",P.target.value)}),m.punchline&&y.jsx("p",{className:"text-red-500",children:m.punchline})]}),y.jsxs("div",{children:[y.jsx(Ee,{htmlFor:"description",value:"Beschreibung"}),y.jsx(Ot,{value:a.description,rows:5,placeholder:"z.B. Schnell und lecker fÃ¼r die ganze Familie...",className:"mt-1 w-full rounded-lg border border-gray-400 px-3 py-2",onChange:P=>o("description",P.target.value)}),m.description&&y.jsx("p",{className:"text-red-500",children:m.description})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx(Ee,{htmlFor:"preparation_time",value:"Zubereitungszeit"}),y.jsxs("div",{className:"flex items-end",children:[y.jsx(nt,{id:"preparation_time",type:"number",min:0,step:5,max:600,value:a.preparation_time,placeholder:"0",className:"mt-1 flex-1 rounded-none border-r-0 border-gray-200 rounded-tl-lg rounded-bl-lg",onChange:P=>o("preparation_time",Number(P.target.value))}),y.jsx("span",{className:"px-3 py-2 border border-l-0 rounded-r-lg border-gray-400",children:"Minuten"})]}),y.jsx(Cr,{defaultValue:[a.preparation_time],max:240,step:5,className:"my-5",onValueChange:P=>o("preparation_time",P[0])}),m.preparation_time&&y.jsx("p",{className:"text-red-500",children:m.preparation_time})]}),y.jsxs("div",{children:[y.jsx(Ee,{htmlFor:"rating",value:"Bewertung"}),y.jsx(nt,{id:"rating",type:"number",min:1,max:5,value:a.rating,onChange:P=>o("rating",Number(P.target.value)),className:"mt-1 w-full"}),m.rating&&y.jsx("p",{className:"text-red-500",children:m.rating})]}),y.jsxs("div",{children:[y.jsx(Ee,{htmlFor:"difficulty",value:"Schwierigkeitsgrad"}),y.jsxs(vn,{name:"difficulty",value:a.difficulty??qt.EINFACH,onValueChange:P=>o("difficulty",P),children:[y.jsx(yn,{className:"w-full mt-1 py-2",children:y.jsx(xn,{placeholder:"Schwierigkeitsgrad"})}),y.jsx(bn,{children:Object.entries(qt).map(([P,b])=>y.jsx(wn,{value:b,children:b},P))})]}),m.difficulty&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.difficulty})]})]}),y.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),y.jsx("div",{className:"flex justify-end gap-2",children:y.jsx(Ne,{type:"button",variant:"primaryOutline",onClick:()=>e(2),disabled:!k,children:"Weiter"})})]}),r===2&&y.jsxs("section",{className:"space-y-4",children:[y.jsx(Ee,{htmlFor:"ingredients",value:"Zutatenliste bearbeiten"}),a.recipe_ingredients?.map((P,b)=>y.jsxs("div",{className:"flex flex-row justify-start gap-2 items-start mb-3",children:[y.jsx(nt,{placeholder:"Menge",value:P.quantity,className:"w-full md:w-28",type:"number",onChange:O=>S(b,"quantity",O.target.value)}),y.jsxs(vn,{value:P.unit,onValueChange:O=>S(b,"unit",O),children:[y.jsx(yn,{className:"w-full md:w-28 mt-1 py-2",children:y.jsx(xn,{placeholder:"Einheit auswÃ¤hlen"})}),y.jsx(bn,{children:Object.entries(Eo).map(([O,g])=>y.jsx(wn,{value:g,children:g},O))})]}),y.jsx(qi,{options:d,value:P.ingredient_id,triggerClassName:"w-96 md:w-full mt-1",onChange:O=>S(b,"ingredient_id",O)}),y.jsx(Ne,{variant:"destructive",className:"mt-1.5 hover:cursor-pointer",size:"sm",type:"button",onClick:()=>U(b),children:y.jsx(ko,{})})]},b)),y.jsxs(Ne,{type:"button",onClick:_,className:"hover:cursor-pointer",children:[y.jsx(Dn,{})," Zutat hinzufÃ¼gen"]}),y.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),y.jsxs("div",{className:"flex justify-between gap-2",children:[y.jsx(Ne,{type:"button",variant:"primaryOutline",onClick:()=>e(1),children:"ZurÃ¼ck"}),y.jsx(Ne,{type:"button",variant:"primaryOutline",onClick:()=>e(3),children:"Weiter"})]})]}),r===3&&y.jsxs("section",{className:"space-y-5",children:[y.jsxs("div",{className:"w-full space-y-3",children:[y.jsx(Ee,{htmlFor:"mediaUpload",value:"Bilder hochladen"}),y.jsx(rs,{recipeId:n?.id,pendingKey:n?void 0:t,onUploadedJSON:P=>{n?h(b=>[...b,P]):i(b=>[...b,P]),a.primary_media_id||o("primary_media_id",P.id)}})]}),y.jsxs("div",{className:"w-full space-y-3",children:[y.jsx(Ee,{htmlFor:"media",value:"Bilder zum Gericht"}),y.jsx("div",{className:"flex flex-wrap gap-3",children:(n?f:s).length>0?(n?f:s).map(P=>y.jsxs("label",{className:"relative w-48 rounded-lg aspect-video border overflow-hidden bg-gray-100 cursor-pointer",children:[y.jsx("img",{src:P.url??`/storage/${P.path}`,alt:P.name,className:" object-cover"}),y.jsx("input",{type:"radio",name:"primary_media_id",value:P.id,checked:a.primary_media_id===P.id,onChange:()=>o("primary_media_id",P.id),className:"absolute top-1 left-1",title:"Als Hauptbild auswÃ¤hlen"}),a.primary_media_id===P.id&&y.jsx("span",{className:"absolute bottom-1 left-1 text-[10px] bg-black/60 text-white px-1 rounded",children:"Aktuell"})]},P.id)):y.jsx("p",{className:"text-sm text-gray-500",children:"Noch keine Bilder vorhanden."})})]}),y.jsxs("div",{className:"w-full space-y-3",children:[y.jsx(Ee,{htmlFor:"preparation_instructions",value:"Zubereitung, so geht'sâ€¦"}),y.jsx(Ot,{id:"preparation_instructions",value:a.preparation_instructions,rows:5,placeholder:"Beschreibung der Zubereitung",className:"mt-1 w-full rounded-lg border border-gray-400 px-3 py-2",onChange:P=>o("preparation_instructions",P.target.value)}),m.preparation_instructions&&y.jsx("p",{className:"text-red-500",children:m.preparation_instructions})]}),y.jsx("hr",{className:"my-5 bg-gray-300 dark:bg-gray-700"}),y.jsxs("div",{className:"flex justify-between gap-2",children:[y.jsx(Ne,{type:"button",variant:"primaryOutline",onClick:()=>e(2),children:"ZurÃ¼ck"}),y.jsx(Ne,{type:"submit",variant:"primary",disabled:u,className:"w-48",children:n?"Speichern":"Erstellen"})]})]})]})}export{xs as R};
